const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-rr-r0XYR.js","assets/v4-CtRu48qb.js","assets/index-BJhdqYV0.js"])))=>i.map(i=>d[i]);
var iE=Object.defineProperty;var sE=(n,e,t)=>e in n?iE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var or=(n,e,t)=>sE(n,typeof e!="symbol"?e+"":e,t);function k1(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function eo(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function wd(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),t}var mf={exports:{}},fl={},yf={exports:{}},Je={},Vy;function oE(){if(Vy)return Je;Vy=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),_=Symbol.iterator;function k(M){return M===null||typeof M!="object"?null:(M=_&&M[_]||M["@@iterator"],typeof M=="function"?M:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,C={};function T(M,g,y){this.props=M,this.context=g,this.refs=C,this.updater=y||S}T.prototype.isReactComponent={},T.prototype.setState=function(M,g){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,g,"setState")},T.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function z(){}z.prototype=T.prototype;function F(M,g,y){this.props=M,this.context=g,this.refs=C,this.updater=y||S}var U=F.prototype=new z;U.constructor=F,N(U,T.prototype),U.isPureReactComponent=!0;var G=Array.isArray,te=Object.prototype.hasOwnProperty,X={current:null},de={key:!0,ref:!0,__self:!0,__source:!0};function le(M,g,y){var j,W={},J=null,se=null;if(g!=null)for(j in g.ref!==void 0&&(se=g.ref),g.key!==void 0&&(J=""+g.key),g)te.call(g,j)&&!de.hasOwnProperty(j)&&(W[j]=g[j]);var ge=arguments.length-2;if(ge===1)W.children=y;else if(1<ge){for(var ye=Array(ge),qe=0;qe<ge;qe++)ye[qe]=arguments[qe+2];W.children=ye}if(M&&M.defaultProps)for(j in ge=M.defaultProps,ge)W[j]===void 0&&(W[j]=ge[j]);return{$$typeof:n,type:M,key:J,ref:se,props:W,_owner:X.current}}function K(M,g){return{$$typeof:n,type:M.type,key:g,ref:M.ref,props:M.props,_owner:M._owner}}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function Y(M){var g={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(y){return g[y]})}var Q=/\/+/g;function I(M,g){return typeof M=="object"&&M!==null&&M.key!=null?Y(""+M.key):g.toString(36)}function f(M,g,y,j,W){var J=typeof M;(J==="undefined"||J==="boolean")&&(M=null);var se=!1;if(M===null)se=!0;else switch(J){case"string":case"number":se=!0;break;case"object":switch(M.$$typeof){case n:case e:se=!0}}if(se)return se=M,W=W(se),M=j===""?"."+I(se,0):j,G(W)?(y="",M!=null&&(y=M.replace(Q,"$&/")+"/"),f(W,g,y,"",function(qe){return qe})):W!=null&&(V(W)&&(W=K(W,y+(!W.key||se&&se.key===W.key?"":(""+W.key).replace(Q,"$&/")+"/")+M)),g.push(W)),1;if(se=0,j=j===""?".":j+":",G(M))for(var ge=0;ge<M.length;ge++){J=M[ge];var ye=j+I(J,ge);se+=f(J,g,y,ye,W)}else if(ye=k(M),typeof ye=="function")for(M=ye.call(M),ge=0;!(J=M.next()).done;)J=J.value,ye=j+I(J,ge++),se+=f(J,g,y,ye,W);else if(J==="object")throw g=String(M),Error("Objects are not valid as a React child (found: "+(g==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":g)+"). If you meant to render a collection of children, use an array instead.");return se}function v(M,g,y){if(M==null)return M;var j=[],W=0;return f(M,j,"","",function(J){return g.call(y,J,W++)}),j}function R(M){if(M._status===-1){var g=M._result;g=g(),g.then(function(y){(M._status===0||M._status===-1)&&(M._status=1,M._result=y)},function(y){(M._status===0||M._status===-1)&&(M._status=2,M._result=y)}),M._status===-1&&(M._status=0,M._result=g)}if(M._status===1)return M._result.default;throw M._result}var P={current:null},B={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:B,ReactCurrentOwner:X};function $(){throw Error("act(...) is not supported in production builds of React.")}return Je.Children={map:v,forEach:function(M,g,y){v(M,function(){g.apply(this,arguments)},y)},count:function(M){var g=0;return v(M,function(){g++}),g},toArray:function(M){return v(M,function(g){return g})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Je.Component=T,Je.Fragment=t,Je.Profiler=s,Je.PureComponent=F,Je.StrictMode=r,Je.Suspense=d,Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,Je.act=$,Je.cloneElement=function(M,g,y){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var j=N({},M.props),W=M.key,J=M.ref,se=M._owner;if(g!=null){if(g.ref!==void 0&&(J=g.ref,se=X.current),g.key!==void 0&&(W=""+g.key),M.type&&M.type.defaultProps)var ge=M.type.defaultProps;for(ye in g)te.call(g,ye)&&!de.hasOwnProperty(ye)&&(j[ye]=g[ye]===void 0&&ge!==void 0?ge[ye]:g[ye])}var ye=arguments.length-2;if(ye===1)j.children=y;else if(1<ye){ge=Array(ye);for(var qe=0;qe<ye;qe++)ge[qe]=arguments[qe+2];j.children=ge}return{$$typeof:n,type:M.type,key:W,ref:J,props:j,_owner:se}},Je.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:o,_context:M},M.Consumer=M},Je.createElement=le,Je.createFactory=function(M){var g=le.bind(null,M);return g.type=M,g},Je.createRef=function(){return{current:null}},Je.forwardRef=function(M){return{$$typeof:u,render:M}},Je.isValidElement=V,Je.lazy=function(M){return{$$typeof:w,_payload:{_status:-1,_result:M},_init:R}},Je.memo=function(M,g){return{$$typeof:p,type:M,compare:g===void 0?null:g}},Je.startTransition=function(M){var g=B.transition;B.transition={};try{M()}finally{B.transition=g}},Je.unstable_act=$,Je.useCallback=function(M,g){return P.current.useCallback(M,g)},Je.useContext=function(M){return P.current.useContext(M)},Je.useDebugValue=function(){},Je.useDeferredValue=function(M){return P.current.useDeferredValue(M)},Je.useEffect=function(M,g){return P.current.useEffect(M,g)},Je.useId=function(){return P.current.useId()},Je.useImperativeHandle=function(M,g,y){return P.current.useImperativeHandle(M,g,y)},Je.useInsertionEffect=function(M,g){return P.current.useInsertionEffect(M,g)},Je.useLayoutEffect=function(M,g){return P.current.useLayoutEffect(M,g)},Je.useMemo=function(M,g){return P.current.useMemo(M,g)},Je.useReducer=function(M,g,y){return P.current.useReducer(M,g,y)},Je.useRef=function(M){return P.current.useRef(M)},Je.useState=function(M){return P.current.useState(M)},Je.useSyncExternalStore=function(M,g,y){return P.current.useSyncExternalStore(M,g,y)},Je.useTransition=function(){return P.current.useTransition()},Je.version="18.3.1",Je}var Hy;function Pp(){return Hy||(Hy=1,yf.exports=oE()),yf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function aE(){if(Gy)return fl;Gy=1;var n=Pp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,p){var w,_={},k=null,S=null;p!==void 0&&(k=""+p),d.key!==void 0&&(k=""+d.key),d.ref!==void 0&&(S=d.ref);for(w in d)r.call(d,w)&&!o.hasOwnProperty(w)&&(_[w]=d[w]);if(u&&u.defaultProps)for(w in d=u.defaultProps,d)_[w]===void 0&&(_[w]=d[w]);return{$$typeof:e,type:u,key:k,ref:S,props:_,_owner:s.current}}return fl.Fragment=t,fl.jsx=l,fl.jsxs=l,fl}var Yy;function lE(){return Yy||(Yy=1,mf.exports=aE()),mf.exports}var A=lE(),ie=Pp();const _e=eo(ie),cE=k1({__proto__:null,default:_e},[ie]);var nu={},wf={exports:{}},sn={},vf={exports:{}},bf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function uE(){return Zy||(Zy=1,(function(n){function e(B,D){var $=B.length;B.push(D);e:for(;0<$;){var M=$-1>>>1,g=B[M];if(0<s(g,D))B[M]=D,B[$]=g,$=M;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var D=B[0],$=B.pop();if($!==D){B[0]=$;e:for(var M=0,g=B.length,y=g>>>1;M<y;){var j=2*(M+1)-1,W=B[j],J=j+1,se=B[J];if(0>s(W,$))J<g&&0>s(se,W)?(B[M]=se,B[J]=$,M=J):(B[M]=W,B[j]=$,M=j);else if(J<g&&0>s(se,$))B[M]=se,B[J]=$,M=J;else break e}}return D}function s(B,D){var $=B.sortIndex-D.sortIndex;return $!==0?$:B.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],p=[],w=1,_=null,k=3,S=!1,N=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(B){for(var D=t(p);D!==null;){if(D.callback===null)r(p);else if(D.startTime<=B)r(p),D.sortIndex=D.expirationTime,e(d,D);else break;D=t(p)}}function G(B){if(C=!1,U(B),!N)if(t(d)!==null)N=!0,R(te);else{var D=t(p);D!==null&&P(G,D.startTime-B)}}function te(B,D){N=!1,C&&(C=!1,z(le),le=-1),S=!0;var $=k;try{for(U(D),_=t(d);_!==null&&(!(_.expirationTime>D)||B&&!Y());){var M=_.callback;if(typeof M=="function"){_.callback=null,k=_.priorityLevel;var g=M(_.expirationTime<=D);D=n.unstable_now(),typeof g=="function"?_.callback=g:_===t(d)&&r(d),U(D)}else r(d);_=t(d)}if(_!==null)var y=!0;else{var j=t(p);j!==null&&P(G,j.startTime-D),y=!1}return y}finally{_=null,k=$,S=!1}}var X=!1,de=null,le=-1,K=5,V=-1;function Y(){return!(n.unstable_now()-V<K)}function Q(){if(de!==null){var B=n.unstable_now();V=B;var D=!0;try{D=de(!0,B)}finally{D?I():(X=!1,de=null)}}else X=!1}var I;if(typeof F=="function")I=function(){F(Q)};else if(typeof MessageChannel<"u"){var f=new MessageChannel,v=f.port2;f.port1.onmessage=Q,I=function(){v.postMessage(null)}}else I=function(){T(Q,0)};function R(B){de=B,X||(X=!0,I())}function P(B,D){le=T(function(){B(n.unstable_now())},D)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){N||S||(N=!0,R(te))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return k},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(B){switch(k){case 1:case 2:case 3:var D=3;break;default:D=k}var $=k;k=D;try{return B()}finally{k=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,D){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=k;k=B;try{return D()}finally{k=$}},n.unstable_scheduleCallback=function(B,D,$){var M=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?M+$:M):$=M,B){case 1:var g=-1;break;case 2:g=250;break;case 5:g=1073741823;break;case 4:g=1e4;break;default:g=5e3}return g=$+g,B={id:w++,callback:D,priorityLevel:B,startTime:$,expirationTime:g,sortIndex:-1},$>M?(B.sortIndex=$,e(p,B),t(d)===null&&B===t(p)&&(C?(z(le),le=-1):C=!0,P(G,$-M))):(B.sortIndex=g,e(d,B),N||S||(N=!0,R(te))),B},n.unstable_shouldYield=Y,n.unstable_wrapCallback=function(B){var D=k;return function(){var $=k;k=D;try{return B.apply(this,arguments)}finally{k=$}}}})(bf)),bf}var Qy;function dE(){return Qy||(Qy=1,vf.exports=uE()),vf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function hE(){if(Jy)return sn;Jy=1;var n=Pp(),e=dE();function t(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(s[i]=a,i=0;i<a.length;i++)r.add(a[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},_={};function k(i){return d.call(_,i)?!0:d.call(w,i)?!1:p.test(i)?_[i]=!0:(w[i]=!0,!1)}function S(i,a,c,h){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function N(i,a,c,h){if(a===null||typeof a>"u"||S(i,a,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function C(i,a,c,h,m,b,L){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=i,this.type=a,this.sanitizeURL=b,this.removeEmptyString=L}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){T[i]=new C(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];T[a]=new C(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){T[i]=new C(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){T[i]=new C(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){T[i]=new C(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){T[i]=new C(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){T[i]=new C(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){T[i]=new C(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){T[i]=new C(i,5,!1,i.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function F(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(z,F);T[a]=new C(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(z,F);T[a]=new C(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(z,F);T[a]=new C(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){T[i]=new C(i,1,!1,i.toLowerCase(),null,!1,!1)}),T.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){T[i]=new C(i,1,!1,i.toLowerCase(),null,!0,!0)});function U(i,a,c,h){var m=T.hasOwnProperty(a)?T[a]:null;(m!==null?m.type!==0:h||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(N(a,c,m,h)&&(c=null),h||m===null?k(a)&&(c===null?i.removeAttribute(a):i.setAttribute(a,""+c)):m.mustUseProperty?i[m.propertyName]=c===null?m.type===3?!1:"":c:(a=m.attributeName,h=m.attributeNamespace,c===null?i.removeAttribute(a):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,h?i.setAttributeNS(h,a,c):i.setAttribute(a,c))))}var G=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),X=Symbol.for("react.portal"),de=Symbol.for("react.fragment"),le=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),Y=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),B=Symbol.iterator;function D(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var $=Object.assign,M;function g(i){if(M===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);M=a&&a[1]||""}return`
`+M+i}var y=!1;function j(i,a){if(!i||y)return"";y=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(fe){var h=fe}Reflect.construct(i,[],a)}else{try{a.call()}catch(fe){h=fe}i.call(a.prototype)}else{try{throw Error()}catch(fe){h=fe}i()}}catch(fe){if(fe&&h&&typeof fe.stack=="string"){for(var m=fe.stack.split(`
`),b=h.stack.split(`
`),L=m.length-1,H=b.length-1;1<=L&&0<=H&&m[L]!==b[H];)H--;for(;1<=L&&0<=H;L--,H--)if(m[L]!==b[H]){if(L!==1||H!==1)do if(L--,H--,0>H||m[L]!==b[H]){var ee=`
`+m[L].replace(" at new "," at ");return i.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",i.displayName)),ee}while(1<=L&&0<=H);break}}}finally{y=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?g(i):""}function W(i){switch(i.tag){case 5:return g(i.type);case 16:return g("Lazy");case 13:return g("Suspense");case 19:return g("SuspenseList");case 0:case 2:case 15:return i=j(i.type,!1),i;case 11:return i=j(i.type.render,!1),i;case 1:return i=j(i.type,!0),i;default:return""}}function J(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case de:return"Fragment";case X:return"Portal";case K:return"Profiler";case le:return"StrictMode";case I:return"Suspense";case f:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Y:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case Q:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case v:return a=i.displayName||null,a!==null?a:J(i.type)||"Memo";case R:a=i._payload,i=i._init;try{return J(i(a))}catch{}}return null}function se(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J(a);case 8:return a===le?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ge(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ye(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function qe(i){var a=ye(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),h=""+i[a];if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,b=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return m.call(this)},set:function(L){h=""+L,b.call(this,L)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(L){h=""+L},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function et(i){i._valueTracker||(i._valueTracker=qe(i))}function ot(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return i&&(h=ye(i)?i.checked?"true":"false":i.value),i=h,i!==c?(a.setValue(i),!0):!1}function Sr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function st(i,a){var c=a.checked;return $({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function St(i,a){var c=a.defaultValue==null?"":a.defaultValue,h=a.checked!=null?a.checked:a.defaultChecked;c=ge(a.value!=null?a.value:c),i._wrapperState={initialChecked:h,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ps(i,a){a=a.checked,a!=null&&U(i,"checked",a,!1)}function ht(i,a){ps(i,a);var c=ge(a.value),h=a.type;if(c!=null)h==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?Ei(i,a.type,c):a.hasOwnProperty("defaultValue")&&Ei(i,a.type,ge(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function Et(i,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var h=a.type;if(!(h!=="submit"&&h!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,c||a===i.value||(i.value=a),i.defaultValue=a}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function Ei(i,a,c){(a!=="number"||Sr(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var at=Array.isArray;function rt(i,a,c,h){if(i=i.options,a){a={};for(var m=0;m<c.length;m++)a["$"+c[m]]=!0;for(c=0;c<i.length;c++)m=a.hasOwnProperty("$"+i[c].value),i[c].selected!==m&&(i[c].selected=m),m&&h&&(i[c].defaultSelected=!0)}else{for(c=""+ge(c),a=null,m=0;m<i.length;m++){if(i[m].value===c){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}a!==null||i[m].disabled||(a=i[m])}a!==null&&(a.selected=!0)}}function Er(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return $({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ft(i,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(at(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}i._wrapperState={initialValue:ge(c)}}function kt(i,a){var c=ge(a.value),h=ge(a.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),a.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),h!=null&&(i.defaultValue=""+h)}function Qr(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function At(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function O(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?At(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var x,E=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,h,m){MSApp.execUnsafeLocalFunction(function(){return i(a,c,h,m)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(x=x||document.createElement("div"),x.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=x.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function q(i,a){if(a){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=a;return}}i.textContent=a}var re={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oe=["Webkit","ms","Moz","O"];Object.keys(re).forEach(function(i){oe.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),re[a]=re[i]})});function pe(i,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||re.hasOwnProperty(i)&&re[i]?(""+a).trim():a+"px"}function Ge(i,a){i=i.style;for(var c in a)if(a.hasOwnProperty(c)){var h=c.indexOf("--")===0,m=pe(c,a[c],h);c==="float"&&(c="cssFloat"),h?i.setProperty(c,m):i[c]=m}}var He=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ke(i,a){if(a){if(He[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function lt(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var De=null;function Ct(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var uo=null,pt=null,gt=null;function Ea(i){if(i=Ja(i)){if(typeof uo!="function")throw Error(t(280));var a=i.stateNode;a&&(a=wc(a),uo(i.stateNode,i.type,a))}}function Dt(i){pt?gt?gt.push(i):gt=[i]:pt=i}function zt(){if(pt){var i=pt,a=gt;if(gt=pt=null,Ea(i),a)for(i=0;i<a.length;i++)Ea(a[i])}}function ka(i,a){return i(a)}function Ft(){}var Rt=!1;function Aa(i,a,c){if(Rt)return i(a,c);Rt=!0;try{return ka(i,a,c)}finally{Rt=!1,(pt!==null||gt!==null)&&(Ft(),zt())}}function yt(i,a){var c=i.stateNode;if(c===null)return null;var h=wc(c);if(h===null)return null;c=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var jt=!1;if(u)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){jt=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{jt=!1}function Zt(i,a,c,h,m,b,L,H,ee){var fe=Array.prototype.slice.call(arguments,3);try{a.apply(c,fe)}catch(ve){this.onError(ve)}}var wt=!1,gs=null,Mt=!1,Lt=null,Xl={onError:function(i){wt=!0,gs=i}};function Qt(i,a,c,h,m,b,L,H,ee){wt=!1,gs=null,Zt.apply(Xl,arguments)}function Jt(i,a,c,h,m,b,L,H,ee){if(Qt.apply(this,arguments),wt){if(wt){var fe=gs;wt=!1,gs=null}else throw Error(t(198));Mt||(Mt=!0,Lt=fe)}}function $n(i){var a=i,c=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(c=a.return),i=a.return;while(i)}return a.tag===3?c:null}function Wt(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function $t(i){if($n(i)!==i)throw Error(t(188))}function Ma(i){var a=i.alternate;if(!a){if(a=$n(i),a===null)throw Error(t(188));return a!==i?null:i}for(var c=i,h=a;;){var m=c.return;if(m===null)break;var b=m.alternate;if(b===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===c)return $t(m),i;if(b===h)return $t(m),a;b=b.sibling}throw Error(t(188))}if(c.return!==h.return)c=m,h=b;else{for(var L=!1,H=m.child;H;){if(H===c){L=!0,c=m,h=b;break}if(H===h){L=!0,h=m,c=b;break}H=H.sibling}if(!L){for(H=b.child;H;){if(H===c){L=!0,c=b,h=m;break}if(H===h){L=!0,h=b,c=m;break}H=H.sibling}if(!L)throw Error(t(189))}}if(c.alternate!==h)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?i:a}function ho(i){return i=Ma(i),i!==null?fo(i):null}function fo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=fo(i);if(a!==null)return a;i=i.sibling}return null}var po=e.unstable_scheduleCallback,go=e.unstable_cancelCallback,Ia=e.unstable_shouldYield,Na=e.unstable_requestPaint,It=e.unstable_now,Ta=e.unstable_getCurrentPriorityLevel,ms=e.unstable_ImmediatePriority,mo=e.unstable_UserBlockingPriority,Ai=e.unstable_NormalPriority,Ca=e.unstable_LowPriority,yo=e.unstable_IdlePriority,Mi=null,Jr=null;function Ra(i){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(Mi,i,void 0,(i.current.flags&128)===128)}catch{}}var Vr=Math.clz32?Math.clz32:__,ja=Math.log,x_=Math.LN2;function __(i){return i>>>=0,i===0?32:31-(ja(i)/x_|0)|0}var ec=64,tc=4194304;function La(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function rc(i,a){var c=i.pendingLanes;if(c===0)return 0;var h=0,m=i.suspendedLanes,b=i.pingedLanes,L=c&268435455;if(L!==0){var H=L&~m;H!==0?h=La(H):(b&=L,b!==0&&(h=La(b)))}else L=c&~m,L!==0?h=La(L):b!==0&&(h=La(b));if(h===0)return 0;if(a!==0&&a!==h&&(a&m)===0&&(m=h&-h,b=a&-a,m>=b||m===16&&(b&4194240)!==0))return a;if((h&4)!==0&&(h|=c&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=h;0<a;)c=31-Vr(a),m=1<<c,h|=i[c],a&=~m;return h}function S_(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E_(i,a){for(var c=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,b=i.pendingLanes;0<b;){var L=31-Vr(b),H=1<<L,ee=m[L];ee===-1?((H&c)===0||(H&h)!==0)&&(m[L]=S_(H,a)):ee<=a&&(i.expiredLanes|=H),b&=~H}}function Od(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Sg(){var i=ec;return ec<<=1,(ec&4194240)===0&&(ec=64),i}function Pd(i){for(var a=[],c=0;31>c;c++)a.push(i);return a}function Ba(i,a,c){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-Vr(a),i[a]=c}function k_(i,a){var c=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<c;){var m=31-Vr(c),b=1<<m;a[m]=0,h[m]=-1,i[m]=-1,c&=~b}}function Ud(i,a){var c=i.entangledLanes|=a;for(i=i.entanglements;c;){var h=31-Vr(c),m=1<<h;m&a|i[h]&a&&(i[h]|=a),c&=~m}}var ct=0;function Eg(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var kg,Dd,Ag,Mg,Ig,zd=!1,nc=[],Ii=null,Ni=null,Ti=null,Oa=new Map,Pa=new Map,Ci=[],A_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ng(i,a){switch(i){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":Oa.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pa.delete(a.pointerId)}}function Ua(i,a,c,h,m,b){return i===null||i.nativeEvent!==b?(i={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:b,targetContainers:[m]},a!==null&&(a=Ja(a),a!==null&&Dd(a)),i):(i.eventSystemFlags|=h,a=i.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),i)}function M_(i,a,c,h,m){switch(a){case"focusin":return Ii=Ua(Ii,i,a,c,h,m),!0;case"dragenter":return Ni=Ua(Ni,i,a,c,h,m),!0;case"mouseover":return Ti=Ua(Ti,i,a,c,h,m),!0;case"pointerover":var b=m.pointerId;return Oa.set(b,Ua(Oa.get(b)||null,i,a,c,h,m)),!0;case"gotpointercapture":return b=m.pointerId,Pa.set(b,Ua(Pa.get(b)||null,i,a,c,h,m)),!0}return!1}function Tg(i){var a=ys(i.target);if(a!==null){var c=$n(a);if(c!==null){if(a=c.tag,a===13){if(a=Wt(c),a!==null){i.blockedOn=a,Ig(i.priority,function(){Ag(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ic(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var c=Wd(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);De=h,c.target.dispatchEvent(h),De=null}else return a=Ja(c),a!==null&&Dd(a),i.blockedOn=c,!1;a.shift()}return!0}function Cg(i,a,c){ic(i)&&c.delete(a)}function I_(){zd=!1,Ii!==null&&ic(Ii)&&(Ii=null),Ni!==null&&ic(Ni)&&(Ni=null),Ti!==null&&ic(Ti)&&(Ti=null),Oa.forEach(Cg),Pa.forEach(Cg)}function Da(i,a){i.blockedOn===a&&(i.blockedOn=null,zd||(zd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,I_)))}function za(i){function a(m){return Da(m,i)}if(0<nc.length){Da(nc[0],i);for(var c=1;c<nc.length;c++){var h=nc[c];h.blockedOn===i&&(h.blockedOn=null)}}for(Ii!==null&&Da(Ii,i),Ni!==null&&Da(Ni,i),Ti!==null&&Da(Ti,i),Oa.forEach(a),Pa.forEach(a),c=0;c<Ci.length;c++)h=Ci[c],h.blockedOn===i&&(h.blockedOn=null);for(;0<Ci.length&&(c=Ci[0],c.blockedOn===null);)Tg(c),c.blockedOn===null&&Ci.shift()}var wo=G.ReactCurrentBatchConfig,sc=!0;function N_(i,a,c,h){var m=ct,b=wo.transition;wo.transition=null;try{ct=1,Fd(i,a,c,h)}finally{ct=m,wo.transition=b}}function T_(i,a,c,h){var m=ct,b=wo.transition;wo.transition=null;try{ct=4,Fd(i,a,c,h)}finally{ct=m,wo.transition=b}}function Fd(i,a,c,h){if(sc){var m=Wd(i,a,c,h);if(m===null)sh(i,a,h,oc,c),Ng(i,h);else if(M_(m,i,a,c,h))h.stopPropagation();else if(Ng(i,h),a&4&&-1<A_.indexOf(i)){for(;m!==null;){var b=Ja(m);if(b!==null&&kg(b),b=Wd(i,a,c,h),b===null&&sh(i,a,h,oc,c),b===m)break;m=b}m!==null&&h.stopPropagation()}else sh(i,a,h,null,c)}}var oc=null;function Wd(i,a,c,h){if(oc=null,i=Ct(h),i=ys(i),i!==null)if(a=$n(i),a===null)i=null;else if(c=a.tag,c===13){if(i=Wt(a),i!==null)return i;i=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return oc=i,null}function Rg(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ta()){case ms:return 1;case mo:return 4;case Ai:case Ca:return 16;case yo:return 536870912;default:return 16}default:return 16}}var Ri=null,$d=null,ac=null;function jg(){if(ac)return ac;var i,a=$d,c=a.length,h,m="value"in Ri?Ri.value:Ri.textContent,b=m.length;for(i=0;i<c&&a[i]===m[i];i++);var L=c-i;for(h=1;h<=L&&a[c-h]===m[b-h];h++);return ac=m.slice(i,1<h?1-h:void 0)}function lc(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function cc(){return!0}function Lg(){return!1}function ln(i){function a(c,h,m,b,L){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=b,this.target=L,this.currentTarget=null;for(var H in i)i.hasOwnProperty(H)&&(c=i[H],this[H]=c?c(b):b[H]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?cc:Lg,this.isPropagationStopped=Lg,this}return $(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=cc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=cc)},persist:function(){},isPersistent:cc}),a}var vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qd=ln(vo),Fa=$({},vo,{view:0,detail:0}),C_=ln(Fa),Kd,Vd,Wa,uc=$({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Wa&&(Wa&&i.type==="mousemove"?(Kd=i.screenX-Wa.screenX,Vd=i.screenY-Wa.screenY):Vd=Kd=0,Wa=i),Kd)},movementY:function(i){return"movementY"in i?i.movementY:Vd}}),Bg=ln(uc),R_=$({},uc,{dataTransfer:0}),j_=ln(R_),L_=$({},Fa,{relatedTarget:0}),Hd=ln(L_),B_=$({},vo,{animationName:0,elapsedTime:0,pseudoElement:0}),O_=ln(B_),P_=$({},vo,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),U_=ln(P_),D_=$({},vo,{data:0}),Og=ln(D_),z_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $_(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=W_[i])?!!a[i]:!1}function Gd(){return $_}var q_=$({},Fa,{key:function(i){if(i.key){var a=z_[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=lc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?F_[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gd,charCode:function(i){return i.type==="keypress"?lc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?lc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),K_=ln(q_),V_=$({},uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pg=ln(V_),H_=$({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gd}),G_=ln(H_),Y_=$({},vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z_=ln(Y_),Q_=$({},uc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),J_=ln(Q_),X_=[9,13,27,32],Yd=u&&"CompositionEvent"in window,$a=null;u&&"documentMode"in document&&($a=document.documentMode);var eS=u&&"TextEvent"in window&&!$a,Ug=u&&(!Yd||$a&&8<$a&&11>=$a),Dg=" ",zg=!1;function Fg(i,a){switch(i){case"keyup":return X_.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var bo=!1;function tS(i,a){switch(i){case"compositionend":return Wg(a);case"keypress":return a.which!==32?null:(zg=!0,Dg);case"textInput":return i=a.data,i===Dg&&zg?null:i;default:return null}}function rS(i,a){if(bo)return i==="compositionend"||!Yd&&Fg(i,a)?(i=jg(),ac=$d=Ri=null,bo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ug&&a.locale!=="ko"?null:a.data;default:return null}}var nS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $g(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!nS[i.type]:a==="textarea"}function qg(i,a,c,h){Dt(h),a=gc(a,"onChange"),0<a.length&&(c=new qd("onChange","change",null,c,h),i.push({event:c,listeners:a}))}var qa=null,Ka=null;function iS(i){lm(i,0)}function dc(i){var a=ko(i);if(ot(a))return i}function sS(i,a){if(i==="change")return a}var Kg=!1;if(u){var Zd;if(u){var Qd="oninput"in document;if(!Qd){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),Qd=typeof Vg.oninput=="function"}Zd=Qd}else Zd=!1;Kg=Zd&&(!document.documentMode||9<document.documentMode)}function Hg(){qa&&(qa.detachEvent("onpropertychange",Gg),Ka=qa=null)}function Gg(i){if(i.propertyName==="value"&&dc(Ka)){var a=[];qg(a,Ka,i,Ct(i)),Aa(iS,a)}}function oS(i,a,c){i==="focusin"?(Hg(),qa=a,Ka=c,qa.attachEvent("onpropertychange",Gg)):i==="focusout"&&Hg()}function aS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return dc(Ka)}function lS(i,a){if(i==="click")return dc(a)}function cS(i,a){if(i==="input"||i==="change")return dc(a)}function uS(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var In=typeof Object.is=="function"?Object.is:uS;function Va(i,a){if(In(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var c=Object.keys(i),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!d.call(a,m)||!In(i[m],a[m]))return!1}return!0}function Yg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Zg(i,a){var c=Yg(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=a&&h>=a)return{node:c,offset:a-i};i=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Yg(c)}}function Qg(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Qg(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Jg(){for(var i=window,a=Sr();a instanceof i.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)i=a.contentWindow;else break;a=Sr(i.document)}return a}function Jd(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function dS(i){var a=Jg(),c=i.focusedElem,h=i.selectionRange;if(a!==c&&c&&c.ownerDocument&&Qg(c.ownerDocument.documentElement,c)){if(h!==null&&Jd(c)){if(a=h.start,i=h.end,i===void 0&&(i=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(i,c.value.length);else if(i=(a=c.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var m=c.textContent.length,b=Math.min(h.start,m);h=h.end===void 0?b:Math.min(h.end,m),!i.extend&&b>h&&(m=h,h=b,b=m),m=Zg(c,b);var L=Zg(c,h);m&&L&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==L.node||i.focusOffset!==L.offset)&&(a=a.createRange(),a.setStart(m.node,m.offset),i.removeAllRanges(),b>h?(i.addRange(a),i.extend(L.node,L.offset)):(a.setEnd(L.node,L.offset),i.addRange(a)))}}for(a=[],i=c;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)i=a[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var hS=u&&"documentMode"in document&&11>=document.documentMode,xo=null,Xd=null,Ha=null,eh=!1;function Xg(i,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;eh||xo==null||xo!==Sr(h)||(h=xo,"selectionStart"in h&&Jd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ha&&Va(Ha,h)||(Ha=h,h=gc(Xd,"onSelect"),0<h.length&&(a=new qd("onSelect","select",null,a,c),i.push({event:a,listeners:h}),a.target=xo)))}function hc(i,a){var c={};return c[i.toLowerCase()]=a.toLowerCase(),c["Webkit"+i]="webkit"+a,c["Moz"+i]="moz"+a,c}var _o={animationend:hc("Animation","AnimationEnd"),animationiteration:hc("Animation","AnimationIteration"),animationstart:hc("Animation","AnimationStart"),transitionend:hc("Transition","TransitionEnd")},th={},em={};u&&(em=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function fc(i){if(th[i])return th[i];if(!_o[i])return i;var a=_o[i],c;for(c in a)if(a.hasOwnProperty(c)&&c in em)return th[i]=a[c];return i}var tm=fc("animationend"),rm=fc("animationiteration"),nm=fc("animationstart"),im=fc("transitionend"),sm=new Map,om="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ji(i,a){sm.set(i,a),o(a,[i])}for(var rh=0;rh<om.length;rh++){var nh=om[rh],fS=nh.toLowerCase(),pS=nh[0].toUpperCase()+nh.slice(1);ji(fS,"on"+pS)}ji(tm,"onAnimationEnd"),ji(rm,"onAnimationIteration"),ji(nm,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(im,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ga));function am(i,a,c){var h=i.type||"unknown-event";i.currentTarget=c,Jt(h,a,void 0,i),i.currentTarget=null}function lm(i,a){a=(a&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],m=h.event;h=h.listeners;e:{var b=void 0;if(a)for(var L=h.length-1;0<=L;L--){var H=h[L],ee=H.instance,fe=H.currentTarget;if(H=H.listener,ee!==b&&m.isPropagationStopped())break e;am(m,H,fe),b=ee}else for(L=0;L<h.length;L++){if(H=h[L],ee=H.instance,fe=H.currentTarget,H=H.listener,ee!==b&&m.isPropagationStopped())break e;am(m,H,fe),b=ee}}}if(Mt)throw i=Lt,Mt=!1,Lt=null,i}function Nt(i,a){var c=a[dh];c===void 0&&(c=a[dh]=new Set);var h=i+"__bubble";c.has(h)||(cm(a,i,2,!1),c.add(h))}function ih(i,a,c){var h=0;a&&(h|=4),cm(c,i,h,a)}var pc="_reactListening"+Math.random().toString(36).slice(2);function Ya(i){if(!i[pc]){i[pc]=!0,r.forEach(function(c){c!=="selectionchange"&&(gS.has(c)||ih(c,!1,i),ih(c,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[pc]||(a[pc]=!0,ih("selectionchange",!1,a))}}function cm(i,a,c,h){switch(Rg(a)){case 1:var m=N_;break;case 4:m=T_;break;default:m=Fd}c=m.bind(null,a,c,i),m=void 0,!jt||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(a,c,{capture:!0,passive:m}):i.addEventListener(a,c,!0):m!==void 0?i.addEventListener(a,c,{passive:m}):i.addEventListener(a,c,!1)}function sh(i,a,c,h,m){var b=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var L=h.tag;if(L===3||L===4){var H=h.stateNode.containerInfo;if(H===m||H.nodeType===8&&H.parentNode===m)break;if(L===4)for(L=h.return;L!==null;){var ee=L.tag;if((ee===3||ee===4)&&(ee=L.stateNode.containerInfo,ee===m||ee.nodeType===8&&ee.parentNode===m))return;L=L.return}for(;H!==null;){if(L=ys(H),L===null)return;if(ee=L.tag,ee===5||ee===6){h=b=L;continue e}H=H.parentNode}}h=h.return}Aa(function(){var fe=b,ve=Ct(c),xe=[];e:{var we=sm.get(i);if(we!==void 0){var Ie=qd,Te=i;switch(i){case"keypress":if(lc(c)===0)break e;case"keydown":case"keyup":Ie=K_;break;case"focusin":Te="focus",Ie=Hd;break;case"focusout":Te="blur",Ie=Hd;break;case"beforeblur":case"afterblur":Ie=Hd;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=Bg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=j_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=G_;break;case tm:case rm:case nm:Ie=O_;break;case im:Ie=Z_;break;case"scroll":Ie=C_;break;case"wheel":Ie=J_;break;case"copy":case"cut":case"paste":Ie=U_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=Pg}var Ce=(a&4)!==0,rr=!Ce&&i==="scroll",ae=Ce?we!==null?we+"Capture":null:we;Ce=[];for(var ne=fe,ue;ne!==null;){ue=ne;var Se=ue.stateNode;if(ue.tag===5&&Se!==null&&(ue=Se,ae!==null&&(Se=yt(ne,ae),Se!=null&&Ce.push(Za(ne,Se,ue)))),rr)break;ne=ne.return}0<Ce.length&&(we=new Ie(we,Te,null,c,ve),xe.push({event:we,listeners:Ce}))}}if((a&7)===0){e:{if(we=i==="mouseover"||i==="pointerover",Ie=i==="mouseout"||i==="pointerout",we&&c!==De&&(Te=c.relatedTarget||c.fromElement)&&(ys(Te)||Te[Xn]))break e;if((Ie||we)&&(we=ve.window===ve?ve:(we=ve.ownerDocument)?we.defaultView||we.parentWindow:window,Ie?(Te=c.relatedTarget||c.toElement,Ie=fe,Te=Te?ys(Te):null,Te!==null&&(rr=$n(Te),Te!==rr||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(Ie=null,Te=fe),Ie!==Te)){if(Ce=Bg,Se="onMouseLeave",ae="onMouseEnter",ne="mouse",(i==="pointerout"||i==="pointerover")&&(Ce=Pg,Se="onPointerLeave",ae="onPointerEnter",ne="pointer"),rr=Ie==null?we:ko(Ie),ue=Te==null?we:ko(Te),we=new Ce(Se,ne+"leave",Ie,c,ve),we.target=rr,we.relatedTarget=ue,Se=null,ys(ve)===fe&&(Ce=new Ce(ae,ne+"enter",Te,c,ve),Ce.target=ue,Ce.relatedTarget=rr,Se=Ce),rr=Se,Ie&&Te)t:{for(Ce=Ie,ae=Te,ne=0,ue=Ce;ue;ue=So(ue))ne++;for(ue=0,Se=ae;Se;Se=So(Se))ue++;for(;0<ne-ue;)Ce=So(Ce),ne--;for(;0<ue-ne;)ae=So(ae),ue--;for(;ne--;){if(Ce===ae||ae!==null&&Ce===ae.alternate)break t;Ce=So(Ce),ae=So(ae)}Ce=null}else Ce=null;Ie!==null&&um(xe,we,Ie,Ce,!1),Te!==null&&rr!==null&&um(xe,rr,Te,Ce,!0)}}e:{if(we=fe?ko(fe):window,Ie=we.nodeName&&we.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&we.type==="file")var Re=sS;else if($g(we))if(Kg)Re=cS;else{Re=aS;var ze=oS}else(Ie=we.nodeName)&&Ie.toLowerCase()==="input"&&(we.type==="checkbox"||we.type==="radio")&&(Re=lS);if(Re&&(Re=Re(i,fe))){qg(xe,Re,c,ve);break e}ze&&ze(i,we,fe),i==="focusout"&&(ze=we._wrapperState)&&ze.controlled&&we.type==="number"&&Ei(we,"number",we.value)}switch(ze=fe?ko(fe):window,i){case"focusin":($g(ze)||ze.contentEditable==="true")&&(xo=ze,Xd=fe,Ha=null);break;case"focusout":Ha=Xd=xo=null;break;case"mousedown":eh=!0;break;case"contextmenu":case"mouseup":case"dragend":eh=!1,Xg(xe,c,ve);break;case"selectionchange":if(hS)break;case"keydown":case"keyup":Xg(xe,c,ve)}var Fe;if(Yd)e:{switch(i){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else bo?Fg(i,c)&&(Ve="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Ve="onCompositionStart");Ve&&(Ug&&c.locale!=="ko"&&(bo||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&bo&&(Fe=jg()):(Ri=ve,$d="value"in Ri?Ri.value:Ri.textContent,bo=!0)),ze=gc(fe,Ve),0<ze.length&&(Ve=new Og(Ve,i,null,c,ve),xe.push({event:Ve,listeners:ze}),Fe?Ve.data=Fe:(Fe=Wg(c),Fe!==null&&(Ve.data=Fe)))),(Fe=eS?tS(i,c):rS(i,c))&&(fe=gc(fe,"onBeforeInput"),0<fe.length&&(ve=new Og("onBeforeInput","beforeinput",null,c,ve),xe.push({event:ve,listeners:fe}),ve.data=Fe))}lm(xe,a)})}function Za(i,a,c){return{instance:i,listener:a,currentTarget:c}}function gc(i,a){for(var c=a+"Capture",h=[];i!==null;){var m=i,b=m.stateNode;m.tag===5&&b!==null&&(m=b,b=yt(i,c),b!=null&&h.unshift(Za(i,b,m)),b=yt(i,a),b!=null&&h.push(Za(i,b,m))),i=i.return}return h}function So(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function um(i,a,c,h,m){for(var b=a._reactName,L=[];c!==null&&c!==h;){var H=c,ee=H.alternate,fe=H.stateNode;if(ee!==null&&ee===h)break;H.tag===5&&fe!==null&&(H=fe,m?(ee=yt(c,b),ee!=null&&L.unshift(Za(c,ee,H))):m||(ee=yt(c,b),ee!=null&&L.push(Za(c,ee,H)))),c=c.return}L.length!==0&&i.push({event:a,listeners:L})}var mS=/\r\n?/g,yS=/\u0000|\uFFFD/g;function dm(i){return(typeof i=="string"?i:""+i).replace(mS,`
`).replace(yS,"")}function mc(i,a,c){if(a=dm(a),dm(i)!==a&&c)throw Error(t(425))}function yc(){}var oh=null,ah=null;function lh(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ch=typeof setTimeout=="function"?setTimeout:void 0,wS=typeof clearTimeout=="function"?clearTimeout:void 0,hm=typeof Promise=="function"?Promise:void 0,vS=typeof queueMicrotask=="function"?queueMicrotask:typeof hm<"u"?function(i){return hm.resolve(null).then(i).catch(bS)}:ch;function bS(i){setTimeout(function(){throw i})}function uh(i,a){var c=a,h=0;do{var m=c.nextSibling;if(i.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(h===0){i.removeChild(m),za(a);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=m}while(c);za(a)}function Li(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function fm(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return i;a--}else c==="/$"&&a++}i=i.previousSibling}return null}var Eo=Math.random().toString(36).slice(2),qn="__reactFiber$"+Eo,Qa="__reactProps$"+Eo,Xn="__reactContainer$"+Eo,dh="__reactEvents$"+Eo,xS="__reactListeners$"+Eo,_S="__reactHandles$"+Eo;function ys(i){var a=i[qn];if(a)return a;for(var c=i.parentNode;c;){if(a=c[Xn]||c[qn]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(i=fm(i);i!==null;){if(c=i[qn])return c;i=fm(i)}return a}i=c,c=i.parentNode}return null}function Ja(i){return i=i[qn]||i[Xn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ko(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function wc(i){return i[Qa]||null}var hh=[],Ao=-1;function Bi(i){return{current:i}}function Tt(i){0>Ao||(i.current=hh[Ao],hh[Ao]=null,Ao--)}function vt(i,a){Ao++,hh[Ao]=i.current,i.current=a}var Oi={},jr=Bi(Oi),Xr=Bi(!1),ws=Oi;function Mo(i,a){var c=i.type.contextTypes;if(!c)return Oi;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===a)return h.__reactInternalMemoizedMaskedChildContext;var m={},b;for(b in c)m[b]=a[b];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=m),m}function en(i){return i=i.childContextTypes,i!=null}function vc(){Tt(Xr),Tt(jr)}function pm(i,a,c){if(jr.current!==Oi)throw Error(t(168));vt(jr,a),vt(Xr,c)}function gm(i,a,c){var h=i.stateNode;if(a=a.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var m in h)if(!(m in a))throw Error(t(108,se(i)||"Unknown",m));return $({},c,h)}function bc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Oi,ws=jr.current,vt(jr,i),vt(Xr,Xr.current),!0}function mm(i,a,c){var h=i.stateNode;if(!h)throw Error(t(169));c?(i=gm(i,a,ws),h.__reactInternalMemoizedMergedChildContext=i,Tt(Xr),Tt(jr),vt(jr,i)):Tt(Xr),vt(Xr,c)}var ei=null,xc=!1,fh=!1;function ym(i){ei===null?ei=[i]:ei.push(i)}function SS(i){xc=!0,ym(i)}function Pi(){if(!fh&&ei!==null){fh=!0;var i=0,a=ct;try{var c=ei;for(ct=1;i<c.length;i++){var h=c[i];do h=h(!0);while(h!==null)}ei=null,xc=!1}catch(m){throw ei!==null&&(ei=ei.slice(i+1)),po(ms,Pi),m}finally{ct=a,fh=!1}}return null}var Io=[],No=0,_c=null,Sc=0,bn=[],xn=0,vs=null,ti=1,ri="";function bs(i,a){Io[No++]=Sc,Io[No++]=_c,_c=i,Sc=a}function wm(i,a,c){bn[xn++]=ti,bn[xn++]=ri,bn[xn++]=vs,vs=i;var h=ti;i=ri;var m=32-Vr(h)-1;h&=~(1<<m),c+=1;var b=32-Vr(a)+m;if(30<b){var L=m-m%5;b=(h&(1<<L)-1).toString(32),h>>=L,m-=L,ti=1<<32-Vr(a)+m|c<<m|h,ri=b+i}else ti=1<<b|c<<m|h,ri=i}function ph(i){i.return!==null&&(bs(i,1),wm(i,1,0))}function gh(i){for(;i===_c;)_c=Io[--No],Io[No]=null,Sc=Io[--No],Io[No]=null;for(;i===vs;)vs=bn[--xn],bn[xn]=null,ri=bn[--xn],bn[xn]=null,ti=bn[--xn],bn[xn]=null}var cn=null,un=null,Bt=!1,Nn=null;function vm(i,a){var c=kn(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=i,a=i.deletions,a===null?(i.deletions=[c],i.flags|=16):a.push(c)}function bm(i,a){switch(i.tag){case 5:var c=i.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,cn=i,un=Li(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,cn=i,un=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=vs!==null?{id:ti,overflow:ri}:null,i.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=kn(18,null,null,0),c.stateNode=a,c.return=i,i.child=c,cn=i,un=null,!0):!1;default:return!1}}function mh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function yh(i){if(Bt){var a=un;if(a){var c=a;if(!bm(i,a)){if(mh(i))throw Error(t(418));a=Li(c.nextSibling);var h=cn;a&&bm(i,a)?vm(h,c):(i.flags=i.flags&-4097|2,Bt=!1,cn=i)}}else{if(mh(i))throw Error(t(418));i.flags=i.flags&-4097|2,Bt=!1,cn=i}}}function xm(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;cn=i}function Ec(i){if(i!==cn)return!1;if(!Bt)return xm(i),Bt=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!lh(i.type,i.memoizedProps)),a&&(a=un)){if(mh(i))throw _m(),Error(t(418));for(;a;)vm(i,a),a=Li(a.nextSibling)}if(xm(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(a===0){un=Li(i.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}i=i.nextSibling}un=null}}else un=cn?Li(i.stateNode.nextSibling):null;return!0}function _m(){for(var i=un;i;)i=Li(i.nextSibling)}function To(){un=cn=null,Bt=!1}function wh(i){Nn===null?Nn=[i]:Nn.push(i)}var ES=G.ReactCurrentBatchConfig;function Xa(i,a,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var h=c.stateNode}if(!h)throw Error(t(147,i));var m=h,b=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===b?a.ref:(a=function(L){var H=m.refs;L===null?delete H[b]:H[b]=L},a._stringRef=b,a)}if(typeof i!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,i))}return i}function kc(i,a){throw i=Object.prototype.toString.call(a),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function Sm(i){var a=i._init;return a(i._payload)}function Em(i){function a(ae,ne){if(i){var ue=ae.deletions;ue===null?(ae.deletions=[ne],ae.flags|=16):ue.push(ne)}}function c(ae,ne){if(!i)return null;for(;ne!==null;)a(ae,ne),ne=ne.sibling;return null}function h(ae,ne){for(ae=new Map;ne!==null;)ne.key!==null?ae.set(ne.key,ne):ae.set(ne.index,ne),ne=ne.sibling;return ae}function m(ae,ne){return ae=Ki(ae,ne),ae.index=0,ae.sibling=null,ae}function b(ae,ne,ue){return ae.index=ue,i?(ue=ae.alternate,ue!==null?(ue=ue.index,ue<ne?(ae.flags|=2,ne):ue):(ae.flags|=2,ne)):(ae.flags|=1048576,ne)}function L(ae){return i&&ae.alternate===null&&(ae.flags|=2),ae}function H(ae,ne,ue,Se){return ne===null||ne.tag!==6?(ne=uf(ue,ae.mode,Se),ne.return=ae,ne):(ne=m(ne,ue),ne.return=ae,ne)}function ee(ae,ne,ue,Se){var Re=ue.type;return Re===de?ve(ae,ne,ue.props.children,Se,ue.key):ne!==null&&(ne.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===R&&Sm(Re)===ne.type)?(Se=m(ne,ue.props),Se.ref=Xa(ae,ne,ue),Se.return=ae,Se):(Se=Yc(ue.type,ue.key,ue.props,null,ae.mode,Se),Se.ref=Xa(ae,ne,ue),Se.return=ae,Se)}function fe(ae,ne,ue,Se){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ue.containerInfo||ne.stateNode.implementation!==ue.implementation?(ne=df(ue,ae.mode,Se),ne.return=ae,ne):(ne=m(ne,ue.children||[]),ne.return=ae,ne)}function ve(ae,ne,ue,Se,Re){return ne===null||ne.tag!==7?(ne=Is(ue,ae.mode,Se,Re),ne.return=ae,ne):(ne=m(ne,ue),ne.return=ae,ne)}function xe(ae,ne,ue){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=uf(""+ne,ae.mode,ue),ne.return=ae,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case te:return ue=Yc(ne.type,ne.key,ne.props,null,ae.mode,ue),ue.ref=Xa(ae,null,ne),ue.return=ae,ue;case X:return ne=df(ne,ae.mode,ue),ne.return=ae,ne;case R:var Se=ne._init;return xe(ae,Se(ne._payload),ue)}if(at(ne)||D(ne))return ne=Is(ne,ae.mode,ue,null),ne.return=ae,ne;kc(ae,ne)}return null}function we(ae,ne,ue,Se){var Re=ne!==null?ne.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Re!==null?null:H(ae,ne,""+ue,Se);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case te:return ue.key===Re?ee(ae,ne,ue,Se):null;case X:return ue.key===Re?fe(ae,ne,ue,Se):null;case R:return Re=ue._init,we(ae,ne,Re(ue._payload),Se)}if(at(ue)||D(ue))return Re!==null?null:ve(ae,ne,ue,Se,null);kc(ae,ue)}return null}function Ie(ae,ne,ue,Se,Re){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return ae=ae.get(ue)||null,H(ne,ae,""+Se,Re);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case te:return ae=ae.get(Se.key===null?ue:Se.key)||null,ee(ne,ae,Se,Re);case X:return ae=ae.get(Se.key===null?ue:Se.key)||null,fe(ne,ae,Se,Re);case R:var ze=Se._init;return Ie(ae,ne,ue,ze(Se._payload),Re)}if(at(Se)||D(Se))return ae=ae.get(ue)||null,ve(ne,ae,Se,Re,null);kc(ne,Se)}return null}function Te(ae,ne,ue,Se){for(var Re=null,ze=null,Fe=ne,Ve=ne=0,vr=null;Fe!==null&&Ve<ue.length;Ve++){Fe.index>Ve?(vr=Fe,Fe=null):vr=Fe.sibling;var nt=we(ae,Fe,ue[Ve],Se);if(nt===null){Fe===null&&(Fe=vr);break}i&&Fe&&nt.alternate===null&&a(ae,Fe),ne=b(nt,ne,Ve),ze===null?Re=nt:ze.sibling=nt,ze=nt,Fe=vr}if(Ve===ue.length)return c(ae,Fe),Bt&&bs(ae,Ve),Re;if(Fe===null){for(;Ve<ue.length;Ve++)Fe=xe(ae,ue[Ve],Se),Fe!==null&&(ne=b(Fe,ne,Ve),ze===null?Re=Fe:ze.sibling=Fe,ze=Fe);return Bt&&bs(ae,Ve),Re}for(Fe=h(ae,Fe);Ve<ue.length;Ve++)vr=Ie(Fe,ae,Ve,ue[Ve],Se),vr!==null&&(i&&vr.alternate!==null&&Fe.delete(vr.key===null?Ve:vr.key),ne=b(vr,ne,Ve),ze===null?Re=vr:ze.sibling=vr,ze=vr);return i&&Fe.forEach(function(Vi){return a(ae,Vi)}),Bt&&bs(ae,Ve),Re}function Ce(ae,ne,ue,Se){var Re=D(ue);if(typeof Re!="function")throw Error(t(150));if(ue=Re.call(ue),ue==null)throw Error(t(151));for(var ze=Re=null,Fe=ne,Ve=ne=0,vr=null,nt=ue.next();Fe!==null&&!nt.done;Ve++,nt=ue.next()){Fe.index>Ve?(vr=Fe,Fe=null):vr=Fe.sibling;var Vi=we(ae,Fe,nt.value,Se);if(Vi===null){Fe===null&&(Fe=vr);break}i&&Fe&&Vi.alternate===null&&a(ae,Fe),ne=b(Vi,ne,Ve),ze===null?Re=Vi:ze.sibling=Vi,ze=Vi,Fe=vr}if(nt.done)return c(ae,Fe),Bt&&bs(ae,Ve),Re;if(Fe===null){for(;!nt.done;Ve++,nt=ue.next())nt=xe(ae,nt.value,Se),nt!==null&&(ne=b(nt,ne,Ve),ze===null?Re=nt:ze.sibling=nt,ze=nt);return Bt&&bs(ae,Ve),Re}for(Fe=h(ae,Fe);!nt.done;Ve++,nt=ue.next())nt=Ie(Fe,ae,Ve,nt.value,Se),nt!==null&&(i&&nt.alternate!==null&&Fe.delete(nt.key===null?Ve:nt.key),ne=b(nt,ne,Ve),ze===null?Re=nt:ze.sibling=nt,ze=nt);return i&&Fe.forEach(function(nE){return a(ae,nE)}),Bt&&bs(ae,Ve),Re}function rr(ae,ne,ue,Se){if(typeof ue=="object"&&ue!==null&&ue.type===de&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case te:e:{for(var Re=ue.key,ze=ne;ze!==null;){if(ze.key===Re){if(Re=ue.type,Re===de){if(ze.tag===7){c(ae,ze.sibling),ne=m(ze,ue.props.children),ne.return=ae,ae=ne;break e}}else if(ze.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===R&&Sm(Re)===ze.type){c(ae,ze.sibling),ne=m(ze,ue.props),ne.ref=Xa(ae,ze,ue),ne.return=ae,ae=ne;break e}c(ae,ze);break}else a(ae,ze);ze=ze.sibling}ue.type===de?(ne=Is(ue.props.children,ae.mode,Se,ue.key),ne.return=ae,ae=ne):(Se=Yc(ue.type,ue.key,ue.props,null,ae.mode,Se),Se.ref=Xa(ae,ne,ue),Se.return=ae,ae=Se)}return L(ae);case X:e:{for(ze=ue.key;ne!==null;){if(ne.key===ze)if(ne.tag===4&&ne.stateNode.containerInfo===ue.containerInfo&&ne.stateNode.implementation===ue.implementation){c(ae,ne.sibling),ne=m(ne,ue.children||[]),ne.return=ae,ae=ne;break e}else{c(ae,ne);break}else a(ae,ne);ne=ne.sibling}ne=df(ue,ae.mode,Se),ne.return=ae,ae=ne}return L(ae);case R:return ze=ue._init,rr(ae,ne,ze(ue._payload),Se)}if(at(ue))return Te(ae,ne,ue,Se);if(D(ue))return Ce(ae,ne,ue,Se);kc(ae,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,ne!==null&&ne.tag===6?(c(ae,ne.sibling),ne=m(ne,ue),ne.return=ae,ae=ne):(c(ae,ne),ne=uf(ue,ae.mode,Se),ne.return=ae,ae=ne),L(ae)):c(ae,ne)}return rr}var Co=Em(!0),km=Em(!1),Ac=Bi(null),Mc=null,Ro=null,vh=null;function bh(){vh=Ro=Mc=null}function xh(i){var a=Ac.current;Tt(Ac),i._currentValue=a}function _h(i,a,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),i===c)break;i=i.return}}function jo(i,a){Mc=i,vh=Ro=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(tn=!0),i.firstContext=null)}function _n(i){var a=i._currentValue;if(vh!==i)if(i={context:i,memoizedValue:a,next:null},Ro===null){if(Mc===null)throw Error(t(308));Ro=i,Mc.dependencies={lanes:0,firstContext:i}}else Ro=Ro.next=i;return a}var xs=null;function Sh(i){xs===null?xs=[i]:xs.push(i)}function Am(i,a,c,h){var m=a.interleaved;return m===null?(c.next=c,Sh(a)):(c.next=m.next,m.next=c),a.interleaved=c,ni(i,h)}function ni(i,a){i.lanes|=a;var c=i.alternate;for(c!==null&&(c.lanes|=a),c=i,i=i.return;i!==null;)i.childLanes|=a,c=i.alternate,c!==null&&(c.childLanes|=a),c=i,i=i.return;return c.tag===3?c.stateNode:null}var Ui=!1;function Eh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mm(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ii(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function Di(i,a,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(tt&2)!==0){var m=h.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),h.pending=a,ni(i,c)}return m=h.interleaved,m===null?(a.next=a,Sh(h)):(a.next=m.next,m.next=a),h.interleaved=a,ni(i,c)}function Ic(i,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var h=a.lanes;h&=i.pendingLanes,c|=h,a.lanes=c,Ud(i,c)}}function Im(i,a){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var L={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};b===null?m=b=L:b=b.next=L,c=c.next}while(c!==null);b===null?m=b=a:b=b.next=a}else m=b=a;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:h.shared,effects:h.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=a:i.next=a,c.lastBaseUpdate=a}function Nc(i,a,c,h){var m=i.updateQueue;Ui=!1;var b=m.firstBaseUpdate,L=m.lastBaseUpdate,H=m.shared.pending;if(H!==null){m.shared.pending=null;var ee=H,fe=ee.next;ee.next=null,L===null?b=fe:L.next=fe,L=ee;var ve=i.alternate;ve!==null&&(ve=ve.updateQueue,H=ve.lastBaseUpdate,H!==L&&(H===null?ve.firstBaseUpdate=fe:H.next=fe,ve.lastBaseUpdate=ee))}if(b!==null){var xe=m.baseState;L=0,ve=fe=ee=null,H=b;do{var we=H.lane,Ie=H.eventTime;if((h&we)===we){ve!==null&&(ve=ve.next={eventTime:Ie,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Te=i,Ce=H;switch(we=a,Ie=c,Ce.tag){case 1:if(Te=Ce.payload,typeof Te=="function"){xe=Te.call(Ie,xe,we);break e}xe=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ce.payload,we=typeof Te=="function"?Te.call(Ie,xe,we):Te,we==null)break e;xe=$({},xe,we);break e;case 2:Ui=!0}}H.callback!==null&&H.lane!==0&&(i.flags|=64,we=m.effects,we===null?m.effects=[H]:we.push(H))}else Ie={eventTime:Ie,lane:we,tag:H.tag,payload:H.payload,callback:H.callback,next:null},ve===null?(fe=ve=Ie,ee=xe):ve=ve.next=Ie,L|=we;if(H=H.next,H===null){if(H=m.shared.pending,H===null)break;we=H,H=we.next,we.next=null,m.lastBaseUpdate=we,m.shared.pending=null}}while(!0);if(ve===null&&(ee=xe),m.baseState=ee,m.firstBaseUpdate=fe,m.lastBaseUpdate=ve,a=m.shared.interleaved,a!==null){m=a;do L|=m.lane,m=m.next;while(m!==a)}else b===null&&(m.shared.lanes=0);Es|=L,i.lanes=L,i.memoizedState=xe}}function Nm(i,a,c){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var h=i[a],m=h.callback;if(m!==null){if(h.callback=null,h=c,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var el={},Kn=Bi(el),tl=Bi(el),rl=Bi(el);function _s(i){if(i===el)throw Error(t(174));return i}function kh(i,a){switch(vt(rl,a),vt(tl,i),vt(Kn,el),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:O(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=O(a,i)}Tt(Kn),vt(Kn,a)}function Lo(){Tt(Kn),Tt(tl),Tt(rl)}function Tm(i){_s(rl.current);var a=_s(Kn.current),c=O(a,i.type);a!==c&&(vt(tl,i),vt(Kn,c))}function Ah(i){tl.current===i&&(Tt(Kn),Tt(tl))}var qt=Bi(0);function Tc(i){for(var a=i;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Mh=[];function Ih(){for(var i=0;i<Mh.length;i++)Mh[i]._workInProgressVersionPrimary=null;Mh.length=0}var Cc=G.ReactCurrentDispatcher,Nh=G.ReactCurrentBatchConfig,Ss=0,Kt=null,fr=null,yr=null,Rc=!1,nl=!1,il=0,kS=0;function Lr(){throw Error(t(321))}function Th(i,a){if(a===null)return!1;for(var c=0;c<a.length&&c<i.length;c++)if(!In(i[c],a[c]))return!1;return!0}function Ch(i,a,c,h,m,b){if(Ss=b,Kt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Cc.current=i===null||i.memoizedState===null?NS:TS,i=c(h,m),nl){b=0;do{if(nl=!1,il=0,25<=b)throw Error(t(301));b+=1,yr=fr=null,a.updateQueue=null,Cc.current=CS,i=c(h,m)}while(nl)}if(Cc.current=Bc,a=fr!==null&&fr.next!==null,Ss=0,yr=fr=Kt=null,Rc=!1,a)throw Error(t(300));return i}function Rh(){var i=il!==0;return il=0,i}function Vn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?Kt.memoizedState=yr=i:yr=yr.next=i,yr}function Sn(){if(fr===null){var i=Kt.alternate;i=i!==null?i.memoizedState:null}else i=fr.next;var a=yr===null?Kt.memoizedState:yr.next;if(a!==null)yr=a,fr=i;else{if(i===null)throw Error(t(310));fr=i,i={memoizedState:fr.memoizedState,baseState:fr.baseState,baseQueue:fr.baseQueue,queue:fr.queue,next:null},yr===null?Kt.memoizedState=yr=i:yr=yr.next=i}return yr}function sl(i,a){return typeof a=="function"?a(i):a}function jh(i){var a=Sn(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var h=fr,m=h.baseQueue,b=c.pending;if(b!==null){if(m!==null){var L=m.next;m.next=b.next,b.next=L}h.baseQueue=m=b,c.pending=null}if(m!==null){b=m.next,h=h.baseState;var H=L=null,ee=null,fe=b;do{var ve=fe.lane;if((Ss&ve)===ve)ee!==null&&(ee=ee.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),h=fe.hasEagerState?fe.eagerState:i(h,fe.action);else{var xe={lane:ve,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};ee===null?(H=ee=xe,L=h):ee=ee.next=xe,Kt.lanes|=ve,Es|=ve}fe=fe.next}while(fe!==null&&fe!==b);ee===null?L=h:ee.next=H,In(h,a.memoizedState)||(tn=!0),a.memoizedState=h,a.baseState=L,a.baseQueue=ee,c.lastRenderedState=h}if(i=c.interleaved,i!==null){m=i;do b=m.lane,Kt.lanes|=b,Es|=b,m=m.next;while(m!==i)}else m===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Lh(i){var a=Sn(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var h=c.dispatch,m=c.pending,b=a.memoizedState;if(m!==null){c.pending=null;var L=m=m.next;do b=i(b,L.action),L=L.next;while(L!==m);In(b,a.memoizedState)||(tn=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),c.lastRenderedState=b}return[b,h]}function Cm(){}function Rm(i,a){var c=Kt,h=Sn(),m=a(),b=!In(h.memoizedState,m);if(b&&(h.memoizedState=m,tn=!0),h=h.queue,Bh(Bm.bind(null,c,h,i),[i]),h.getSnapshot!==a||b||yr!==null&&yr.memoizedState.tag&1){if(c.flags|=2048,ol(9,Lm.bind(null,c,h,m,a),void 0,null),wr===null)throw Error(t(349));(Ss&30)!==0||jm(c,a,m)}return m}function jm(i,a,c){i.flags|=16384,i={getSnapshot:a,value:c},a=Kt.updateQueue,a===null?(a={lastEffect:null,stores:null},Kt.updateQueue=a,a.stores=[i]):(c=a.stores,c===null?a.stores=[i]:c.push(i))}function Lm(i,a,c,h){a.value=c,a.getSnapshot=h,Om(a)&&Pm(i)}function Bm(i,a,c){return c(function(){Om(a)&&Pm(i)})}function Om(i){var a=i.getSnapshot;i=i.value;try{var c=a();return!In(i,c)}catch{return!0}}function Pm(i){var a=ni(i,1);a!==null&&jn(a,i,1,-1)}function Um(i){var a=Vn();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:i},a.queue=i,i=i.dispatch=IS.bind(null,Kt,i),[a.memoizedState,i]}function ol(i,a,c,h){return i={tag:i,create:a,destroy:c,deps:h,next:null},a=Kt.updateQueue,a===null?(a={lastEffect:null,stores:null},Kt.updateQueue=a,a.lastEffect=i.next=i):(c=a.lastEffect,c===null?a.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,a.lastEffect=i)),i}function Dm(){return Sn().memoizedState}function jc(i,a,c,h){var m=Vn();Kt.flags|=i,m.memoizedState=ol(1|a,c,void 0,h===void 0?null:h)}function Lc(i,a,c,h){var m=Sn();h=h===void 0?null:h;var b=void 0;if(fr!==null){var L=fr.memoizedState;if(b=L.destroy,h!==null&&Th(h,L.deps)){m.memoizedState=ol(a,c,b,h);return}}Kt.flags|=i,m.memoizedState=ol(1|a,c,b,h)}function zm(i,a){return jc(8390656,8,i,a)}function Bh(i,a){return Lc(2048,8,i,a)}function Fm(i,a){return Lc(4,2,i,a)}function Wm(i,a){return Lc(4,4,i,a)}function $m(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function qm(i,a,c){return c=c!=null?c.concat([i]):null,Lc(4,4,$m.bind(null,a,i),c)}function Oh(){}function Km(i,a){var c=Sn();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&Th(a,h[1])?h[0]:(c.memoizedState=[i,a],i)}function Vm(i,a){var c=Sn();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&Th(a,h[1])?h[0]:(i=i(),c.memoizedState=[i,a],i)}function Hm(i,a,c){return(Ss&21)===0?(i.baseState&&(i.baseState=!1,tn=!0),i.memoizedState=c):(In(c,a)||(c=Sg(),Kt.lanes|=c,Es|=c,i.baseState=!0),a)}function AS(i,a){var c=ct;ct=c!==0&&4>c?c:4,i(!0);var h=Nh.transition;Nh.transition={};try{i(!1),a()}finally{ct=c,Nh.transition=h}}function Gm(){return Sn().memoizedState}function MS(i,a,c){var h=$i(i);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},Ym(i))Zm(a,c);else if(c=Am(i,a,c,h),c!==null){var m=Gr();jn(c,i,h,m),Qm(c,a,h)}}function IS(i,a,c){var h=$i(i),m={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ym(i))Zm(a,m);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var L=a.lastRenderedState,H=b(L,c);if(m.hasEagerState=!0,m.eagerState=H,In(H,L)){var ee=a.interleaved;ee===null?(m.next=m,Sh(a)):(m.next=ee.next,ee.next=m),a.interleaved=m;return}}catch{}finally{}c=Am(i,a,m,h),c!==null&&(m=Gr(),jn(c,i,h,m),Qm(c,a,h))}}function Ym(i){var a=i.alternate;return i===Kt||a!==null&&a===Kt}function Zm(i,a){nl=Rc=!0;var c=i.pending;c===null?a.next=a:(a.next=c.next,c.next=a),i.pending=a}function Qm(i,a,c){if((c&4194240)!==0){var h=a.lanes;h&=i.pendingLanes,c|=h,a.lanes=c,Ud(i,c)}}var Bc={readContext:_n,useCallback:Lr,useContext:Lr,useEffect:Lr,useImperativeHandle:Lr,useInsertionEffect:Lr,useLayoutEffect:Lr,useMemo:Lr,useReducer:Lr,useRef:Lr,useState:Lr,useDebugValue:Lr,useDeferredValue:Lr,useTransition:Lr,useMutableSource:Lr,useSyncExternalStore:Lr,useId:Lr,unstable_isNewReconciler:!1},NS={readContext:_n,useCallback:function(i,a){return Vn().memoizedState=[i,a===void 0?null:a],i},useContext:_n,useEffect:zm,useImperativeHandle:function(i,a,c){return c=c!=null?c.concat([i]):null,jc(4194308,4,$m.bind(null,a,i),c)},useLayoutEffect:function(i,a){return jc(4194308,4,i,a)},useInsertionEffect:function(i,a){return jc(4,2,i,a)},useMemo:function(i,a){var c=Vn();return a=a===void 0?null:a,i=i(),c.memoizedState=[i,a],i},useReducer:function(i,a,c){var h=Vn();return a=c!==void 0?c(a):a,h.memoizedState=h.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},h.queue=i,i=i.dispatch=MS.bind(null,Kt,i),[h.memoizedState,i]},useRef:function(i){var a=Vn();return i={current:i},a.memoizedState=i},useState:Um,useDebugValue:Oh,useDeferredValue:function(i){return Vn().memoizedState=i},useTransition:function(){var i=Um(!1),a=i[0];return i=AS.bind(null,i[1]),Vn().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,c){var h=Kt,m=Vn();if(Bt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),wr===null)throw Error(t(349));(Ss&30)!==0||jm(h,a,c)}m.memoizedState=c;var b={value:c,getSnapshot:a};return m.queue=b,zm(Bm.bind(null,h,b,i),[i]),h.flags|=2048,ol(9,Lm.bind(null,h,b,c,a),void 0,null),c},useId:function(){var i=Vn(),a=wr.identifierPrefix;if(Bt){var c=ri,h=ti;c=(h&~(1<<32-Vr(h)-1)).toString(32)+c,a=":"+a+"R"+c,c=il++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=kS++,a=":"+a+"r"+c.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},TS={readContext:_n,useCallback:Km,useContext:_n,useEffect:Bh,useImperativeHandle:qm,useInsertionEffect:Fm,useLayoutEffect:Wm,useMemo:Vm,useReducer:jh,useRef:Dm,useState:function(){return jh(sl)},useDebugValue:Oh,useDeferredValue:function(i){var a=Sn();return Hm(a,fr.memoizedState,i)},useTransition:function(){var i=jh(sl)[0],a=Sn().memoizedState;return[i,a]},useMutableSource:Cm,useSyncExternalStore:Rm,useId:Gm,unstable_isNewReconciler:!1},CS={readContext:_n,useCallback:Km,useContext:_n,useEffect:Bh,useImperativeHandle:qm,useInsertionEffect:Fm,useLayoutEffect:Wm,useMemo:Vm,useReducer:Lh,useRef:Dm,useState:function(){return Lh(sl)},useDebugValue:Oh,useDeferredValue:function(i){var a=Sn();return fr===null?a.memoizedState=i:Hm(a,fr.memoizedState,i)},useTransition:function(){var i=Lh(sl)[0],a=Sn().memoizedState;return[i,a]},useMutableSource:Cm,useSyncExternalStore:Rm,useId:Gm,unstable_isNewReconciler:!1};function Tn(i,a){if(i&&i.defaultProps){a=$({},a),i=i.defaultProps;for(var c in i)a[c]===void 0&&(a[c]=i[c]);return a}return a}function Ph(i,a,c,h){a=i.memoizedState,c=c(h,a),c=c==null?a:$({},a,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Oc={isMounted:function(i){return(i=i._reactInternals)?$n(i)===i:!1},enqueueSetState:function(i,a,c){i=i._reactInternals;var h=Gr(),m=$i(i),b=ii(h,m);b.payload=a,c!=null&&(b.callback=c),a=Di(i,b,m),a!==null&&(jn(a,i,m,h),Ic(a,i,m))},enqueueReplaceState:function(i,a,c){i=i._reactInternals;var h=Gr(),m=$i(i),b=ii(h,m);b.tag=1,b.payload=a,c!=null&&(b.callback=c),a=Di(i,b,m),a!==null&&(jn(a,i,m,h),Ic(a,i,m))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var c=Gr(),h=$i(i),m=ii(c,h);m.tag=2,a!=null&&(m.callback=a),a=Di(i,m,h),a!==null&&(jn(a,i,h,c),Ic(a,i,h))}};function Jm(i,a,c,h,m,b,L){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,b,L):a.prototype&&a.prototype.isPureReactComponent?!Va(c,h)||!Va(m,b):!0}function Xm(i,a,c){var h=!1,m=Oi,b=a.contextType;return typeof b=="object"&&b!==null?b=_n(b):(m=en(a)?ws:jr.current,h=a.contextTypes,b=(h=h!=null)?Mo(i,m):Oi),a=new a(c,b),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Oc,i.stateNode=a,a._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=b),a}function ey(i,a,c,h){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==i&&Oc.enqueueReplaceState(a,a.state,null)}function Uh(i,a,c,h){var m=i.stateNode;m.props=c,m.state=i.memoizedState,m.refs={},Eh(i);var b=a.contextType;typeof b=="object"&&b!==null?m.context=_n(b):(b=en(a)?ws:jr.current,m.context=Mo(i,b)),m.state=i.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Ph(i,a,b,c),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(a=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),a!==m.state&&Oc.enqueueReplaceState(m,m.state,null),Nc(i,c,m,h),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Bo(i,a){try{var c="",h=a;do c+=W(h),h=h.return;while(h);var m=c}catch(b){m=`
Error generating stack: `+b.message+`
`+b.stack}return{value:i,source:a,stack:m,digest:null}}function Dh(i,a,c){return{value:i,source:null,stack:c??null,digest:a??null}}function zh(i,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var RS=typeof WeakMap=="function"?WeakMap:Map;function ty(i,a,c){c=ii(-1,c),c.tag=3,c.payload={element:null};var h=a.value;return c.callback=function(){$c||($c=!0,tf=h),zh(i,a)},c}function ry(i,a,c){c=ii(-1,c),c.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=a.value;c.payload=function(){return h(m)},c.callback=function(){zh(i,a)}}var b=i.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(c.callback=function(){zh(i,a),typeof h!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var L=a.stack;this.componentDidCatch(a.value,{componentStack:L!==null?L:""})}),c}function ny(i,a,c){var h=i.pingCache;if(h===null){h=i.pingCache=new RS;var m=new Set;h.set(a,m)}else m=h.get(a),m===void 0&&(m=new Set,h.set(a,m));m.has(c)||(m.add(c),i=VS.bind(null,i,a,c),a.then(i,i))}function iy(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function sy(i,a,c,h,m){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=ii(-1,1),a.tag=2,Di(c,a,1))),c.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var jS=G.ReactCurrentOwner,tn=!1;function Hr(i,a,c,h){a.child=i===null?km(a,null,c,h):Co(a,i.child,c,h)}function oy(i,a,c,h,m){c=c.render;var b=a.ref;return jo(a,m),h=Ch(i,a,c,h,b,m),c=Rh(),i!==null&&!tn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~m,si(i,a,m)):(Bt&&c&&ph(a),a.flags|=1,Hr(i,a,h,m),a.child)}function ay(i,a,c,h,m){if(i===null){var b=c.type;return typeof b=="function"&&!cf(b)&&b.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=b,ly(i,a,b,h,m)):(i=Yc(c.type,null,h,a,a.mode,m),i.ref=a.ref,i.return=a,a.child=i)}if(b=i.child,(i.lanes&m)===0){var L=b.memoizedProps;if(c=c.compare,c=c!==null?c:Va,c(L,h)&&i.ref===a.ref)return si(i,a,m)}return a.flags|=1,i=Ki(b,h),i.ref=a.ref,i.return=a,a.child=i}function ly(i,a,c,h,m){if(i!==null){var b=i.memoizedProps;if(Va(b,h)&&i.ref===a.ref)if(tn=!1,a.pendingProps=h=b,(i.lanes&m)!==0)(i.flags&131072)!==0&&(tn=!0);else return a.lanes=i.lanes,si(i,a,m)}return Fh(i,a,c,h,m)}function cy(i,a,c){var h=a.pendingProps,m=h.children,b=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(Po,dn),dn|=c;else{if((c&1073741824)===0)return i=b!==null?b.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,vt(Po,dn),dn|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=b!==null?b.baseLanes:c,vt(Po,dn),dn|=h}else b!==null?(h=b.baseLanes|c,a.memoizedState=null):h=c,vt(Po,dn),dn|=h;return Hr(i,a,m,c),a.child}function uy(i,a){var c=a.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Fh(i,a,c,h,m){var b=en(c)?ws:jr.current;return b=Mo(a,b),jo(a,m),c=Ch(i,a,c,h,b,m),h=Rh(),i!==null&&!tn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~m,si(i,a,m)):(Bt&&h&&ph(a),a.flags|=1,Hr(i,a,c,m),a.child)}function dy(i,a,c,h,m){if(en(c)){var b=!0;bc(a)}else b=!1;if(jo(a,m),a.stateNode===null)Uc(i,a),Xm(a,c,h),Uh(a,c,h,m),h=!0;else if(i===null){var L=a.stateNode,H=a.memoizedProps;L.props=H;var ee=L.context,fe=c.contextType;typeof fe=="object"&&fe!==null?fe=_n(fe):(fe=en(c)?ws:jr.current,fe=Mo(a,fe));var ve=c.getDerivedStateFromProps,xe=typeof ve=="function"||typeof L.getSnapshotBeforeUpdate=="function";xe||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(H!==h||ee!==fe)&&ey(a,L,h,fe),Ui=!1;var we=a.memoizedState;L.state=we,Nc(a,h,L,m),ee=a.memoizedState,H!==h||we!==ee||Xr.current||Ui?(typeof ve=="function"&&(Ph(a,c,ve,h),ee=a.memoizedState),(H=Ui||Jm(a,c,H,h,we,ee,fe))?(xe||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(a.flags|=4194308)):(typeof L.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=ee),L.props=h,L.state=ee,L.context=fe,h=H):(typeof L.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{L=a.stateNode,Mm(i,a),H=a.memoizedProps,fe=a.type===a.elementType?H:Tn(a.type,H),L.props=fe,xe=a.pendingProps,we=L.context,ee=c.contextType,typeof ee=="object"&&ee!==null?ee=_n(ee):(ee=en(c)?ws:jr.current,ee=Mo(a,ee));var Ie=c.getDerivedStateFromProps;(ve=typeof Ie=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(H!==xe||we!==ee)&&ey(a,L,h,ee),Ui=!1,we=a.memoizedState,L.state=we,Nc(a,h,L,m);var Te=a.memoizedState;H!==xe||we!==Te||Xr.current||Ui?(typeof Ie=="function"&&(Ph(a,c,Ie,h),Te=a.memoizedState),(fe=Ui||Jm(a,c,fe,h,we,Te,ee)||!1)?(ve||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(h,Te,ee),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(h,Te,ee)),typeof L.componentDidUpdate=="function"&&(a.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof L.componentDidUpdate!="function"||H===i.memoizedProps&&we===i.memoizedState||(a.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||H===i.memoizedProps&&we===i.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Te),L.props=h,L.state=Te,L.context=ee,h=fe):(typeof L.componentDidUpdate!="function"||H===i.memoizedProps&&we===i.memoizedState||(a.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||H===i.memoizedProps&&we===i.memoizedState||(a.flags|=1024),h=!1)}return Wh(i,a,c,h,b,m)}function Wh(i,a,c,h,m,b){uy(i,a);var L=(a.flags&128)!==0;if(!h&&!L)return m&&mm(a,c,!1),si(i,a,b);h=a.stateNode,jS.current=a;var H=L&&typeof c.getDerivedStateFromError!="function"?null:h.render();return a.flags|=1,i!==null&&L?(a.child=Co(a,i.child,null,b),a.child=Co(a,null,H,b)):Hr(i,a,H,b),a.memoizedState=h.state,m&&mm(a,c,!0),a.child}function hy(i){var a=i.stateNode;a.pendingContext?pm(i,a.pendingContext,a.pendingContext!==a.context):a.context&&pm(i,a.context,!1),kh(i,a.containerInfo)}function fy(i,a,c,h,m){return To(),wh(m),a.flags|=256,Hr(i,a,c,h),a.child}var $h={dehydrated:null,treeContext:null,retryLane:0};function qh(i){return{baseLanes:i,cachePool:null,transitions:null}}function py(i,a,c){var h=a.pendingProps,m=qt.current,b=!1,L=(a.flags&128)!==0,H;if((H=L)||(H=i!==null&&i.memoizedState===null?!1:(m&2)!==0),H?(b=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),vt(qt,m&1),i===null)return yh(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(L=h.children,i=h.fallback,b?(h=a.mode,b=a.child,L={mode:"hidden",children:L},(h&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=L):b=Zc(L,h,0,null),i=Is(i,h,c,null),b.return=a,i.return=a,b.sibling=i,a.child=b,a.child.memoizedState=qh(c),a.memoizedState=$h,i):Kh(a,L));if(m=i.memoizedState,m!==null&&(H=m.dehydrated,H!==null))return LS(i,a,L,h,H,m,c);if(b){b=h.fallback,L=a.mode,m=i.child,H=m.sibling;var ee={mode:"hidden",children:h.children};return(L&1)===0&&a.child!==m?(h=a.child,h.childLanes=0,h.pendingProps=ee,a.deletions=null):(h=Ki(m,ee),h.subtreeFlags=m.subtreeFlags&14680064),H!==null?b=Ki(H,b):(b=Is(b,L,c,null),b.flags|=2),b.return=a,h.return=a,h.sibling=b,a.child=h,h=b,b=a.child,L=i.child.memoizedState,L=L===null?qh(c):{baseLanes:L.baseLanes|c,cachePool:null,transitions:L.transitions},b.memoizedState=L,b.childLanes=i.childLanes&~c,a.memoizedState=$h,h}return b=i.child,i=b.sibling,h=Ki(b,{mode:"visible",children:h.children}),(a.mode&1)===0&&(h.lanes=c),h.return=a,h.sibling=null,i!==null&&(c=a.deletions,c===null?(a.deletions=[i],a.flags|=16):c.push(i)),a.child=h,a.memoizedState=null,h}function Kh(i,a){return a=Zc({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function Pc(i,a,c,h){return h!==null&&wh(h),Co(a,i.child,null,c),i=Kh(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function LS(i,a,c,h,m,b,L){if(c)return a.flags&256?(a.flags&=-257,h=Dh(Error(t(422))),Pc(i,a,L,h)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(b=h.fallback,m=a.mode,h=Zc({mode:"visible",children:h.children},m,0,null),b=Is(b,m,L,null),b.flags|=2,h.return=a,b.return=a,h.sibling=b,a.child=h,(a.mode&1)!==0&&Co(a,i.child,null,L),a.child.memoizedState=qh(L),a.memoizedState=$h,b);if((a.mode&1)===0)return Pc(i,a,L,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var H=h.dgst;return h=H,b=Error(t(419)),h=Dh(b,h,void 0),Pc(i,a,L,h)}if(H=(L&i.childLanes)!==0,tn||H){if(h=wr,h!==null){switch(L&-L){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|L))!==0?0:m,m!==0&&m!==b.retryLane&&(b.retryLane=m,ni(i,m),jn(h,i,m,-1))}return lf(),h=Dh(Error(t(421))),Pc(i,a,L,h)}return m.data==="$?"?(a.flags|=128,a.child=i.child,a=HS.bind(null,i),m._reactRetry=a,null):(i=b.treeContext,un=Li(m.nextSibling),cn=a,Bt=!0,Nn=null,i!==null&&(bn[xn++]=ti,bn[xn++]=ri,bn[xn++]=vs,ti=i.id,ri=i.overflow,vs=a),a=Kh(a,h.children),a.flags|=4096,a)}function gy(i,a,c){i.lanes|=a;var h=i.alternate;h!==null&&(h.lanes|=a),_h(i.return,a,c)}function Vh(i,a,c,h,m){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=h,b.tail=c,b.tailMode=m)}function my(i,a,c){var h=a.pendingProps,m=h.revealOrder,b=h.tail;if(Hr(i,a,h.children,c),h=qt.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&gy(i,c,a);else if(i.tag===19)gy(i,c,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(vt(qt,h),(a.mode&1)===0)a.memoizedState=null;else switch(m){case"forwards":for(c=a.child,m=null;c!==null;)i=c.alternate,i!==null&&Tc(i)===null&&(m=c),c=c.sibling;c=m,c===null?(m=a.child,a.child=null):(m=c.sibling,c.sibling=null),Vh(a,!1,m,c,b);break;case"backwards":for(c=null,m=a.child,a.child=null;m!==null;){if(i=m.alternate,i!==null&&Tc(i)===null){a.child=m;break}i=m.sibling,m.sibling=c,c=m,m=i}Vh(a,!0,c,null,b);break;case"together":Vh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Uc(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function si(i,a,c){if(i!==null&&(a.dependencies=i.dependencies),Es|=a.lanes,(c&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(t(153));if(a.child!==null){for(i=a.child,c=Ki(i,i.pendingProps),a.child=c,c.return=a;i.sibling!==null;)i=i.sibling,c=c.sibling=Ki(i,i.pendingProps),c.return=a;c.sibling=null}return a.child}function BS(i,a,c){switch(a.tag){case 3:hy(a),To();break;case 5:Tm(a);break;case 1:en(a.type)&&bc(a);break;case 4:kh(a,a.stateNode.containerInfo);break;case 10:var h=a.type._context,m=a.memoizedProps.value;vt(Ac,h._currentValue),h._currentValue=m;break;case 13:if(h=a.memoizedState,h!==null)return h.dehydrated!==null?(vt(qt,qt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?py(i,a,c):(vt(qt,qt.current&1),i=si(i,a,c),i!==null?i.sibling:null);vt(qt,qt.current&1);break;case 19:if(h=(c&a.childLanes)!==0,(i.flags&128)!==0){if(h)return my(i,a,c);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),vt(qt,qt.current),h)break;return null;case 22:case 23:return a.lanes=0,cy(i,a,c)}return si(i,a,c)}var yy,Hh,wy,vy;yy=function(i,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Hh=function(){},wy=function(i,a,c,h){var m=i.memoizedProps;if(m!==h){i=a.stateNode,_s(Kn.current);var b=null;switch(c){case"input":m=st(i,m),h=st(i,h),b=[];break;case"select":m=$({},m,{value:void 0}),h=$({},h,{value:void 0}),b=[];break;case"textarea":m=Er(i,m),h=Er(i,h),b=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=yc)}Ke(c,h);var L;c=null;for(fe in m)if(!h.hasOwnProperty(fe)&&m.hasOwnProperty(fe)&&m[fe]!=null)if(fe==="style"){var H=m[fe];for(L in H)H.hasOwnProperty(L)&&(c||(c={}),c[L]="")}else fe!=="dangerouslySetInnerHTML"&&fe!=="children"&&fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(s.hasOwnProperty(fe)?b||(b=[]):(b=b||[]).push(fe,null));for(fe in h){var ee=h[fe];if(H=m!=null?m[fe]:void 0,h.hasOwnProperty(fe)&&ee!==H&&(ee!=null||H!=null))if(fe==="style")if(H){for(L in H)!H.hasOwnProperty(L)||ee&&ee.hasOwnProperty(L)||(c||(c={}),c[L]="");for(L in ee)ee.hasOwnProperty(L)&&H[L]!==ee[L]&&(c||(c={}),c[L]=ee[L])}else c||(b||(b=[]),b.push(fe,c)),c=ee;else fe==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,H=H?H.__html:void 0,ee!=null&&H!==ee&&(b=b||[]).push(fe,ee)):fe==="children"?typeof ee!="string"&&typeof ee!="number"||(b=b||[]).push(fe,""+ee):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&(s.hasOwnProperty(fe)?(ee!=null&&fe==="onScroll"&&Nt("scroll",i),b||H===ee||(b=[])):(b=b||[]).push(fe,ee))}c&&(b=b||[]).push("style",c);var fe=b;(a.updateQueue=fe)&&(a.flags|=4)}},vy=function(i,a,c,h){c!==h&&(a.flags|=4)};function al(i,a){if(!Bt)switch(i.tailMode){case"hidden":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Br(i){var a=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(a)for(var m=i.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=c,a}function OS(i,a,c){var h=a.pendingProps;switch(gh(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Br(a),null;case 1:return en(a.type)&&vc(),Br(a),null;case 3:return h=a.stateNode,Lo(),Tt(Xr),Tt(jr),Ih(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Ec(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Nn!==null&&(sf(Nn),Nn=null))),Hh(i,a),Br(a),null;case 5:Ah(a);var m=_s(rl.current);if(c=a.type,i!==null&&a.stateNode!=null)wy(i,a,c,h,m),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!h){if(a.stateNode===null)throw Error(t(166));return Br(a),null}if(i=_s(Kn.current),Ec(a)){h=a.stateNode,c=a.type;var b=a.memoizedProps;switch(h[qn]=a,h[Qa]=b,i=(a.mode&1)!==0,c){case"dialog":Nt("cancel",h),Nt("close",h);break;case"iframe":case"object":case"embed":Nt("load",h);break;case"video":case"audio":for(m=0;m<Ga.length;m++)Nt(Ga[m],h);break;case"source":Nt("error",h);break;case"img":case"image":case"link":Nt("error",h),Nt("load",h);break;case"details":Nt("toggle",h);break;case"input":St(h,b),Nt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!b.multiple},Nt("invalid",h);break;case"textarea":ft(h,b),Nt("invalid",h)}Ke(c,b),m=null;for(var L in b)if(b.hasOwnProperty(L)){var H=b[L];L==="children"?typeof H=="string"?h.textContent!==H&&(b.suppressHydrationWarning!==!0&&mc(h.textContent,H,i),m=["children",H]):typeof H=="number"&&h.textContent!==""+H&&(b.suppressHydrationWarning!==!0&&mc(h.textContent,H,i),m=["children",""+H]):s.hasOwnProperty(L)&&H!=null&&L==="onScroll"&&Nt("scroll",h)}switch(c){case"input":et(h),Et(h,b,!0);break;case"textarea":et(h),Qr(h);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(h.onclick=yc)}h=m,a.updateQueue=h,h!==null&&(a.flags|=4)}else{L=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=At(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=L.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=L.createElement(c,{is:h.is}):(i=L.createElement(c),c==="select"&&(L=i,h.multiple?L.multiple=!0:h.size&&(L.size=h.size))):i=L.createElementNS(i,c),i[qn]=a,i[Qa]=h,yy(i,a,!1,!1),a.stateNode=i;e:{switch(L=lt(c,h),c){case"dialog":Nt("cancel",i),Nt("close",i),m=h;break;case"iframe":case"object":case"embed":Nt("load",i),m=h;break;case"video":case"audio":for(m=0;m<Ga.length;m++)Nt(Ga[m],i);m=h;break;case"source":Nt("error",i),m=h;break;case"img":case"image":case"link":Nt("error",i),Nt("load",i),m=h;break;case"details":Nt("toggle",i),m=h;break;case"input":St(i,h),m=st(i,h),Nt("invalid",i);break;case"option":m=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},m=$({},h,{value:void 0}),Nt("invalid",i);break;case"textarea":ft(i,h),m=Er(i,h),Nt("invalid",i);break;default:m=h}Ke(c,m),H=m;for(b in H)if(H.hasOwnProperty(b)){var ee=H[b];b==="style"?Ge(i,ee):b==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,ee!=null&&E(i,ee)):b==="children"?typeof ee=="string"?(c!=="textarea"||ee!=="")&&q(i,ee):typeof ee=="number"&&q(i,""+ee):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(s.hasOwnProperty(b)?ee!=null&&b==="onScroll"&&Nt("scroll",i):ee!=null&&U(i,b,ee,L))}switch(c){case"input":et(i),Et(i,h,!1);break;case"textarea":et(i),Qr(i);break;case"option":h.value!=null&&i.setAttribute("value",""+ge(h.value));break;case"select":i.multiple=!!h.multiple,b=h.value,b!=null?rt(i,!!h.multiple,b,!1):h.defaultValue!=null&&rt(i,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=yc)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Br(a),null;case 6:if(i&&a.stateNode!=null)vy(i,a,i.memoizedProps,h);else{if(typeof h!="string"&&a.stateNode===null)throw Error(t(166));if(c=_s(rl.current),_s(Kn.current),Ec(a)){if(h=a.stateNode,c=a.memoizedProps,h[qn]=a,(b=h.nodeValue!==c)&&(i=cn,i!==null))switch(i.tag){case 3:mc(h.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&mc(h.nodeValue,c,(i.mode&1)!==0)}b&&(a.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[qn]=a,a.stateNode=h}return Br(a),null;case 13:if(Tt(qt),h=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Bt&&un!==null&&(a.mode&1)!==0&&(a.flags&128)===0)_m(),To(),a.flags|=98560,b=!1;else if(b=Ec(a),h!==null&&h.dehydrated!==null){if(i===null){if(!b)throw Error(t(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(t(317));b[qn]=a}else To(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Br(a),b=!1}else Nn!==null&&(sf(Nn),Nn=null),b=!0;if(!b)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(qt.current&1)!==0?pr===0&&(pr=3):lf())),a.updateQueue!==null&&(a.flags|=4),Br(a),null);case 4:return Lo(),Hh(i,a),i===null&&Ya(a.stateNode.containerInfo),Br(a),null;case 10:return xh(a.type._context),Br(a),null;case 17:return en(a.type)&&vc(),Br(a),null;case 19:if(Tt(qt),b=a.memoizedState,b===null)return Br(a),null;if(h=(a.flags&128)!==0,L=b.rendering,L===null)if(h)al(b,!1);else{if(pr!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(L=Tc(i),L!==null){for(a.flags|=128,al(b,!1),h=L.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),a.subtreeFlags=0,h=c,c=a.child;c!==null;)b=c,i=h,b.flags&=14680066,L=b.alternate,L===null?(b.childLanes=0,b.lanes=i,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=L.childLanes,b.lanes=L.lanes,b.child=L.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=L.memoizedProps,b.memoizedState=L.memoizedState,b.updateQueue=L.updateQueue,b.type=L.type,i=L.dependencies,b.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return vt(qt,qt.current&1|2),a.child}i=i.sibling}b.tail!==null&&It()>Uo&&(a.flags|=128,h=!0,al(b,!1),a.lanes=4194304)}else{if(!h)if(i=Tc(L),i!==null){if(a.flags|=128,h=!0,c=i.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),al(b,!0),b.tail===null&&b.tailMode==="hidden"&&!L.alternate&&!Bt)return Br(a),null}else 2*It()-b.renderingStartTime>Uo&&c!==1073741824&&(a.flags|=128,h=!0,al(b,!1),a.lanes=4194304);b.isBackwards?(L.sibling=a.child,a.child=L):(c=b.last,c!==null?c.sibling=L:a.child=L,b.last=L)}return b.tail!==null?(a=b.tail,b.rendering=a,b.tail=a.sibling,b.renderingStartTime=It(),a.sibling=null,c=qt.current,vt(qt,h?c&1|2:c&1),a):(Br(a),null);case 22:case 23:return af(),h=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(a.flags|=8192),h&&(a.mode&1)!==0?(dn&1073741824)!==0&&(Br(a),a.subtreeFlags&6&&(a.flags|=8192)):Br(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function PS(i,a){switch(gh(a),a.tag){case 1:return en(a.type)&&vc(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Lo(),Tt(Xr),Tt(jr),Ih(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return Ah(a),null;case 13:if(Tt(qt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(t(340));To()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Tt(qt),null;case 4:return Lo(),null;case 10:return xh(a.type._context),null;case 22:case 23:return af(),null;case 24:return null;default:return null}}var Dc=!1,Or=!1,US=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Oo(i,a){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){Xt(i,a,h)}else c.current=null}function Gh(i,a,c){try{c()}catch(h){Xt(i,a,h)}}var by=!1;function DS(i,a){if(oh=sc,i=Jg(),Jd(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var L=0,H=-1,ee=-1,fe=0,ve=0,xe=i,we=null;t:for(;;){for(var Ie;xe!==c||m!==0&&xe.nodeType!==3||(H=L+m),xe!==b||h!==0&&xe.nodeType!==3||(ee=L+h),xe.nodeType===3&&(L+=xe.nodeValue.length),(Ie=xe.firstChild)!==null;)we=xe,xe=Ie;for(;;){if(xe===i)break t;if(we===c&&++fe===m&&(H=L),we===b&&++ve===h&&(ee=L),(Ie=xe.nextSibling)!==null)break;xe=we,we=xe.parentNode}xe=Ie}c=H===-1||ee===-1?null:{start:H,end:ee}}else c=null}c=c||{start:0,end:0}}else c=null;for(ah={focusedElem:i,selectionRange:c},sc=!1,Ne=a;Ne!==null;)if(a=Ne,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Ne=i;else for(;Ne!==null;){a=Ne;try{var Te=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Ce=Te.memoizedProps,rr=Te.memoizedState,ae=a.stateNode,ne=ae.getSnapshotBeforeUpdate(a.elementType===a.type?Ce:Tn(a.type,Ce),rr);ae.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:var ue=a.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Se){Xt(a,a.return,Se)}if(i=a.sibling,i!==null){i.return=a.return,Ne=i;break}Ne=a.return}return Te=by,by=!1,Te}function ll(i,a,c){var h=a.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&i)===i){var b=m.destroy;m.destroy=void 0,b!==void 0&&Gh(a,c,b)}m=m.next}while(m!==h)}}function zc(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&i)===i){var h=c.create;c.destroy=h()}c=c.next}while(c!==a)}}function Yh(i){var a=i.ref;if(a!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof a=="function"?a(i):a.current=i}}function xy(i){var a=i.alternate;a!==null&&(i.alternate=null,xy(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[qn],delete a[Qa],delete a[dh],delete a[xS],delete a[_S])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function _y(i){return i.tag===5||i.tag===3||i.tag===4}function Sy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||_y(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Zh(i,a,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(i,a):c.insertBefore(i,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(i,c)):(a=c,a.appendChild(i)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=yc));else if(h!==4&&(i=i.child,i!==null))for(Zh(i,a,c),i=i.sibling;i!==null;)Zh(i,a,c),i=i.sibling}function Qh(i,a,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?c.insertBefore(i,a):c.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Qh(i,a,c),i=i.sibling;i!==null;)Qh(i,a,c),i=i.sibling}var kr=null,Cn=!1;function zi(i,a,c){for(c=c.child;c!==null;)Ey(i,a,c),c=c.sibling}function Ey(i,a,c){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(Mi,c)}catch{}switch(c.tag){case 5:Or||Oo(c,a);case 6:var h=kr,m=Cn;kr=null,zi(i,a,c),kr=h,Cn=m,kr!==null&&(Cn?(i=kr,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):kr.removeChild(c.stateNode));break;case 18:kr!==null&&(Cn?(i=kr,c=c.stateNode,i.nodeType===8?uh(i.parentNode,c):i.nodeType===1&&uh(i,c),za(i)):uh(kr,c.stateNode));break;case 4:h=kr,m=Cn,kr=c.stateNode.containerInfo,Cn=!0,zi(i,a,c),kr=h,Cn=m;break;case 0:case 11:case 14:case 15:if(!Or&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var b=m,L=b.destroy;b=b.tag,L!==void 0&&((b&2)!==0||(b&4)!==0)&&Gh(c,a,L),m=m.next}while(m!==h)}zi(i,a,c);break;case 1:if(!Or&&(Oo(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(H){Xt(c,a,H)}zi(i,a,c);break;case 21:zi(i,a,c);break;case 22:c.mode&1?(Or=(h=Or)||c.memoizedState!==null,zi(i,a,c),Or=h):zi(i,a,c);break;default:zi(i,a,c)}}function ky(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new US),a.forEach(function(h){var m=GS.bind(null,i,h);c.has(h)||(c.add(h),h.then(m,m))})}}function Rn(i,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h];try{var b=i,L=a,H=L;e:for(;H!==null;){switch(H.tag){case 5:kr=H.stateNode,Cn=!1;break e;case 3:kr=H.stateNode.containerInfo,Cn=!0;break e;case 4:kr=H.stateNode.containerInfo,Cn=!0;break e}H=H.return}if(kr===null)throw Error(t(160));Ey(b,L,m),kr=null,Cn=!1;var ee=m.alternate;ee!==null&&(ee.return=null),m.return=null}catch(fe){Xt(m,a,fe)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Ay(a,i),a=a.sibling}function Ay(i,a){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Rn(a,i),Hn(i),h&4){try{ll(3,i,i.return),zc(3,i)}catch(Ce){Xt(i,i.return,Ce)}try{ll(5,i,i.return)}catch(Ce){Xt(i,i.return,Ce)}}break;case 1:Rn(a,i),Hn(i),h&512&&c!==null&&Oo(c,c.return);break;case 5:if(Rn(a,i),Hn(i),h&512&&c!==null&&Oo(c,c.return),i.flags&32){var m=i.stateNode;try{q(m,"")}catch(Ce){Xt(i,i.return,Ce)}}if(h&4&&(m=i.stateNode,m!=null)){var b=i.memoizedProps,L=c!==null?c.memoizedProps:b,H=i.type,ee=i.updateQueue;if(i.updateQueue=null,ee!==null)try{H==="input"&&b.type==="radio"&&b.name!=null&&ps(m,b),lt(H,L);var fe=lt(H,b);for(L=0;L<ee.length;L+=2){var ve=ee[L],xe=ee[L+1];ve==="style"?Ge(m,xe):ve==="dangerouslySetInnerHTML"?E(m,xe):ve==="children"?q(m,xe):U(m,ve,xe,fe)}switch(H){case"input":ht(m,b);break;case"textarea":kt(m,b);break;case"select":var we=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!b.multiple;var Ie=b.value;Ie!=null?rt(m,!!b.multiple,Ie,!1):we!==!!b.multiple&&(b.defaultValue!=null?rt(m,!!b.multiple,b.defaultValue,!0):rt(m,!!b.multiple,b.multiple?[]:"",!1))}m[Qa]=b}catch(Ce){Xt(i,i.return,Ce)}}break;case 6:if(Rn(a,i),Hn(i),h&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,b=i.memoizedProps;try{m.nodeValue=b}catch(Ce){Xt(i,i.return,Ce)}}break;case 3:if(Rn(a,i),Hn(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{za(a.containerInfo)}catch(Ce){Xt(i,i.return,Ce)}break;case 4:Rn(a,i),Hn(i);break;case 13:Rn(a,i),Hn(i),m=i.child,m.flags&8192&&(b=m.memoizedState!==null,m.stateNode.isHidden=b,!b||m.alternate!==null&&m.alternate.memoizedState!==null||(ef=It())),h&4&&ky(i);break;case 22:if(ve=c!==null&&c.memoizedState!==null,i.mode&1?(Or=(fe=Or)||ve,Rn(a,i),Or=fe):Rn(a,i),Hn(i),h&8192){if(fe=i.memoizedState!==null,(i.stateNode.isHidden=fe)&&!ve&&(i.mode&1)!==0)for(Ne=i,ve=i.child;ve!==null;){for(xe=Ne=ve;Ne!==null;){switch(we=Ne,Ie=we.child,we.tag){case 0:case 11:case 14:case 15:ll(4,we,we.return);break;case 1:Oo(we,we.return);var Te=we.stateNode;if(typeof Te.componentWillUnmount=="function"){h=we,c=we.return;try{a=h,Te.props=a.memoizedProps,Te.state=a.memoizedState,Te.componentWillUnmount()}catch(Ce){Xt(h,c,Ce)}}break;case 5:Oo(we,we.return);break;case 22:if(we.memoizedState!==null){Ny(xe);continue}}Ie!==null?(Ie.return=we,Ne=Ie):Ny(xe)}ve=ve.sibling}e:for(ve=null,xe=i;;){if(xe.tag===5){if(ve===null){ve=xe;try{m=xe.stateNode,fe?(b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(H=xe.stateNode,ee=xe.memoizedProps.style,L=ee!=null&&ee.hasOwnProperty("display")?ee.display:null,H.style.display=pe("display",L))}catch(Ce){Xt(i,i.return,Ce)}}}else if(xe.tag===6){if(ve===null)try{xe.stateNode.nodeValue=fe?"":xe.memoizedProps}catch(Ce){Xt(i,i.return,Ce)}}else if((xe.tag!==22&&xe.tag!==23||xe.memoizedState===null||xe===i)&&xe.child!==null){xe.child.return=xe,xe=xe.child;continue}if(xe===i)break e;for(;xe.sibling===null;){if(xe.return===null||xe.return===i)break e;ve===xe&&(ve=null),xe=xe.return}ve===xe&&(ve=null),xe.sibling.return=xe.return,xe=xe.sibling}}break;case 19:Rn(a,i),Hn(i),h&4&&ky(i);break;case 21:break;default:Rn(a,i),Hn(i)}}function Hn(i){var a=i.flags;if(a&2){try{e:{for(var c=i.return;c!==null;){if(_y(c)){var h=c;break e}c=c.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(q(m,""),h.flags&=-33);var b=Sy(i);Qh(i,b,m);break;case 3:case 4:var L=h.stateNode.containerInfo,H=Sy(i);Zh(i,H,L);break;default:throw Error(t(161))}}catch(ee){Xt(i,i.return,ee)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function zS(i,a,c){Ne=i,My(i)}function My(i,a,c){for(var h=(i.mode&1)!==0;Ne!==null;){var m=Ne,b=m.child;if(m.tag===22&&h){var L=m.memoizedState!==null||Dc;if(!L){var H=m.alternate,ee=H!==null&&H.memoizedState!==null||Or;H=Dc;var fe=Or;if(Dc=L,(Or=ee)&&!fe)for(Ne=m;Ne!==null;)L=Ne,ee=L.child,L.tag===22&&L.memoizedState!==null?Ty(m):ee!==null?(ee.return=L,Ne=ee):Ty(m);for(;b!==null;)Ne=b,My(b),b=b.sibling;Ne=m,Dc=H,Or=fe}Iy(i)}else(m.subtreeFlags&8772)!==0&&b!==null?(b.return=m,Ne=b):Iy(i)}}function Iy(i){for(;Ne!==null;){var a=Ne;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Or||zc(5,a);break;case 1:var h=a.stateNode;if(a.flags&4&&!Or)if(c===null)h.componentDidMount();else{var m=a.elementType===a.type?c.memoizedProps:Tn(a.type,c.memoizedProps);h.componentDidUpdate(m,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var b=a.updateQueue;b!==null&&Nm(a,b,h);break;case 3:var L=a.updateQueue;if(L!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}Nm(a,L,c)}break;case 5:var H=a.stateNode;if(c===null&&a.flags&4){c=H;var ee=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":ee.autoFocus&&c.focus();break;case"img":ee.src&&(c.src=ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var fe=a.alternate;if(fe!==null){var ve=fe.memoizedState;if(ve!==null){var xe=ve.dehydrated;xe!==null&&za(xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Or||a.flags&512&&Yh(a)}catch(we){Xt(a,a.return,we)}}if(a===i){Ne=null;break}if(c=a.sibling,c!==null){c.return=a.return,Ne=c;break}Ne=a.return}}function Ny(i){for(;Ne!==null;){var a=Ne;if(a===i){Ne=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Ne=c;break}Ne=a.return}}function Ty(i){for(;Ne!==null;){var a=Ne;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{zc(4,a)}catch(ee){Xt(a,c,ee)}break;case 1:var h=a.stateNode;if(typeof h.componentDidMount=="function"){var m=a.return;try{h.componentDidMount()}catch(ee){Xt(a,m,ee)}}var b=a.return;try{Yh(a)}catch(ee){Xt(a,b,ee)}break;case 5:var L=a.return;try{Yh(a)}catch(ee){Xt(a,L,ee)}}}catch(ee){Xt(a,a.return,ee)}if(a===i){Ne=null;break}var H=a.sibling;if(H!==null){H.return=a.return,Ne=H;break}Ne=a.return}}var FS=Math.ceil,Fc=G.ReactCurrentDispatcher,Jh=G.ReactCurrentOwner,En=G.ReactCurrentBatchConfig,tt=0,wr=null,sr=null,Ar=0,dn=0,Po=Bi(0),pr=0,cl=null,Es=0,Wc=0,Xh=0,ul=null,rn=null,ef=0,Uo=1/0,oi=null,$c=!1,tf=null,Fi=null,qc=!1,Wi=null,Kc=0,dl=0,rf=null,Vc=-1,Hc=0;function Gr(){return(tt&6)!==0?It():Vc!==-1?Vc:Vc=It()}function $i(i){return(i.mode&1)===0?1:(tt&2)!==0&&Ar!==0?Ar&-Ar:ES.transition!==null?(Hc===0&&(Hc=Sg()),Hc):(i=ct,i!==0||(i=window.event,i=i===void 0?16:Rg(i.type)),i)}function jn(i,a,c,h){if(50<dl)throw dl=0,rf=null,Error(t(185));Ba(i,c,h),((tt&2)===0||i!==wr)&&(i===wr&&((tt&2)===0&&(Wc|=c),pr===4&&qi(i,Ar)),nn(i,h),c===1&&tt===0&&(a.mode&1)===0&&(Uo=It()+500,xc&&Pi()))}function nn(i,a){var c=i.callbackNode;E_(i,a);var h=rc(i,i===wr?Ar:0);if(h===0)c!==null&&go(c),i.callbackNode=null,i.callbackPriority=0;else if(a=h&-h,i.callbackPriority!==a){if(c!=null&&go(c),a===1)i.tag===0?SS(Ry.bind(null,i)):ym(Ry.bind(null,i)),vS(function(){(tt&6)===0&&Pi()}),c=null;else{switch(Eg(h)){case 1:c=ms;break;case 4:c=mo;break;case 16:c=Ai;break;case 536870912:c=yo;break;default:c=Ai}c=zy(c,Cy.bind(null,i))}i.callbackPriority=a,i.callbackNode=c}}function Cy(i,a){if(Vc=-1,Hc=0,(tt&6)!==0)throw Error(t(327));var c=i.callbackNode;if(Do()&&i.callbackNode!==c)return null;var h=rc(i,i===wr?Ar:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||a)a=Gc(i,h);else{a=h;var m=tt;tt|=2;var b=Ly();(wr!==i||Ar!==a)&&(oi=null,Uo=It()+500,As(i,a));do try{qS();break}catch(H){jy(i,H)}while(!0);bh(),Fc.current=b,tt=m,sr!==null?a=0:(wr=null,Ar=0,a=pr)}if(a!==0){if(a===2&&(m=Od(i),m!==0&&(h=m,a=nf(i,m))),a===1)throw c=cl,As(i,0),qi(i,h),nn(i,It()),c;if(a===6)qi(i,h);else{if(m=i.current.alternate,(h&30)===0&&!WS(m)&&(a=Gc(i,h),a===2&&(b=Od(i),b!==0&&(h=b,a=nf(i,b))),a===1))throw c=cl,As(i,0),qi(i,h),nn(i,It()),c;switch(i.finishedWork=m,i.finishedLanes=h,a){case 0:case 1:throw Error(t(345));case 2:Ms(i,rn,oi);break;case 3:if(qi(i,h),(h&130023424)===h&&(a=ef+500-It(),10<a)){if(rc(i,0)!==0)break;if(m=i.suspendedLanes,(m&h)!==h){Gr(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=ch(Ms.bind(null,i,rn,oi),a);break}Ms(i,rn,oi);break;case 4:if(qi(i,h),(h&4194240)===h)break;for(a=i.eventTimes,m=-1;0<h;){var L=31-Vr(h);b=1<<L,L=a[L],L>m&&(m=L),h&=~b}if(h=m,h=It()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*FS(h/1960))-h,10<h){i.timeoutHandle=ch(Ms.bind(null,i,rn,oi),h);break}Ms(i,rn,oi);break;case 5:Ms(i,rn,oi);break;default:throw Error(t(329))}}}return nn(i,It()),i.callbackNode===c?Cy.bind(null,i):null}function nf(i,a){var c=ul;return i.current.memoizedState.isDehydrated&&(As(i,a).flags|=256),i=Gc(i,a),i!==2&&(a=rn,rn=c,a!==null&&sf(a)),i}function sf(i){rn===null?rn=i:rn.push.apply(rn,i)}function WS(i){for(var a=i;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var m=c[h],b=m.getSnapshot;m=m.value;try{if(!In(b(),m))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function qi(i,a){for(a&=~Xh,a&=~Wc,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var c=31-Vr(a),h=1<<c;i[c]=-1,a&=~h}}function Ry(i){if((tt&6)!==0)throw Error(t(327));Do();var a=rc(i,0);if((a&1)===0)return nn(i,It()),null;var c=Gc(i,a);if(i.tag!==0&&c===2){var h=Od(i);h!==0&&(a=h,c=nf(i,h))}if(c===1)throw c=cl,As(i,0),qi(i,a),nn(i,It()),c;if(c===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,Ms(i,rn,oi),nn(i,It()),null}function of(i,a){var c=tt;tt|=1;try{return i(a)}finally{tt=c,tt===0&&(Uo=It()+500,xc&&Pi())}}function ks(i){Wi!==null&&Wi.tag===0&&(tt&6)===0&&Do();var a=tt;tt|=1;var c=En.transition,h=ct;try{if(En.transition=null,ct=1,i)return i()}finally{ct=h,En.transition=c,tt=a,(tt&6)===0&&Pi()}}function af(){dn=Po.current,Tt(Po)}function As(i,a){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,wS(c)),sr!==null)for(c=sr.return;c!==null;){var h=c;switch(gh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&vc();break;case 3:Lo(),Tt(Xr),Tt(jr),Ih();break;case 5:Ah(h);break;case 4:Lo();break;case 13:Tt(qt);break;case 19:Tt(qt);break;case 10:xh(h.type._context);break;case 22:case 23:af()}c=c.return}if(wr=i,sr=i=Ki(i.current,null),Ar=dn=a,pr=0,cl=null,Xh=Wc=Es=0,rn=ul=null,xs!==null){for(a=0;a<xs.length;a++)if(c=xs[a],h=c.interleaved,h!==null){c.interleaved=null;var m=h.next,b=c.pending;if(b!==null){var L=b.next;b.next=m,h.next=L}c.pending=h}xs=null}return i}function jy(i,a){do{var c=sr;try{if(bh(),Cc.current=Bc,Rc){for(var h=Kt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}Rc=!1}if(Ss=0,yr=fr=Kt=null,nl=!1,il=0,Jh.current=null,c===null||c.return===null){pr=1,cl=a,sr=null;break}e:{var b=i,L=c.return,H=c,ee=a;if(a=Ar,H.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var fe=ee,ve=H,xe=ve.tag;if((ve.mode&1)===0&&(xe===0||xe===11||xe===15)){var we=ve.alternate;we?(ve.updateQueue=we.updateQueue,ve.memoizedState=we.memoizedState,ve.lanes=we.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var Ie=iy(L);if(Ie!==null){Ie.flags&=-257,sy(Ie,L,H,b,a),Ie.mode&1&&ny(b,fe,a),a=Ie,ee=fe;var Te=a.updateQueue;if(Te===null){var Ce=new Set;Ce.add(ee),a.updateQueue=Ce}else Te.add(ee);break e}else{if((a&1)===0){ny(b,fe,a),lf();break e}ee=Error(t(426))}}else if(Bt&&H.mode&1){var rr=iy(L);if(rr!==null){(rr.flags&65536)===0&&(rr.flags|=256),sy(rr,L,H,b,a),wh(Bo(ee,H));break e}}b=ee=Bo(ee,H),pr!==4&&(pr=2),ul===null?ul=[b]:ul.push(b),b=L;do{switch(b.tag){case 3:b.flags|=65536,a&=-a,b.lanes|=a;var ae=ty(b,ee,a);Im(b,ae);break e;case 1:H=ee;var ne=b.type,ue=b.stateNode;if((b.flags&128)===0&&(typeof ne.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(Fi===null||!Fi.has(ue)))){b.flags|=65536,a&=-a,b.lanes|=a;var Se=ry(b,H,a);Im(b,Se);break e}}b=b.return}while(b!==null)}Oy(c)}catch(Re){a=Re,sr===c&&c!==null&&(sr=c=c.return);continue}break}while(!0)}function Ly(){var i=Fc.current;return Fc.current=Bc,i===null?Bc:i}function lf(){(pr===0||pr===3||pr===2)&&(pr=4),wr===null||(Es&268435455)===0&&(Wc&268435455)===0||qi(wr,Ar)}function Gc(i,a){var c=tt;tt|=2;var h=Ly();(wr!==i||Ar!==a)&&(oi=null,As(i,a));do try{$S();break}catch(m){jy(i,m)}while(!0);if(bh(),tt=c,Fc.current=h,sr!==null)throw Error(t(261));return wr=null,Ar=0,pr}function $S(){for(;sr!==null;)By(sr)}function qS(){for(;sr!==null&&!Ia();)By(sr)}function By(i){var a=Dy(i.alternate,i,dn);i.memoizedProps=i.pendingProps,a===null?Oy(i):sr=a,Jh.current=null}function Oy(i){var a=i;do{var c=a.alternate;if(i=a.return,(a.flags&32768)===0){if(c=OS(c,a,dn),c!==null){sr=c;return}}else{if(c=PS(c,a),c!==null){c.flags&=32767,sr=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{pr=6,sr=null;return}}if(a=a.sibling,a!==null){sr=a;return}sr=a=i}while(a!==null);pr===0&&(pr=5)}function Ms(i,a,c){var h=ct,m=En.transition;try{En.transition=null,ct=1,KS(i,a,c,h)}finally{En.transition=m,ct=h}return null}function KS(i,a,c,h){do Do();while(Wi!==null);if((tt&6)!==0)throw Error(t(327));c=i.finishedWork;var m=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var b=c.lanes|c.childLanes;if(k_(i,b),i===wr&&(sr=wr=null,Ar=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||qc||(qc=!0,zy(Ai,function(){return Do(),null})),b=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||b){b=En.transition,En.transition=null;var L=ct;ct=1;var H=tt;tt|=4,Jh.current=null,DS(i,c),Ay(c,i),dS(ah),sc=!!oh,ah=oh=null,i.current=c,zS(c),Na(),tt=H,ct=L,En.transition=b}else i.current=c;if(qc&&(qc=!1,Wi=i,Kc=m),b=i.pendingLanes,b===0&&(Fi=null),Ra(c.stateNode),nn(i,It()),a!==null)for(h=i.onRecoverableError,c=0;c<a.length;c++)m=a[c],h(m.value,{componentStack:m.stack,digest:m.digest});if($c)throw $c=!1,i=tf,tf=null,i;return(Kc&1)!==0&&i.tag!==0&&Do(),b=i.pendingLanes,(b&1)!==0?i===rf?dl++:(dl=0,rf=i):dl=0,Pi(),null}function Do(){if(Wi!==null){var i=Eg(Kc),a=En.transition,c=ct;try{if(En.transition=null,ct=16>i?16:i,Wi===null)var h=!1;else{if(i=Wi,Wi=null,Kc=0,(tt&6)!==0)throw Error(t(331));var m=tt;for(tt|=4,Ne=i.current;Ne!==null;){var b=Ne,L=b.child;if((Ne.flags&16)!==0){var H=b.deletions;if(H!==null){for(var ee=0;ee<H.length;ee++){var fe=H[ee];for(Ne=fe;Ne!==null;){var ve=Ne;switch(ve.tag){case 0:case 11:case 15:ll(8,ve,b)}var xe=ve.child;if(xe!==null)xe.return=ve,Ne=xe;else for(;Ne!==null;){ve=Ne;var we=ve.sibling,Ie=ve.return;if(xy(ve),ve===fe){Ne=null;break}if(we!==null){we.return=Ie,Ne=we;break}Ne=Ie}}}var Te=b.alternate;if(Te!==null){var Ce=Te.child;if(Ce!==null){Te.child=null;do{var rr=Ce.sibling;Ce.sibling=null,Ce=rr}while(Ce!==null)}}Ne=b}}if((b.subtreeFlags&2064)!==0&&L!==null)L.return=b,Ne=L;else e:for(;Ne!==null;){if(b=Ne,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:ll(9,b,b.return)}var ae=b.sibling;if(ae!==null){ae.return=b.return,Ne=ae;break e}Ne=b.return}}var ne=i.current;for(Ne=ne;Ne!==null;){L=Ne;var ue=L.child;if((L.subtreeFlags&2064)!==0&&ue!==null)ue.return=L,Ne=ue;else e:for(L=ne;Ne!==null;){if(H=Ne,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:zc(9,H)}}catch(Re){Xt(H,H.return,Re)}if(H===L){Ne=null;break e}var Se=H.sibling;if(Se!==null){Se.return=H.return,Ne=Se;break e}Ne=H.return}}if(tt=m,Pi(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(Mi,i)}catch{}h=!0}return h}finally{ct=c,En.transition=a}}return!1}function Py(i,a,c){a=Bo(c,a),a=ty(i,a,1),i=Di(i,a,1),a=Gr(),i!==null&&(Ba(i,1,a),nn(i,a))}function Xt(i,a,c){if(i.tag===3)Py(i,i,c);else for(;a!==null;){if(a.tag===3){Py(a,i,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Fi===null||!Fi.has(h))){i=Bo(c,i),i=ry(a,i,1),a=Di(a,i,1),i=Gr(),a!==null&&(Ba(a,1,i),nn(a,i));break}}a=a.return}}function VS(i,a,c){var h=i.pingCache;h!==null&&h.delete(a),a=Gr(),i.pingedLanes|=i.suspendedLanes&c,wr===i&&(Ar&c)===c&&(pr===4||pr===3&&(Ar&130023424)===Ar&&500>It()-ef?As(i,0):Xh|=c),nn(i,a)}function Uy(i,a){a===0&&((i.mode&1)===0?a=1:(a=tc,tc<<=1,(tc&130023424)===0&&(tc=4194304)));var c=Gr();i=ni(i,a),i!==null&&(Ba(i,a,c),nn(i,c))}function HS(i){var a=i.memoizedState,c=0;a!==null&&(c=a.retryLane),Uy(i,c)}function GS(i,a){var c=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(a),Uy(i,c)}var Dy;Dy=function(i,a,c){if(i!==null)if(i.memoizedProps!==a.pendingProps||Xr.current)tn=!0;else{if((i.lanes&c)===0&&(a.flags&128)===0)return tn=!1,BS(i,a,c);tn=(i.flags&131072)!==0}else tn=!1,Bt&&(a.flags&1048576)!==0&&wm(a,Sc,a.index);switch(a.lanes=0,a.tag){case 2:var h=a.type;Uc(i,a),i=a.pendingProps;var m=Mo(a,jr.current);jo(a,c),m=Ch(null,a,h,i,m,c);var b=Rh();return a.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,en(h)?(b=!0,bc(a)):b=!1,a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Eh(a),m.updater=Oc,a.stateNode=m,m._reactInternals=a,Uh(a,h,i,c),a=Wh(null,a,h,!0,b,c)):(a.tag=0,Bt&&b&&ph(a),Hr(null,a,m,c),a=a.child),a;case 16:h=a.elementType;e:{switch(Uc(i,a),i=a.pendingProps,m=h._init,h=m(h._payload),a.type=h,m=a.tag=ZS(h),i=Tn(h,i),m){case 0:a=Fh(null,a,h,i,c);break e;case 1:a=dy(null,a,h,i,c);break e;case 11:a=oy(null,a,h,i,c);break e;case 14:a=ay(null,a,h,Tn(h.type,i),c);break e}throw Error(t(306,h,""))}return a;case 0:return h=a.type,m=a.pendingProps,m=a.elementType===h?m:Tn(h,m),Fh(i,a,h,m,c);case 1:return h=a.type,m=a.pendingProps,m=a.elementType===h?m:Tn(h,m),dy(i,a,h,m,c);case 3:e:{if(hy(a),i===null)throw Error(t(387));h=a.pendingProps,b=a.memoizedState,m=b.element,Mm(i,a),Nc(a,h,null,c);var L=a.memoizedState;if(h=L.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){m=Bo(Error(t(423)),a),a=fy(i,a,h,c,m);break e}else if(h!==m){m=Bo(Error(t(424)),a),a=fy(i,a,h,c,m);break e}else for(un=Li(a.stateNode.containerInfo.firstChild),cn=a,Bt=!0,Nn=null,c=km(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(To(),h===m){a=si(i,a,c);break e}Hr(i,a,h,c)}a=a.child}return a;case 5:return Tm(a),i===null&&yh(a),h=a.type,m=a.pendingProps,b=i!==null?i.memoizedProps:null,L=m.children,lh(h,m)?L=null:b!==null&&lh(h,b)&&(a.flags|=32),uy(i,a),Hr(i,a,L,c),a.child;case 6:return i===null&&yh(a),null;case 13:return py(i,a,c);case 4:return kh(a,a.stateNode.containerInfo),h=a.pendingProps,i===null?a.child=Co(a,null,h,c):Hr(i,a,h,c),a.child;case 11:return h=a.type,m=a.pendingProps,m=a.elementType===h?m:Tn(h,m),oy(i,a,h,m,c);case 7:return Hr(i,a,a.pendingProps,c),a.child;case 8:return Hr(i,a,a.pendingProps.children,c),a.child;case 12:return Hr(i,a,a.pendingProps.children,c),a.child;case 10:e:{if(h=a.type._context,m=a.pendingProps,b=a.memoizedProps,L=m.value,vt(Ac,h._currentValue),h._currentValue=L,b!==null)if(In(b.value,L)){if(b.children===m.children&&!Xr.current){a=si(i,a,c);break e}}else for(b=a.child,b!==null&&(b.return=a);b!==null;){var H=b.dependencies;if(H!==null){L=b.child;for(var ee=H.firstContext;ee!==null;){if(ee.context===h){if(b.tag===1){ee=ii(-1,c&-c),ee.tag=2;var fe=b.updateQueue;if(fe!==null){fe=fe.shared;var ve=fe.pending;ve===null?ee.next=ee:(ee.next=ve.next,ve.next=ee),fe.pending=ee}}b.lanes|=c,ee=b.alternate,ee!==null&&(ee.lanes|=c),_h(b.return,c,a),H.lanes|=c;break}ee=ee.next}}else if(b.tag===10)L=b.type===a.type?null:b.child;else if(b.tag===18){if(L=b.return,L===null)throw Error(t(341));L.lanes|=c,H=L.alternate,H!==null&&(H.lanes|=c),_h(L,c,a),L=b.sibling}else L=b.child;if(L!==null)L.return=b;else for(L=b;L!==null;){if(L===a){L=null;break}if(b=L.sibling,b!==null){b.return=L.return,L=b;break}L=L.return}b=L}Hr(i,a,m.children,c),a=a.child}return a;case 9:return m=a.type,h=a.pendingProps.children,jo(a,c),m=_n(m),h=h(m),a.flags|=1,Hr(i,a,h,c),a.child;case 14:return h=a.type,m=Tn(h,a.pendingProps),m=Tn(h.type,m),ay(i,a,h,m,c);case 15:return ly(i,a,a.type,a.pendingProps,c);case 17:return h=a.type,m=a.pendingProps,m=a.elementType===h?m:Tn(h,m),Uc(i,a),a.tag=1,en(h)?(i=!0,bc(a)):i=!1,jo(a,c),Xm(a,h,m),Uh(a,h,m,c),Wh(null,a,h,!0,i,c);case 19:return my(i,a,c);case 22:return cy(i,a,c)}throw Error(t(156,a.tag))};function zy(i,a){return po(i,a)}function YS(i,a,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(i,a,c,h){return new YS(i,a,c,h)}function cf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ZS(i){if(typeof i=="function")return cf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Q)return 11;if(i===v)return 14}return 2}function Ki(i,a){var c=i.alternate;return c===null?(c=kn(i.tag,a,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=a,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,a=i.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function Yc(i,a,c,h,m,b){var L=2;if(h=i,typeof i=="function")cf(i)&&(L=1);else if(typeof i=="string")L=5;else e:switch(i){case de:return Is(c.children,m,b,a);case le:L=8,m|=8;break;case K:return i=kn(12,c,a,m|2),i.elementType=K,i.lanes=b,i;case I:return i=kn(13,c,a,m),i.elementType=I,i.lanes=b,i;case f:return i=kn(19,c,a,m),i.elementType=f,i.lanes=b,i;case P:return Zc(c,m,b,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:L=10;break e;case Y:L=9;break e;case Q:L=11;break e;case v:L=14;break e;case R:L=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return a=kn(L,c,a,m),a.elementType=i,a.type=h,a.lanes=b,a}function Is(i,a,c,h){return i=kn(7,i,h,a),i.lanes=c,i}function Zc(i,a,c,h){return i=kn(22,i,h,a),i.elementType=P,i.lanes=c,i.stateNode={isHidden:!1},i}function uf(i,a,c){return i=kn(6,i,null,a),i.lanes=c,i}function df(i,a,c){return a=kn(4,i.children!==null?i.children:[],i.key,a),a.lanes=c,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function QS(i,a,c,h,m){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pd(0),this.expirationTimes=Pd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pd(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function hf(i,a,c,h,m,b,L,H,ee){return i=new QS(i,a,c,H,ee),a===1?(a=1,b===!0&&(a|=8)):a=0,b=kn(3,null,null,a),i.current=b,b.stateNode=i,b.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eh(b),i}function JS(i,a,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:h==null?null:""+h,children:i,containerInfo:a,implementation:c}}function Fy(i){if(!i)return Oi;i=i._reactInternals;e:{if($n(i)!==i||i.tag!==1)throw Error(t(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(en(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(i.tag===1){var c=i.type;if(en(c))return gm(i,c,a)}return a}function Wy(i,a,c,h,m,b,L,H,ee){return i=hf(c,h,!0,i,m,b,L,H,ee),i.context=Fy(null),c=i.current,h=Gr(),m=$i(c),b=ii(h,m),b.callback=a??null,Di(c,b,m),i.current.lanes=m,Ba(i,m,h),nn(i,h),i}function Qc(i,a,c,h){var m=a.current,b=Gr(),L=$i(m);return c=Fy(c),a.context===null?a.context=c:a.pendingContext=c,a=ii(b,L),a.payload={element:i},h=h===void 0?null:h,h!==null&&(a.callback=h),i=Di(m,a,L),i!==null&&(jn(i,m,L,b),Ic(i,m,L)),L}function Jc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function $y(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<a?c:a}}function ff(i,a){$y(i,a),(i=i.alternate)&&$y(i,a)}function XS(){return null}var qy=typeof reportError=="function"?reportError:function(i){console.error(i)};function pf(i){this._internalRoot=i}Xc.prototype.render=pf.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(t(409));Qc(i,a,null,null)},Xc.prototype.unmount=pf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;ks(function(){Qc(null,i,null,null)}),a[Xn]=null}};function Xc(i){this._internalRoot=i}Xc.prototype.unstable_scheduleHydration=function(i){if(i){var a=Mg();i={blockedOn:null,target:i,priority:a};for(var c=0;c<Ci.length&&a!==0&&a<Ci[c].priority;c++);Ci.splice(c,0,i),c===0&&Tg(i)}};function gf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function eu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Ky(){}function eE(i,a,c,h,m){if(m){if(typeof h=="function"){var b=h;h=function(){var fe=Jc(L);b.call(fe)}}var L=Wy(a,h,i,0,null,!1,!1,"",Ky);return i._reactRootContainer=L,i[Xn]=L.current,Ya(i.nodeType===8?i.parentNode:i),ks(),L}for(;m=i.lastChild;)i.removeChild(m);if(typeof h=="function"){var H=h;h=function(){var fe=Jc(ee);H.call(fe)}}var ee=hf(i,0,!1,null,null,!1,!1,"",Ky);return i._reactRootContainer=ee,i[Xn]=ee.current,Ya(i.nodeType===8?i.parentNode:i),ks(function(){Qc(a,ee,c,h)}),ee}function tu(i,a,c,h,m){var b=c._reactRootContainer;if(b){var L=b;if(typeof m=="function"){var H=m;m=function(){var ee=Jc(L);H.call(ee)}}Qc(a,L,i,m)}else L=eE(c,a,i,m,h);return Jc(L)}kg=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var c=La(a.pendingLanes);c!==0&&(Ud(a,c|1),nn(a,It()),(tt&6)===0&&(Uo=It()+500,Pi()))}break;case 13:ks(function(){var h=ni(i,1);if(h!==null){var m=Gr();jn(h,i,1,m)}}),ff(i,1)}},Dd=function(i){if(i.tag===13){var a=ni(i,134217728);if(a!==null){var c=Gr();jn(a,i,134217728,c)}ff(i,134217728)}},Ag=function(i){if(i.tag===13){var a=$i(i),c=ni(i,a);if(c!==null){var h=Gr();jn(c,i,a,h)}ff(i,a)}},Mg=function(){return ct},Ig=function(i,a){var c=ct;try{return ct=i,a()}finally{ct=c}},uo=function(i,a,c){switch(a){case"input":if(ht(i,c),a=c.name,c.type==="radio"&&a!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==i&&h.form===i.form){var m=wc(h);if(!m)throw Error(t(90));ot(h),ht(h,m)}}}break;case"textarea":kt(i,c);break;case"select":a=c.value,a!=null&&rt(i,!!c.multiple,a,!1)}},ka=of,Ft=ks;var tE={usingClientEntryPoint:!1,Events:[Ja,ko,wc,Dt,zt,of]},hl={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rE={bundleType:hl.bundleType,version:hl.version,rendererPackageName:hl.rendererPackageName,rendererConfig:hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ho(i),i===null?null:i.stateNode},findFiberByHostInstance:hl.findFiberByHostInstance||XS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{Mi=ru.inject(rE),Jr=ru}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tE,sn.createPortal=function(i,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gf(a))throw Error(t(200));return JS(i,a,null,c)},sn.createRoot=function(i,a){if(!gf(i))throw Error(t(299));var c=!1,h="",m=qy;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),a=hf(i,1,!1,null,null,c,!1,h,m),i[Xn]=a.current,Ya(i.nodeType===8?i.parentNode:i),new pf(a)},sn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=ho(a),i=i===null?null:i.stateNode,i},sn.flushSync=function(i){return ks(i)},sn.hydrate=function(i,a,c){if(!eu(a))throw Error(t(200));return tu(null,i,a,!0,c)},sn.hydrateRoot=function(i,a,c){if(!gf(i))throw Error(t(405));var h=c!=null&&c.hydratedSources||null,m=!1,b="",L=qy;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onRecoverableError!==void 0&&(L=c.onRecoverableError)),a=Wy(a,null,i,1,c??null,m,!1,b,L),i[Xn]=a.current,Ya(i),h)for(i=0;i<h.length;i++)c=h[i],m=c._getVersion,m=m(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,m]:a.mutableSourceEagerHydrationData.push(c,m);return new Xc(a)},sn.render=function(i,a,c){if(!eu(a))throw Error(t(200));return tu(null,i,a,!1,c)},sn.unmountComponentAtNode=function(i){if(!eu(i))throw Error(t(40));return i._reactRootContainer?(ks(function(){tu(null,null,i,!1,function(){i._reactRootContainer=null,i[Xn]=null})}),!0):!1},sn.unstable_batchedUpdates=of,sn.unstable_renderSubtreeIntoContainer=function(i,a,c,h){if(!eu(c))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return tu(i,a,c,!1,h)},sn.version="18.3.1-next-f1338f8080-20240426",sn}var Xy;function A1(){if(Xy)return wf.exports;Xy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wf.exports=hE(),wf.exports}var ew;function fE(){if(ew)return nu;ew=1;var n=A1();return nu.createRoot=n.createRoot,nu.hydrateRoot=n.hydrateRoot,nu}var pE=fE();const gE=n=>n instanceof Error?n.message+`
`+n.stack:JSON.stringify(n,null,2);class mE extends _e.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){return this.state.hasError?A.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[A.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),A.jsx("pre",{className:"mt-2 text-sm",children:gE(this.state.error)})]}):this.props.children}}var yE=A1();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jl(){return jl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jl.apply(this,arguments)}var os;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(os||(os={}));const tw="popstate";function wE(n){n===void 0&&(n={});function e(r,s){let{pathname:o,search:l,hash:u}=r.location;return O0("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Hu(s)}return bE(e,t,null,n)}function hr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Up(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vE(){return Math.random().toString(36).substr(2,8)}function rw(n,e){return{usr:n.state,key:n.key,idx:e}}function O0(n,e,t,r){return t===void 0&&(t=null),jl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?va(e):e,{state:t,key:e&&e.key||r||vE()})}function Hu(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function va(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function bE(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,u=os.Pop,d=null,p=w();p==null&&(p=0,l.replaceState(jl({},l.state,{idx:p}),""));function w(){return(l.state||{idx:null}).idx}function _(){u=os.Pop;let T=w(),z=T==null?null:T-p;p=T,d&&d({action:u,location:C.location,delta:z})}function k(T,z){u=os.Push;let F=O0(C.location,T,z);p=w()+1;let U=rw(F,p),G=C.createHref(F);try{l.pushState(U,"",G)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;s.location.assign(G)}o&&d&&d({action:u,location:C.location,delta:1})}function S(T,z){u=os.Replace;let F=O0(C.location,T,z);p=w();let U=rw(F,p),G=C.createHref(F);l.replaceState(U,"",G),o&&d&&d({action:u,location:C.location,delta:0})}function N(T){let z=s.location.origin!=="null"?s.location.origin:s.location.href,F=typeof T=="string"?T:Hu(T);return F=F.replace(/ $/,"%20"),hr(z,"No window.location.(origin|href) available to create URL for href: "+F),new URL(F,z)}let C={get action(){return u},get location(){return n(s,l)},listen(T){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(tw,_),d=T,()=>{s.removeEventListener(tw,_),d=null}},createHref(T){return e(s,T)},createURL:N,encodeLocation(T){let z=N(T);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:k,replace:S,go(T){return l.go(T)}};return C}var nw;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(nw||(nw={}));function xE(n,e,t){return t===void 0&&(t="/"),_E(n,e,t)}function _E(n,e,t,r){let s=typeof e=="string"?va(e):e,o=Dp(s.pathname||"/",t);if(o==null)return null;let l=M1(n);SE(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let p=BE(o);u=RE(l[d],p)}return u}function M1(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(o,l,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(hr(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let p=ls([r,d.relativePath]),w=t.concat(d);o.children&&o.children.length>0&&(hr(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),M1(o.children,e,w,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:TE(p,o.index),routesMeta:w})};return n.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,l);else for(let d of I1(o.path))s(o,l,d)}),e}function I1(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=I1(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function SE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:CE(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const EE=/^:[\w-]+$/,kE=3,AE=2,ME=1,IE=10,NE=-2,iw=n=>n==="*";function TE(n,e){let t=n.split("/"),r=t.length;return t.some(iw)&&(r+=NE),e&&(r+=AE),t.filter(s=>!iw(s)).reduce((s,o)=>s+(EE.test(o)?kE:o===""?ME:IE),r)}function CE(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function RE(n,e,t){let{routesMeta:r}=n,s={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],p=u===r.length-1,w=o==="/"?e:e.slice(o.length)||"/",_=jE({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},w),k=d.route;if(!_)return null;Object.assign(s,_.params),l.push({params:s,pathname:ls([o,_.pathname]),pathnameBase:zE(ls([o,_.pathnameBase])),route:k}),_.pathnameBase!=="/"&&(o=ls([o,_.pathnameBase]))}return l}function jE(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=LE(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((p,w,_)=>{let{paramName:k,isOptional:S}=w;if(k==="*"){let C=u[_]||"";l=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const N=u[_];return S&&!N?p[k]=void 0:p[k]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:n}}function LE(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Up(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function BE(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Up(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Dp(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}const OE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PE=n=>OE.test(n);function UE(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?va(n):n,o;if(t)if(PE(t))o=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),Up(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+t))}t.startsWith("/")?o=sw(t.substring(1),"/"):o=sw(t,e)}else o=e;return{pathname:o,search:FE(r),hash:WE(s)}}function sw(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function xf(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DE(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function N1(n,e){let t=DE(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function T1(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=va(n):(s=jl({},n),hr(!s.pathname||!s.pathname.includes("?"),xf("?","pathname","search",s)),hr(!s.pathname||!s.pathname.includes("#"),xf("#","pathname","hash",s)),hr(!s.search||!s.search.includes("#"),xf("#","search","hash",s)));let o=n===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=t;else{let _=e.length-1;if(!r&&l.startsWith("..")){let k=l.split("/");for(;k[0]==="..";)k.shift(),_-=1;s.pathname=k.join("/")}u=_>=0?e[_]:"/"}let d=UE(s,u),p=l&&l!=="/"&&l.endsWith("/"),w=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||w)&&(d.pathname+="/"),d}const ls=n=>n.join("/").replace(/\/\/+/g,"/"),zE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),FE=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,WE=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function $E(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const C1=["post","put","patch","delete"];new Set(C1);const qE=["get",...C1];new Set(qE);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ll(){return Ll=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ll.apply(this,arguments)}const zp=ie.createContext(null),KE=ie.createContext(null),to=ie.createContext(null),vd=ie.createContext(null),ro=ie.createContext({outlet:null,matches:[],isDataRoute:!1}),R1=ie.createContext(null);function VE(n,e){let{relative:t}=e===void 0?{}:e;$l()||hr(!1);let{basename:r,navigator:s}=ie.useContext(to),{hash:o,pathname:l,search:u}=L1(n,{relative:t}),d=l;return r!=="/"&&(d=l==="/"?r:ls([r,l])),s.createHref({pathname:d,search:u,hash:o})}function $l(){return ie.useContext(vd)!=null}function ql(){return $l()||hr(!1),ie.useContext(vd).location}function j1(n){ie.useContext(to).static||ie.useLayoutEffect(n)}function HE(){let{isDataRoute:n}=ie.useContext(ro);return n?o2():GE()}function GE(){$l()||hr(!1);let n=ie.useContext(zp),{basename:e,future:t,navigator:r}=ie.useContext(to),{matches:s}=ie.useContext(ro),{pathname:o}=ql(),l=JSON.stringify(N1(s,t.v7_relativeSplatPath)),u=ie.useRef(!1);return j1(()=>{u.current=!0}),ie.useCallback(function(p,w){if(w===void 0&&(w={}),!u.current)return;if(typeof p=="number"){r.go(p);return}let _=T1(p,JSON.parse(l),o,w.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ls([e,_.pathname])),(w.replace?r.replace:r.push)(_,w.state,w)},[e,r,l,o,n])}function L1(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=ie.useContext(to),{matches:s}=ie.useContext(ro),{pathname:o}=ql(),l=JSON.stringify(N1(s,r.v7_relativeSplatPath));return ie.useMemo(()=>T1(n,JSON.parse(l),o,t==="path"),[n,l,o,t])}function YE(n,e){return ZE(n,e)}function ZE(n,e,t,r){$l()||hr(!1);let{navigator:s}=ie.useContext(to),{matches:o}=ie.useContext(ro),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let p=ql(),w;if(e){var _;let T=typeof e=="string"?va(e):e;d==="/"||(_=T.pathname)!=null&&_.startsWith(d)||hr(!1),w=T}else w=p;let k=w.pathname||"/",S=k;if(d!=="/"){let T=d.replace(/^\//,"").split("/");S="/"+k.replace(/^\//,"").split("/").slice(T.length).join("/")}let N=xE(n,{pathname:S}),C=t2(N&&N.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:ls([d,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?d:ls([d,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,t,r);return e&&C?ie.createElement(vd.Provider,{value:{location:Ll({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:os.Pop}},C):C}function QE(){let n=s2(),e=$E(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ie.createElement(ie.Fragment,null,ie.createElement("h2",null,"Unexpected Application Error!"),ie.createElement("h3",{style:{fontStyle:"italic"}},e),t?ie.createElement("pre",{style:s},t):null,null)}const JE=ie.createElement(QE,null);class XE extends ie.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?ie.createElement(ro.Provider,{value:this.props.routeContext},ie.createElement(R1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function e2(n){let{routeContext:e,match:t,children:r}=n,s=ie.useContext(zp);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),ie.createElement(ro.Provider,{value:e},r)}function t2(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var o;if(!t)return null;if(t.errors)n=t.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=(s=t)==null?void 0:s.errors;if(u!=null){let w=l.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);w>=0||hr(!1),l=l.slice(0,Math.min(l.length,w+1))}let d=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let w=0;w<l.length;w++){let _=l[w];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=w),_.route.id){let{loaderData:k,errors:S}=t,N=_.route.loader&&k[_.route.id]===void 0&&(!S||S[_.route.id]===void 0);if(_.route.lazy||N){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((w,_,k)=>{let S,N=!1,C=null,T=null;t&&(S=u&&_.route.id?u[_.route.id]:void 0,C=_.route.errorElement||JE,d&&(p<0&&k===0?(a2("route-fallback"),N=!0,T=null):p===k&&(N=!0,T=_.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,k+1)),F=()=>{let U;return S?U=C:N?U=T:_.route.Component?U=ie.createElement(_.route.Component,null):_.route.element?U=_.route.element:U=w,ie.createElement(e2,{match:_,routeContext:{outlet:w,matches:z,isDataRoute:t!=null},children:U})};return t&&(_.route.ErrorBoundary||_.route.errorElement||k===0)?ie.createElement(XE,{location:t.location,revalidation:t.revalidation,component:C,error:S,children:F(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):F()},null)}var B1=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(B1||{}),O1=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(O1||{});function r2(n){let e=ie.useContext(zp);return e||hr(!1),e}function n2(n){let e=ie.useContext(KE);return e||hr(!1),e}function i2(n){let e=ie.useContext(ro);return e||hr(!1),e}function P1(n){let e=i2(),t=e.matches[e.matches.length-1];return t.route.id||hr(!1),t.route.id}function s2(){var n;let e=ie.useContext(R1),t=n2(),r=P1();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function o2(){let{router:n}=r2(B1.UseNavigateStable),e=P1(O1.UseNavigateStable),t=ie.useRef(!1);return j1(()=>{t.current=!0}),ie.useCallback(function(s,o){o===void 0&&(o={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,Ll({fromRouteId:e},o)))},[n,e])}const ow={};function a2(n,e,t){ow[n]||(ow[n]=!0)}function l2(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function wl(n){hr(!1)}function c2(n){let{basename:e="/",children:t=null,location:r,navigationType:s=os.Pop,navigator:o,static:l=!1,future:u}=n;$l()&&hr(!1);let d=e.replace(/^\/*/,"/"),p=ie.useMemo(()=>({basename:d,navigator:o,static:l,future:Ll({v7_relativeSplatPath:!1},u)}),[d,u,o,l]);typeof r=="string"&&(r=va(r));let{pathname:w="/",search:_="",hash:k="",state:S=null,key:N="default"}=r,C=ie.useMemo(()=>{let T=Dp(w,d);return T==null?null:{location:{pathname:T,search:_,hash:k,state:S,key:N},navigationType:s}},[d,w,_,k,S,N,s]);return C==null?null:ie.createElement(to.Provider,{value:p},ie.createElement(vd.Provider,{children:t,value:C}))}function u2(n){let{children:e,location:t}=n;return YE(P0(e),t)}new Promise(()=>{});function P0(n,e){e===void 0&&(e=[]);let t=[];return ie.Children.forEach(n,(r,s)=>{if(!ie.isValidElement(r))return;let o=[...e,s];if(r.type===ie.Fragment){t.push.apply(t,P0(r.props.children,o));return}r.type!==wl&&hr(!1),!r.props.index||!r.props.children||hr(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=P0(r.props.children,o)),t.push(l)}),t}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U0(){return U0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},U0.apply(this,arguments)}function d2(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function h2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function f2(n,e){return n.button===0&&(!e||e==="_self")&&!h2(n)}const p2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],g2="6";try{window.__reactRouterVersion=g2}catch{}const m2="startTransition",aw=cE[m2];function y2(n){let{basename:e,children:t,future:r,window:s}=n,o=ie.useRef();o.current==null&&(o.current=wE({window:s,v5Compat:!0}));let l=o.current,[u,d]=ie.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},w=ie.useCallback(_=>{p&&aw?aw(()=>d(_)):d(_)},[d,p]);return ie.useLayoutEffect(()=>l.listen(w),[l,w]),ie.useEffect(()=>l2(r),[r]),ie.createElement(c2,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:l,future:r})}const w2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",v2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_f=ie.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:o,replace:l,state:u,target:d,to:p,preventScrollReset:w,viewTransition:_}=e,k=d2(e,p2),{basename:S}=ie.useContext(to),N,C=!1;if(typeof p=="string"&&v2.test(p)&&(N=p,w2))try{let U=new URL(window.location.href),G=p.startsWith("//")?new URL(U.protocol+p):new URL(p),te=Dp(G.pathname,S);G.origin===U.origin&&te!=null?p=te+G.search+G.hash:C=!0}catch{}let T=VE(p,{relative:s}),z=b2(p,{replace:l,state:u,target:d,preventScrollReset:w,relative:s,viewTransition:_});function F(U){r&&r(U),U.defaultPrevented||z(U)}return ie.createElement("a",U0({},k,{href:N||T,onClick:C||o?r:F,ref:t,target:d}))});var lw;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(lw||(lw={}));var cw;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(cw||(cw={}));function b2(n,e){let{target:t,replace:r,state:s,preventScrollReset:o,relative:l,viewTransition:u}=e===void 0?{}:e,d=HE(),p=ql(),w=L1(n,{relative:l});return ie.useCallback(_=>{if(f2(_,t)){_.preventDefault();let k=r!==void 0?r:Hu(p)===Hu(w);d(n,{replace:k,state:s,preventScrollReset:o,relative:l,viewTransition:u})}},[p,d,w,r,s,t,n,o,l,u])}var Sf={},pl={},uw;function x2(){if(uw)return pl;uw=1,pl.byteLength=u,pl.toByteArray=p,pl.fromByteArray=k;for(var n=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=r.length;s<o;++s)n[s]=r[s],e[r.charCodeAt(s)]=s;e[45]=62,e[95]=63;function l(S){var N=S.length;if(N%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var C=S.indexOf("=");C===-1&&(C=N);var T=C===N?0:4-C%4;return[C,T]}function u(S){var N=l(S),C=N[0],T=N[1];return(C+T)*3/4-T}function d(S,N,C){return(N+C)*3/4-C}function p(S){var N,C=l(S),T=C[0],z=C[1],F=new t(d(S,T,z)),U=0,G=z>0?T-4:T,te;for(te=0;te<G;te+=4)N=e[S.charCodeAt(te)]<<18|e[S.charCodeAt(te+1)]<<12|e[S.charCodeAt(te+2)]<<6|e[S.charCodeAt(te+3)],F[U++]=N>>16&255,F[U++]=N>>8&255,F[U++]=N&255;return z===2&&(N=e[S.charCodeAt(te)]<<2|e[S.charCodeAt(te+1)]>>4,F[U++]=N&255),z===1&&(N=e[S.charCodeAt(te)]<<10|e[S.charCodeAt(te+1)]<<4|e[S.charCodeAt(te+2)]>>2,F[U++]=N>>8&255,F[U++]=N&255),F}function w(S){return n[S>>18&63]+n[S>>12&63]+n[S>>6&63]+n[S&63]}function _(S,N,C){for(var T,z=[],F=N;F<C;F+=3)T=(S[F]<<16&16711680)+(S[F+1]<<8&65280)+(S[F+2]&255),z.push(w(T));return z.join("")}function k(S){for(var N,C=S.length,T=C%3,z=[],F=16383,U=0,G=C-T;U<G;U+=F)z.push(_(S,U,U+F>G?G:U+F));return T===1?(N=S[C-1],z.push(n[N>>2]+n[N<<4&63]+"==")):T===2&&(N=(S[C-2]<<8)+S[C-1],z.push(n[N>>10]+n[N>>4&63]+n[N<<2&63]+"=")),z.join("")}return pl}var iu={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var dw;function _2(){return dw||(dw=1,iu.read=function(n,e,t,r,s){var o,l,u=s*8-r-1,d=(1<<u)-1,p=d>>1,w=-7,_=t?s-1:0,k=t?-1:1,S=n[e+_];for(_+=k,o=S&(1<<-w)-1,S>>=-w,w+=u;w>0;o=o*256+n[e+_],_+=k,w-=8);for(l=o&(1<<-w)-1,o>>=-w,w+=r;w>0;l=l*256+n[e+_],_+=k,w-=8);if(o===0)o=1-p;else{if(o===d)return l?NaN:(S?-1:1)*(1/0);l=l+Math.pow(2,r),o=o-p}return(S?-1:1)*l*Math.pow(2,o-r)},iu.write=function(n,e,t,r,s,o){var l,u,d,p=o*8-s-1,w=(1<<p)-1,_=w>>1,k=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=r?0:o-1,N=r?1:-1,C=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,l=w):(l=Math.floor(Math.log(e)/Math.LN2),e*(d=Math.pow(2,-l))<1&&(l--,d*=2),l+_>=1?e+=k/d:e+=k*Math.pow(2,1-_),e*d>=2&&(l++,d/=2),l+_>=w?(u=0,l=w):l+_>=1?(u=(e*d-1)*Math.pow(2,s),l=l+_):(u=e*Math.pow(2,_-1)*Math.pow(2,s),l=0));s>=8;n[t+S]=u&255,S+=N,u/=256,s-=8);for(l=l<<s|u,p+=s;p>0;n[t+S]=l&255,S+=N,l/=256,p-=8);n[t+S-N]|=C*128}),iu}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var hw;function Fp(){return hw||(hw=1,(function(n){const e=x2(),t=_2(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=u,n.SlowBuffer=F,n.INSPECT_MAX_BYTES=50;const s=2147483647;n.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=o(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const O=new Uint8Array(1),x={foo:function(){return 42}};return Object.setPrototypeOf(x,Uint8Array.prototype),Object.setPrototypeOf(O,x),O.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function l(O){if(O>s)throw new RangeError('The value "'+O+'" is invalid for option "size"');const x=new Uint8Array(O);return Object.setPrototypeOf(x,u.prototype),x}function u(O,x,E){if(typeof O=="number"){if(typeof x=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(O)}return d(O,x,E)}u.poolSize=8192;function d(O,x,E){if(typeof O=="string")return k(O,x);if(ArrayBuffer.isView(O))return N(O);if(O==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(Er(O,ArrayBuffer)||O&&Er(O.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Er(O,SharedArrayBuffer)||O&&Er(O.buffer,SharedArrayBuffer)))return C(O,x,E);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const q=O.valueOf&&O.valueOf();if(q!=null&&q!==O)return u.from(q,x,E);const re=T(O);if(re)return re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return u.from(O[Symbol.toPrimitive]("string"),x,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}u.from=function(O,x,E){return d(O,x,E)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function p(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function w(O,x,E){return p(O),O<=0?l(O):x!==void 0?typeof E=="string"?l(O).fill(x,E):l(O).fill(x):l(O)}u.alloc=function(O,x,E){return w(O,x,E)};function _(O){return p(O),l(O<0?0:z(O)|0)}u.allocUnsafe=function(O){return _(O)},u.allocUnsafeSlow=function(O){return _(O)};function k(O,x){if((typeof x!="string"||x==="")&&(x="utf8"),!u.isEncoding(x))throw new TypeError("Unknown encoding: "+x);const E=U(O,x)|0;let q=l(E);const re=q.write(O,x);return re!==E&&(q=q.slice(0,re)),q}function S(O){const x=O.length<0?0:z(O.length)|0,E=l(x);for(let q=0;q<x;q+=1)E[q]=O[q]&255;return E}function N(O){if(Er(O,Uint8Array)){const x=new Uint8Array(O);return C(x.buffer,x.byteOffset,x.byteLength)}return S(O)}function C(O,x,E){if(x<0||O.byteLength<x)throw new RangeError('"offset" is outside of buffer bounds');if(O.byteLength<x+(E||0))throw new RangeError('"length" is outside of buffer bounds');let q;return x===void 0&&E===void 0?q=new Uint8Array(O):E===void 0?q=new Uint8Array(O,x):q=new Uint8Array(O,x,E),Object.setPrototypeOf(q,u.prototype),q}function T(O){if(u.isBuffer(O)){const x=z(O.length)|0,E=l(x);return E.length===0||O.copy(E,0,0,x),E}if(O.length!==void 0)return typeof O.length!="number"||ft(O.length)?l(0):S(O);if(O.type==="Buffer"&&Array.isArray(O.data))return S(O.data)}function z(O){if(O>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return O|0}function F(O){return+O!=O&&(O=0),u.alloc(+O)}u.isBuffer=function(x){return x!=null&&x._isBuffer===!0&&x!==u.prototype},u.compare=function(x,E){if(Er(x,Uint8Array)&&(x=u.from(x,x.offset,x.byteLength)),Er(E,Uint8Array)&&(E=u.from(E,E.offset,E.byteLength)),!u.isBuffer(x)||!u.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(x===E)return 0;let q=x.length,re=E.length;for(let oe=0,pe=Math.min(q,re);oe<pe;++oe)if(x[oe]!==E[oe]){q=x[oe],re=E[oe];break}return q<re?-1:re<q?1:0},u.isEncoding=function(x){switch(String(x).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(x,E){if(!Array.isArray(x))throw new TypeError('"list" argument must be an Array of Buffers');if(x.length===0)return u.alloc(0);let q;if(E===void 0)for(E=0,q=0;q<x.length;++q)E+=x[q].length;const re=u.allocUnsafe(E);let oe=0;for(q=0;q<x.length;++q){let pe=x[q];if(Er(pe,Uint8Array))oe+pe.length>re.length?(u.isBuffer(pe)||(pe=u.from(pe)),pe.copy(re,oe)):Uint8Array.prototype.set.call(re,pe,oe);else if(u.isBuffer(pe))pe.copy(re,oe);else throw new TypeError('"list" argument must be an Array of Buffers');oe+=pe.length}return re};function U(O,x){if(u.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||Er(O,ArrayBuffer))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);const E=O.length,q=arguments.length>2&&arguments[2]===!0;if(!q&&E===0)return 0;let re=!1;for(;;)switch(x){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return ht(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return at(O).length;default:if(re)return q?-1:ht(O).length;x=(""+x).toLowerCase(),re=!0}}u.byteLength=U;function G(O,x,E){let q=!1;if((x===void 0||x<0)&&(x=0),x>this.length||((E===void 0||E>this.length)&&(E=this.length),E<=0)||(E>>>=0,x>>>=0,E<=x))return"";for(O||(O="utf8");;)switch(O){case"hex":return D(this,x,E);case"utf8":case"utf-8":return f(this,x,E);case"ascii":return P(this,x,E);case"latin1":case"binary":return B(this,x,E);case"base64":return I(this,x,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,x,E);default:if(q)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),q=!0}}u.prototype._isBuffer=!0;function te(O,x,E){const q=O[x];O[x]=O[E],O[E]=q}u.prototype.swap16=function(){const x=this.length;if(x%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let E=0;E<x;E+=2)te(this,E,E+1);return this},u.prototype.swap32=function(){const x=this.length;if(x%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let E=0;E<x;E+=4)te(this,E,E+3),te(this,E+1,E+2);return this},u.prototype.swap64=function(){const x=this.length;if(x%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let E=0;E<x;E+=8)te(this,E,E+7),te(this,E+1,E+6),te(this,E+2,E+5),te(this,E+3,E+4);return this},u.prototype.toString=function(){const x=this.length;return x===0?"":arguments.length===0?f(this,0,x):G.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(x){if(!u.isBuffer(x))throw new TypeError("Argument must be a Buffer");return this===x?!0:u.compare(this,x)===0},u.prototype.inspect=function(){let x="";const E=n.INSPECT_MAX_BYTES;return x=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(x+=" ... "),"<Buffer "+x+">"},r&&(u.prototype[r]=u.prototype.inspect),u.prototype.compare=function(x,E,q,re,oe){if(Er(x,Uint8Array)&&(x=u.from(x,x.offset,x.byteLength)),!u.isBuffer(x))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof x);if(E===void 0&&(E=0),q===void 0&&(q=x?x.length:0),re===void 0&&(re=0),oe===void 0&&(oe=this.length),E<0||q>x.length||re<0||oe>this.length)throw new RangeError("out of range index");if(re>=oe&&E>=q)return 0;if(re>=oe)return-1;if(E>=q)return 1;if(E>>>=0,q>>>=0,re>>>=0,oe>>>=0,this===x)return 0;let pe=oe-re,Ge=q-E;const He=Math.min(pe,Ge),Ke=this.slice(re,oe),lt=x.slice(E,q);for(let De=0;De<He;++De)if(Ke[De]!==lt[De]){pe=Ke[De],Ge=lt[De];break}return pe<Ge?-1:Ge<pe?1:0};function X(O,x,E,q,re){if(O.length===0)return-1;if(typeof E=="string"?(q=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,ft(E)&&(E=re?0:O.length-1),E<0&&(E=O.length+E),E>=O.length){if(re)return-1;E=O.length-1}else if(E<0)if(re)E=0;else return-1;if(typeof x=="string"&&(x=u.from(x,q)),u.isBuffer(x))return x.length===0?-1:de(O,x,E,q,re);if(typeof x=="number")return x=x&255,typeof Uint8Array.prototype.indexOf=="function"?re?Uint8Array.prototype.indexOf.call(O,x,E):Uint8Array.prototype.lastIndexOf.call(O,x,E):de(O,[x],E,q,re);throw new TypeError("val must be string, number or Buffer")}function de(O,x,E,q,re){let oe=1,pe=O.length,Ge=x.length;if(q!==void 0&&(q=String(q).toLowerCase(),q==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(O.length<2||x.length<2)return-1;oe=2,pe/=2,Ge/=2,E/=2}function He(lt,De){return oe===1?lt[De]:lt.readUInt16BE(De*oe)}let Ke;if(re){let lt=-1;for(Ke=E;Ke<pe;Ke++)if(He(O,Ke)===He(x,lt===-1?0:Ke-lt)){if(lt===-1&&(lt=Ke),Ke-lt+1===Ge)return lt*oe}else lt!==-1&&(Ke-=Ke-lt),lt=-1}else for(E+Ge>pe&&(E=pe-Ge),Ke=E;Ke>=0;Ke--){let lt=!0;for(let De=0;De<Ge;De++)if(He(O,Ke+De)!==He(x,De)){lt=!1;break}if(lt)return Ke}return-1}u.prototype.includes=function(x,E,q){return this.indexOf(x,E,q)!==-1},u.prototype.indexOf=function(x,E,q){return X(this,x,E,q,!0)},u.prototype.lastIndexOf=function(x,E,q){return X(this,x,E,q,!1)};function le(O,x,E,q){E=Number(E)||0;const re=O.length-E;q?(q=Number(q),q>re&&(q=re)):q=re;const oe=x.length;q>oe/2&&(q=oe/2);let pe;for(pe=0;pe<q;++pe){const Ge=parseInt(x.substr(pe*2,2),16);if(ft(Ge))return pe;O[E+pe]=Ge}return pe}function K(O,x,E,q){return rt(ht(x,O.length-E),O,E,q)}function V(O,x,E,q){return rt(Et(x),O,E,q)}function Y(O,x,E,q){return rt(at(x),O,E,q)}function Q(O,x,E,q){return rt(Ei(x,O.length-E),O,E,q)}u.prototype.write=function(x,E,q,re){if(E===void 0)re="utf8",q=this.length,E=0;else if(q===void 0&&typeof E=="string")re=E,q=this.length,E=0;else if(isFinite(E))E=E>>>0,isFinite(q)?(q=q>>>0,re===void 0&&(re="utf8")):(re=q,q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const oe=this.length-E;if((q===void 0||q>oe)&&(q=oe),x.length>0&&(q<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");re||(re="utf8");let pe=!1;for(;;)switch(re){case"hex":return le(this,x,E,q);case"utf8":case"utf-8":return K(this,x,E,q);case"ascii":case"latin1":case"binary":return V(this,x,E,q);case"base64":return Y(this,x,E,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,x,E,q);default:if(pe)throw new TypeError("Unknown encoding: "+re);re=(""+re).toLowerCase(),pe=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(O,x,E){return x===0&&E===O.length?e.fromByteArray(O):e.fromByteArray(O.slice(x,E))}function f(O,x,E){E=Math.min(O.length,E);const q=[];let re=x;for(;re<E;){const oe=O[re];let pe=null,Ge=oe>239?4:oe>223?3:oe>191?2:1;if(re+Ge<=E){let He,Ke,lt,De;switch(Ge){case 1:oe<128&&(pe=oe);break;case 2:He=O[re+1],(He&192)===128&&(De=(oe&31)<<6|He&63,De>127&&(pe=De));break;case 3:He=O[re+1],Ke=O[re+2],(He&192)===128&&(Ke&192)===128&&(De=(oe&15)<<12|(He&63)<<6|Ke&63,De>2047&&(De<55296||De>57343)&&(pe=De));break;case 4:He=O[re+1],Ke=O[re+2],lt=O[re+3],(He&192)===128&&(Ke&192)===128&&(lt&192)===128&&(De=(oe&15)<<18|(He&63)<<12|(Ke&63)<<6|lt&63,De>65535&&De<1114112&&(pe=De))}}pe===null?(pe=65533,Ge=1):pe>65535&&(pe-=65536,q.push(pe>>>10&1023|55296),pe=56320|pe&1023),q.push(pe),re+=Ge}return R(q)}const v=4096;function R(O){const x=O.length;if(x<=v)return String.fromCharCode.apply(String,O);let E="",q=0;for(;q<x;)E+=String.fromCharCode.apply(String,O.slice(q,q+=v));return E}function P(O,x,E){let q="";E=Math.min(O.length,E);for(let re=x;re<E;++re)q+=String.fromCharCode(O[re]&127);return q}function B(O,x,E){let q="";E=Math.min(O.length,E);for(let re=x;re<E;++re)q+=String.fromCharCode(O[re]);return q}function D(O,x,E){const q=O.length;(!x||x<0)&&(x=0),(!E||E<0||E>q)&&(E=q);let re="";for(let oe=x;oe<E;++oe)re+=kt[O[oe]];return re}function $(O,x,E){const q=O.slice(x,E);let re="";for(let oe=0;oe<q.length-1;oe+=2)re+=String.fromCharCode(q[oe]+q[oe+1]*256);return re}u.prototype.slice=function(x,E){const q=this.length;x=~~x,E=E===void 0?q:~~E,x<0?(x+=q,x<0&&(x=0)):x>q&&(x=q),E<0?(E+=q,E<0&&(E=0)):E>q&&(E=q),E<x&&(E=x);const re=this.subarray(x,E);return Object.setPrototypeOf(re,u.prototype),re};function M(O,x,E){if(O%1!==0||O<0)throw new RangeError("offset is not uint");if(O+x>E)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(x,E,q){x=x>>>0,E=E>>>0,q||M(x,E,this.length);let re=this[x],oe=1,pe=0;for(;++pe<E&&(oe*=256);)re+=this[x+pe]*oe;return re},u.prototype.readUintBE=u.prototype.readUIntBE=function(x,E,q){x=x>>>0,E=E>>>0,q||M(x,E,this.length);let re=this[x+--E],oe=1;for(;E>0&&(oe*=256);)re+=this[x+--E]*oe;return re},u.prototype.readUint8=u.prototype.readUInt8=function(x,E){return x=x>>>0,E||M(x,1,this.length),this[x]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(x,E){return x=x>>>0,E||M(x,2,this.length),this[x]|this[x+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(x,E){return x=x>>>0,E||M(x,2,this.length),this[x]<<8|this[x+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(x,E){return x=x>>>0,E||M(x,4,this.length),(this[x]|this[x+1]<<8|this[x+2]<<16)+this[x+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(x,E){return x=x>>>0,E||M(x,4,this.length),this[x]*16777216+(this[x+1]<<16|this[x+2]<<8|this[x+3])},u.prototype.readBigUInt64LE=Qr(function(x){x=x>>>0,Sr(x,"offset");const E=this[x],q=this[x+7];(E===void 0||q===void 0)&&st(x,this.length-8);const re=E+this[++x]*2**8+this[++x]*2**16+this[++x]*2**24,oe=this[++x]+this[++x]*2**8+this[++x]*2**16+q*2**24;return BigInt(re)+(BigInt(oe)<<BigInt(32))}),u.prototype.readBigUInt64BE=Qr(function(x){x=x>>>0,Sr(x,"offset");const E=this[x],q=this[x+7];(E===void 0||q===void 0)&&st(x,this.length-8);const re=E*2**24+this[++x]*2**16+this[++x]*2**8+this[++x],oe=this[++x]*2**24+this[++x]*2**16+this[++x]*2**8+q;return(BigInt(re)<<BigInt(32))+BigInt(oe)}),u.prototype.readIntLE=function(x,E,q){x=x>>>0,E=E>>>0,q||M(x,E,this.length);let re=this[x],oe=1,pe=0;for(;++pe<E&&(oe*=256);)re+=this[x+pe]*oe;return oe*=128,re>=oe&&(re-=Math.pow(2,8*E)),re},u.prototype.readIntBE=function(x,E,q){x=x>>>0,E=E>>>0,q||M(x,E,this.length);let re=E,oe=1,pe=this[x+--re];for(;re>0&&(oe*=256);)pe+=this[x+--re]*oe;return oe*=128,pe>=oe&&(pe-=Math.pow(2,8*E)),pe},u.prototype.readInt8=function(x,E){return x=x>>>0,E||M(x,1,this.length),this[x]&128?(255-this[x]+1)*-1:this[x]},u.prototype.readInt16LE=function(x,E){x=x>>>0,E||M(x,2,this.length);const q=this[x]|this[x+1]<<8;return q&32768?q|4294901760:q},u.prototype.readInt16BE=function(x,E){x=x>>>0,E||M(x,2,this.length);const q=this[x+1]|this[x]<<8;return q&32768?q|4294901760:q},u.prototype.readInt32LE=function(x,E){return x=x>>>0,E||M(x,4,this.length),this[x]|this[x+1]<<8|this[x+2]<<16|this[x+3]<<24},u.prototype.readInt32BE=function(x,E){return x=x>>>0,E||M(x,4,this.length),this[x]<<24|this[x+1]<<16|this[x+2]<<8|this[x+3]},u.prototype.readBigInt64LE=Qr(function(x){x=x>>>0,Sr(x,"offset");const E=this[x],q=this[x+7];(E===void 0||q===void 0)&&st(x,this.length-8);const re=this[x+4]+this[x+5]*2**8+this[x+6]*2**16+(q<<24);return(BigInt(re)<<BigInt(32))+BigInt(E+this[++x]*2**8+this[++x]*2**16+this[++x]*2**24)}),u.prototype.readBigInt64BE=Qr(function(x){x=x>>>0,Sr(x,"offset");const E=this[x],q=this[x+7];(E===void 0||q===void 0)&&st(x,this.length-8);const re=(E<<24)+this[++x]*2**16+this[++x]*2**8+this[++x];return(BigInt(re)<<BigInt(32))+BigInt(this[++x]*2**24+this[++x]*2**16+this[++x]*2**8+q)}),u.prototype.readFloatLE=function(x,E){return x=x>>>0,E||M(x,4,this.length),t.read(this,x,!0,23,4)},u.prototype.readFloatBE=function(x,E){return x=x>>>0,E||M(x,4,this.length),t.read(this,x,!1,23,4)},u.prototype.readDoubleLE=function(x,E){return x=x>>>0,E||M(x,8,this.length),t.read(this,x,!0,52,8)},u.prototype.readDoubleBE=function(x,E){return x=x>>>0,E||M(x,8,this.length),t.read(this,x,!1,52,8)};function g(O,x,E,q,re,oe){if(!u.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>re||x<oe)throw new RangeError('"value" argument is out of bounds');if(E+q>O.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(x,E,q,re){if(x=+x,E=E>>>0,q=q>>>0,!re){const Ge=Math.pow(2,8*q)-1;g(this,x,E,q,Ge,0)}let oe=1,pe=0;for(this[E]=x&255;++pe<q&&(oe*=256);)this[E+pe]=x/oe&255;return E+q},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(x,E,q,re){if(x=+x,E=E>>>0,q=q>>>0,!re){const Ge=Math.pow(2,8*q)-1;g(this,x,E,q,Ge,0)}let oe=q-1,pe=1;for(this[E+oe]=x&255;--oe>=0&&(pe*=256);)this[E+oe]=x/pe&255;return E+q},u.prototype.writeUint8=u.prototype.writeUInt8=function(x,E,q){return x=+x,E=E>>>0,q||g(this,x,E,1,255,0),this[E]=x&255,E+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(x,E,q){return x=+x,E=E>>>0,q||g(this,x,E,2,65535,0),this[E]=x&255,this[E+1]=x>>>8,E+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(x,E,q){return x=+x,E=E>>>0,q||g(this,x,E,2,65535,0),this[E]=x>>>8,this[E+1]=x&255,E+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(x,E,q){return x=+x,E=E>>>0,q||g(this,x,E,4,4294967295,0),this[E+3]=x>>>24,this[E+2]=x>>>16,this[E+1]=x>>>8,this[E]=x&255,E+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(x,E,q){return x=+x,E=E>>>0,q||g(this,x,E,4,4294967295,0),this[E]=x>>>24,this[E+1]=x>>>16,this[E+2]=x>>>8,this[E+3]=x&255,E+4};function y(O,x,E,q,re){ot(x,q,re,O,E,7);let oe=Number(x&BigInt(4294967295));O[E++]=oe,oe=oe>>8,O[E++]=oe,oe=oe>>8,O[E++]=oe,oe=oe>>8,O[E++]=oe;let pe=Number(x>>BigInt(32)&BigInt(4294967295));return O[E++]=pe,pe=pe>>8,O[E++]=pe,pe=pe>>8,O[E++]=pe,pe=pe>>8,O[E++]=pe,E}function j(O,x,E,q,re){ot(x,q,re,O,E,7);let oe=Number(x&BigInt(4294967295));O[E+7]=oe,oe=oe>>8,O[E+6]=oe,oe=oe>>8,O[E+5]=oe,oe=oe>>8,O[E+4]=oe;let pe=Number(x>>BigInt(32)&BigInt(4294967295));return O[E+3]=pe,pe=pe>>8,O[E+2]=pe,pe=pe>>8,O[E+1]=pe,pe=pe>>8,O[E]=pe,E+8}u.prototype.writeBigUInt64LE=Qr(function(x,E=0){return y(this,x,E,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Qr(function(x,E=0){return j(this,x,E,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(x,E,q,re){if(x=+x,E=E>>>0,!re){const He=Math.pow(2,8*q-1);g(this,x,E,q,He-1,-He)}let oe=0,pe=1,Ge=0;for(this[E]=x&255;++oe<q&&(pe*=256);)x<0&&Ge===0&&this[E+oe-1]!==0&&(Ge=1),this[E+oe]=(x/pe>>0)-Ge&255;return E+q},u.prototype.writeIntBE=function(x,E,q,re){if(x=+x,E=E>>>0,!re){const He=Math.pow(2,8*q-1);g(this,x,E,q,He-1,-He)}let oe=q-1,pe=1,Ge=0;for(this[E+oe]=x&255;--oe>=0&&(pe*=256);)x<0&&Ge===0&&this[E+oe+1]!==0&&(Ge=1),this[E+oe]=(x/pe>>0)-Ge&255;return E+q},u.prototype.writeInt8=function(x,E,q){return x=+x,E=E>>>0,q||g(this,x,E,1,127,-128),x<0&&(x=255+x+1),this[E]=x&255,E+1},u.prototype.writeInt16LE=function(x,E,q){return x=+x,E=E>>>0,q||g(this,x,E,2,32767,-32768),this[E]=x&255,this[E+1]=x>>>8,E+2},u.prototype.writeInt16BE=function(x,E,q){return x=+x,E=E>>>0,q||g(this,x,E,2,32767,-32768),this[E]=x>>>8,this[E+1]=x&255,E+2},u.prototype.writeInt32LE=function(x,E,q){return x=+x,E=E>>>0,q||g(this,x,E,4,2147483647,-2147483648),this[E]=x&255,this[E+1]=x>>>8,this[E+2]=x>>>16,this[E+3]=x>>>24,E+4},u.prototype.writeInt32BE=function(x,E,q){return x=+x,E=E>>>0,q||g(this,x,E,4,2147483647,-2147483648),x<0&&(x=4294967295+x+1),this[E]=x>>>24,this[E+1]=x>>>16,this[E+2]=x>>>8,this[E+3]=x&255,E+4},u.prototype.writeBigInt64LE=Qr(function(x,E=0){return y(this,x,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Qr(function(x,E=0){return j(this,x,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function W(O,x,E,q,re,oe){if(E+q>O.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function J(O,x,E,q,re){return x=+x,E=E>>>0,re||W(O,x,E,4),t.write(O,x,E,q,23,4),E+4}u.prototype.writeFloatLE=function(x,E,q){return J(this,x,E,!0,q)},u.prototype.writeFloatBE=function(x,E,q){return J(this,x,E,!1,q)};function se(O,x,E,q,re){return x=+x,E=E>>>0,re||W(O,x,E,8),t.write(O,x,E,q,52,8),E+8}u.prototype.writeDoubleLE=function(x,E,q){return se(this,x,E,!0,q)},u.prototype.writeDoubleBE=function(x,E,q){return se(this,x,E,!1,q)},u.prototype.copy=function(x,E,q,re){if(!u.isBuffer(x))throw new TypeError("argument should be a Buffer");if(q||(q=0),!re&&re!==0&&(re=this.length),E>=x.length&&(E=x.length),E||(E=0),re>0&&re<q&&(re=q),re===q||x.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("sourceEnd out of bounds");re>this.length&&(re=this.length),x.length-E<re-q&&(re=x.length-E+q);const oe=re-q;return this===x&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(E,q,re):Uint8Array.prototype.set.call(x,this.subarray(q,re),E),oe},u.prototype.fill=function(x,E,q,re){if(typeof x=="string"){if(typeof E=="string"?(re=E,E=0,q=this.length):typeof q=="string"&&(re=q,q=this.length),re!==void 0&&typeof re!="string")throw new TypeError("encoding must be a string");if(typeof re=="string"&&!u.isEncoding(re))throw new TypeError("Unknown encoding: "+re);if(x.length===1){const pe=x.charCodeAt(0);(re==="utf8"&&pe<128||re==="latin1")&&(x=pe)}}else typeof x=="number"?x=x&255:typeof x=="boolean"&&(x=Number(x));if(E<0||this.length<E||this.length<q)throw new RangeError("Out of range index");if(q<=E)return this;E=E>>>0,q=q===void 0?this.length:q>>>0,x||(x=0);let oe;if(typeof x=="number")for(oe=E;oe<q;++oe)this[oe]=x;else{const pe=u.isBuffer(x)?x:u.from(x,re),Ge=pe.length;if(Ge===0)throw new TypeError('The value "'+x+'" is invalid for argument "value"');for(oe=0;oe<q-E;++oe)this[oe+E]=pe[oe%Ge]}return this};const ge={};function ye(O,x,E){ge[O]=class extends E{constructor(){super(),Object.defineProperty(this,"message",{value:x.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${O}]`,this.stack,delete this.name}get code(){return O}set code(re){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:re,writable:!0})}toString(){return`${this.name} [${O}]: ${this.message}`}}}ye("ERR_BUFFER_OUT_OF_BOUNDS",function(O){return O?`${O} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ye("ERR_INVALID_ARG_TYPE",function(O,x){return`The "${O}" argument must be of type number. Received type ${typeof x}`},TypeError),ye("ERR_OUT_OF_RANGE",function(O,x,E){let q=`The value of "${O}" is out of range.`,re=E;return Number.isInteger(E)&&Math.abs(E)>2**32?re=qe(String(E)):typeof E=="bigint"&&(re=String(E),(E>BigInt(2)**BigInt(32)||E<-(BigInt(2)**BigInt(32)))&&(re=qe(re)),re+="n"),q+=` It must be ${x}. Received ${re}`,q},RangeError);function qe(O){let x="",E=O.length;const q=O[0]==="-"?1:0;for(;E>=q+4;E-=3)x=`_${O.slice(E-3,E)}${x}`;return`${O.slice(0,E)}${x}`}function et(O,x,E){Sr(x,"offset"),(O[x]===void 0||O[x+E]===void 0)&&st(x,O.length-(E+1))}function ot(O,x,E,q,re,oe){if(O>E||O<x){const pe=typeof x=="bigint"?"n":"";let Ge;throw x===0||x===BigInt(0)?Ge=`>= 0${pe} and < 2${pe} ** ${(oe+1)*8}${pe}`:Ge=`>= -(2${pe} ** ${(oe+1)*8-1}${pe}) and < 2 ** ${(oe+1)*8-1}${pe}`,new ge.ERR_OUT_OF_RANGE("value",Ge,O)}et(q,re,oe)}function Sr(O,x){if(typeof O!="number")throw new ge.ERR_INVALID_ARG_TYPE(x,"number",O)}function st(O,x,E){throw Math.floor(O)!==O?(Sr(O,E),new ge.ERR_OUT_OF_RANGE("offset","an integer",O)):x<0?new ge.ERR_BUFFER_OUT_OF_BOUNDS:new ge.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${x}`,O)}const St=/[^+/0-9A-Za-z-_]/g;function ps(O){if(O=O.split("=")[0],O=O.trim().replace(St,""),O.length<2)return"";for(;O.length%4!==0;)O=O+"=";return O}function ht(O,x){x=x||1/0;let E;const q=O.length;let re=null;const oe=[];for(let pe=0;pe<q;++pe){if(E=O.charCodeAt(pe),E>55295&&E<57344){if(!re){if(E>56319){(x-=3)>-1&&oe.push(239,191,189);continue}else if(pe+1===q){(x-=3)>-1&&oe.push(239,191,189);continue}re=E;continue}if(E<56320){(x-=3)>-1&&oe.push(239,191,189),re=E;continue}E=(re-55296<<10|E-56320)+65536}else re&&(x-=3)>-1&&oe.push(239,191,189);if(re=null,E<128){if((x-=1)<0)break;oe.push(E)}else if(E<2048){if((x-=2)<0)break;oe.push(E>>6|192,E&63|128)}else if(E<65536){if((x-=3)<0)break;oe.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((x-=4)<0)break;oe.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return oe}function Et(O){const x=[];for(let E=0;E<O.length;++E)x.push(O.charCodeAt(E)&255);return x}function Ei(O,x){let E,q,re;const oe=[];for(let pe=0;pe<O.length&&!((x-=2)<0);++pe)E=O.charCodeAt(pe),q=E>>8,re=E%256,oe.push(re),oe.push(q);return oe}function at(O){return e.toByteArray(ps(O))}function rt(O,x,E,q){let re;for(re=0;re<q&&!(re+E>=x.length||re>=O.length);++re)x[re+E]=O[re];return re}function Er(O,x){return O instanceof x||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===x.name}function ft(O){return O!==O}const kt=(function(){const O="0123456789abcdef",x=new Array(256);for(let E=0;E<16;++E){const q=E*16;for(let re=0;re<16;++re)x[q+re]=O[E]+O[re]}return x})();function Qr(O){return typeof BigInt>"u"?At:O}function At(){throw new Error("BigInt not supported")}})(Sf)),Sf}var Ze=Fp();const zo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Kl(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function D0(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function no(n,...e){if(!Kl(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function U1(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");D0(n.outputLen),D0(n.blockLen)}function Gu(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function S2(n,e){no(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function fa(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}function Ef(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function Gn(n,e){return n<<32-e|n>>>e}const D1=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",E2=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Ys(n){if(no(n),D1)return n.toHex();let e="";for(let t=0;t<n.length;t++)e+=E2[n[t]];return e}const ai={_0:48,_9:57,A:65,F:70,a:97,f:102};function fw(n){if(n>=ai._0&&n<=ai._9)return n-ai._0;if(n>=ai.A&&n<=ai.F)return n-(ai.A-10);if(n>=ai.a&&n<=ai.f)return n-(ai.a-10)}function Yu(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);if(D1)return Uint8Array.fromHex(n);const e=n.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,o=0;s<t;s++,o+=2){const l=fw(n.charCodeAt(o)),u=fw(n.charCodeAt(o+1));if(l===void 0||u===void 0){const d=n[o]+n[o+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+o)}r[s]=l*16+u}return r}function k2(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function Wp(n){return typeof n=="string"&&(n=k2(n)),no(n),n}function Zn(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];no(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const o=n[r];t.set(o,s),s+=o.length}return t}class z1{}function F1(n){const e=r=>n().update(Wp(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function $p(n=32){if(zo&&typeof zo.getRandomValues=="function")return zo.getRandomValues(new Uint8Array(n));if(zo&&typeof zo.randomBytes=="function")return Uint8Array.from(zo.randomBytes(n));throw new Error("crypto.getRandomValues must be defined")}function A2(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),o=BigInt(4294967295),l=Number(t>>s&o),u=Number(t&o),d=r?4:0,p=r?0:4;n.setUint32(e+d,l,r),n.setUint32(e+p,u,r)}function M2(n,e,t){return n&e^~n&t}function I2(n,e,t){return n&e^n&t^e&t}class W1 extends z1{constructor(e,t,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=Ef(this.buffer)}update(e){Gu(this),e=Wp(e),no(e);const{view:t,buffer:r,blockLen:s}=this,o=e.length;for(let l=0;l<o;){const u=Math.min(s-this.pos,o-l);if(u===s){const d=Ef(e);for(;s<=o-l;l+=s)this.process(d,l);continue}r.set(e.subarray(l,l+u),this.pos),this.pos+=u,l+=u,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Gu(this),S2(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:o}=this;let{pos:l}=this;t[l++]=128,fa(this.buffer.subarray(l)),this.padOffset>s-l&&(this.process(r,0),l=0);for(let _=l;_<s;_++)t[_]=0;A2(r,s-8,BigInt(this.length*8),o),this.process(r,0);const u=Ef(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=d/4,w=this.get();if(p>w.length)throw new Error("_sha2: outputLen bigger than state");for(let _=0;_<p;_++)u.setUint32(4*_,w[_],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:o,destroyed:l,pos:u}=this;return e.destroyed=l,e.finished=o,e.length=s,e.pos=u,s%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Hi=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Pr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),su=BigInt(2**32-1),pw=BigInt(32);function N2(n,e=!1){return e?{h:Number(n&su),l:Number(n>>pw&su)}:{h:Number(n>>pw&su)|0,l:Number(n&su)|0}}function T2(n,e=!1){const t=n.length;let r=new Uint32Array(t),s=new Uint32Array(t);for(let o=0;o<t;o++){const{h:l,l:u}=N2(n[o],e);[r[o],s[o]]=[l,u]}return[r,s]}const gw=(n,e,t)=>n>>>t,mw=(n,e,t)=>n<<32-t|e>>>t,Fo=(n,e,t)=>n>>>t|e<<32-t,Wo=(n,e,t)=>n<<32-t|e>>>t,ou=(n,e,t)=>n<<64-t|e>>>t-32,au=(n,e,t)=>n>>>t-32|e<<64-t;function li(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const C2=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),R2=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,j2=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),L2=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,B2=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),O2=(n,e,t,r,s,o)=>e+t+r+s+o+(n/2**32|0)|0,P2=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Gi=new Uint32Array(64);class U2 extends W1{constructor(e=32){super(64,e,8,!1),this.A=Hi[0]|0,this.B=Hi[1]|0,this.C=Hi[2]|0,this.D=Hi[3]|0,this.E=Hi[4]|0,this.F=Hi[5]|0,this.G=Hi[6]|0,this.H=Hi[7]|0}get(){const{A:e,B:t,C:r,D:s,E:o,F:l,G:u,H:d}=this;return[e,t,r,s,o,l,u,d]}set(e,t,r,s,o,l,u,d){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=l|0,this.G=u|0,this.H=d|0}process(e,t){for(let _=0;_<16;_++,t+=4)Gi[_]=e.getUint32(t,!1);for(let _=16;_<64;_++){const k=Gi[_-15],S=Gi[_-2],N=Gn(k,7)^Gn(k,18)^k>>>3,C=Gn(S,17)^Gn(S,19)^S>>>10;Gi[_]=C+Gi[_-7]+N+Gi[_-16]|0}let{A:r,B:s,C:o,D:l,E:u,F:d,G:p,H:w}=this;for(let _=0;_<64;_++){const k=Gn(u,6)^Gn(u,11)^Gn(u,25),S=w+k+M2(u,d,p)+P2[_]+Gi[_]|0,C=(Gn(r,2)^Gn(r,13)^Gn(r,22))+I2(r,s,o)|0;w=p,p=d,d=u,u=l+S|0,l=o,o=s,s=r,r=S+C|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,l=l+this.D|0,u=u+this.E|0,d=d+this.F|0,p=p+this.G|0,w=w+this.H|0,this.set(r,s,o,l,u,d,p,w)}roundClean(){fa(Gi)}destroy(){this.set(0,0,0,0,0,0,0,0),fa(this.buffer)}}const $1=T2(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),D2=$1[0],z2=$1[1],Yi=new Uint32Array(80),Zi=new Uint32Array(80);class F2 extends W1{constructor(e=64){super(128,e,16,!1),this.Ah=Pr[0]|0,this.Al=Pr[1]|0,this.Bh=Pr[2]|0,this.Bl=Pr[3]|0,this.Ch=Pr[4]|0,this.Cl=Pr[5]|0,this.Dh=Pr[6]|0,this.Dl=Pr[7]|0,this.Eh=Pr[8]|0,this.El=Pr[9]|0,this.Fh=Pr[10]|0,this.Fl=Pr[11]|0,this.Gh=Pr[12]|0,this.Gl=Pr[13]|0,this.Hh=Pr[14]|0,this.Hl=Pr[15]|0}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:o,Cl:l,Dh:u,Dl:d,Eh:p,El:w,Fh:_,Fl:k,Gh:S,Gl:N,Hh:C,Hl:T}=this;return[e,t,r,s,o,l,u,d,p,w,_,k,S,N,C,T]}set(e,t,r,s,o,l,u,d,p,w,_,k,S,N,C,T){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=o|0,this.Cl=l|0,this.Dh=u|0,this.Dl=d|0,this.Eh=p|0,this.El=w|0,this.Fh=_|0,this.Fl=k|0,this.Gh=S|0,this.Gl=N|0,this.Hh=C|0,this.Hl=T|0}process(e,t){for(let U=0;U<16;U++,t+=4)Yi[U]=e.getUint32(t),Zi[U]=e.getUint32(t+=4);for(let U=16;U<80;U++){const G=Yi[U-15]|0,te=Zi[U-15]|0,X=Fo(G,te,1)^Fo(G,te,8)^gw(G,te,7),de=Wo(G,te,1)^Wo(G,te,8)^mw(G,te,7),le=Yi[U-2]|0,K=Zi[U-2]|0,V=Fo(le,K,19)^ou(le,K,61)^gw(le,K,6),Y=Wo(le,K,19)^au(le,K,61)^mw(le,K,6),Q=j2(de,Y,Zi[U-7],Zi[U-16]),I=L2(Q,X,V,Yi[U-7],Yi[U-16]);Yi[U]=I|0,Zi[U]=Q|0}let{Ah:r,Al:s,Bh:o,Bl:l,Ch:u,Cl:d,Dh:p,Dl:w,Eh:_,El:k,Fh:S,Fl:N,Gh:C,Gl:T,Hh:z,Hl:F}=this;for(let U=0;U<80;U++){const G=Fo(_,k,14)^Fo(_,k,18)^ou(_,k,41),te=Wo(_,k,14)^Wo(_,k,18)^au(_,k,41),X=_&S^~_&C,de=k&N^~k&T,le=B2(F,te,de,z2[U],Zi[U]),K=O2(le,z,G,X,D2[U],Yi[U]),V=le|0,Y=Fo(r,s,28)^ou(r,s,34)^ou(r,s,39),Q=Wo(r,s,28)^au(r,s,34)^au(r,s,39),I=r&o^r&u^o&u,f=s&l^s&d^l&d;z=C|0,F=T|0,C=S|0,T=N|0,S=_|0,N=k|0,{h:_,l:k}=li(p|0,w|0,K|0,V|0),p=u|0,w=d|0,u=o|0,d=l|0,o=r|0,l=s|0;const v=C2(V,Q,f);r=R2(v,K,Y,I),s=v|0}({h:r,l:s}=li(this.Ah|0,this.Al|0,r|0,s|0)),{h:o,l}=li(this.Bh|0,this.Bl|0,o|0,l|0),{h:u,l:d}=li(this.Ch|0,this.Cl|0,u|0,d|0),{h:p,l:w}=li(this.Dh|0,this.Dl|0,p|0,w|0),{h:_,l:k}=li(this.Eh|0,this.El|0,_|0,k|0),{h:S,l:N}=li(this.Fh|0,this.Fl|0,S|0,N|0),{h:C,l:T}=li(this.Gh|0,this.Gl|0,C|0,T|0),{h:z,l:F}=li(this.Hh|0,this.Hl|0,z|0,F|0),this.set(r,s,o,l,u,d,p,w,_,k,S,N,C,T,z,F)}roundClean(){fa(Yi,Zi)}destroy(){fa(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const q1=F1(()=>new U2),W2=F1(()=>new F2);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qp=BigInt(0),z0=BigInt(1);function Qs(n,e=""){if(typeof n!="boolean"){const t=e&&`"${e}"`;throw new Error(t+"expected boolean, got type="+typeof n)}return n}function Dn(n,e,t=""){const r=Kl(n),s=n==null?void 0:n.length,o=e!==void 0;if(!r||o&&s!==e){const l=t&&`"${t}" `,u=o?` of length ${e}`:"",d=r?`length=${s}`:`type=${typeof n}`;throw new Error(l+"expected Uint8Array"+u+", got "+d)}return n}function lu(n){const e=n.toString(16);return e.length&1?"0"+e:e}function K1(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?qp:BigInt("0x"+n)}function bd(n){return K1(Ys(n))}function Bl(n){return no(n),K1(Ys(Uint8Array.from(n).reverse()))}function Kp(n,e){return Yu(n.toString(16).padStart(e*2,"0"))}function V1(n,e){return Kp(n,e).reverse()}function tr(n,e,t){let r;if(typeof e=="string")try{r=Yu(e)}catch(o){throw new Error(n+" must be hex string or Uint8Array, cause: "+o)}else if(Kl(e))r=Uint8Array.from(e);else throw new Error(n+" must be hex string or Uint8Array");const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(n+" of length "+t+" expected, got "+s);return r}function yw(n){return Uint8Array.from(n)}const kf=n=>typeof n=="bigint"&&qp<=n;function $2(n,e,t){return kf(n)&&kf(e)&&kf(t)&&e<=n&&n<t}function F0(n,e,t,r){if(!$2(e,t,r))throw new Error("expected valid "+n+": "+t+" <= n < "+r+", got "+e)}function H1(n){let e;for(e=0;n>qp;n>>=z0,e+=1);return e}const Vl=n=>(z0<<BigInt(n))-z0;function q2(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");const r=S=>new Uint8Array(S),s=S=>Uint8Array.of(S);let o=r(n),l=r(n),u=0;const d=()=>{o.fill(1),l.fill(0),u=0},p=(...S)=>t(l,o,...S),w=(S=r(0))=>{l=p(s(0),S),o=p(),S.length!==0&&(l=p(s(1),S),o=p())},_=()=>{if(u++>=1e3)throw new Error("drbg: tried 1000 values");let S=0;const N=[];for(;S<e;){o=p();const C=o.slice();N.push(C),S+=o.length}return Zn(...N)};return(S,N)=>{d(),w(S);let C;for(;!(C=N(_()));)w();return d(),C}}function Hl(n,e,t={}){if(!n||typeof n!="object")throw new Error("expected valid options object");function r(s,o,l){const u=n[s];if(l&&u===void 0)return;const d=typeof u;if(d!==o||u===null)throw new Error(`param "${s}" is invalid: expected ${o}, got ${d}`)}Object.entries(e).forEach(([s,o])=>r(s,o,!1)),Object.entries(t).forEach(([s,o])=>r(s,o,!0))}function Zu(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const o=n(t,...r);return e.set(t,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const an=BigInt(0),Rr=BigInt(1),Ds=BigInt(2),G1=BigInt(3),Y1=BigInt(4),Z1=BigInt(5),K2=BigInt(7),Q1=BigInt(8),V2=BigInt(9),J1=BigInt(16);function ur(n,e){const t=n%e;return t>=an?t:e+t}function er(n,e,t){let r=n;for(;e-- >an;)r*=r,r%=t;return r}function ww(n,e){if(n===an)throw new Error("invert: expected non-zero number");if(e<=an)throw new Error("invert: expected positive modulus, got "+e);let t=ur(n,e),r=e,s=an,o=Rr;for(;t!==an;){const u=r/t,d=r%t,p=s-o*u;r=t,t=d,s=o,o=p}if(r!==Rr)throw new Error("invert: does not exist");return ur(s,e)}function Vp(n,e,t){if(!n.eql(n.sqr(e),t))throw new Error("Cannot find square root")}function X1(n,e){const t=(n.ORDER+Rr)/Y1,r=n.pow(e,t);return Vp(n,r,e),r}function H2(n,e){const t=(n.ORDER-Z1)/Q1,r=n.mul(e,Ds),s=n.pow(r,t),o=n.mul(e,s),l=n.mul(n.mul(o,Ds),s),u=n.mul(o,n.sub(l,n.ONE));return Vp(n,u,e),u}function G2(n){const e=io(n),t=eb(n),r=t(e,e.neg(e.ONE)),s=t(e,r),o=t(e,e.neg(r)),l=(n+K2)/J1;return(u,d)=>{let p=u.pow(d,l),w=u.mul(p,r);const _=u.mul(p,s),k=u.mul(p,o),S=u.eql(u.sqr(w),d),N=u.eql(u.sqr(_),d);p=u.cmov(p,w,S),w=u.cmov(k,_,N);const C=u.eql(u.sqr(w),d),T=u.cmov(p,w,C);return Vp(u,T,d),T}}function eb(n){if(n<G1)throw new Error("sqrt is not defined for small field");let e=n-Rr,t=0;for(;e%Ds===an;)e/=Ds,t++;let r=Ds;const s=io(n);for(;vw(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t===1)return X1;let o=s.pow(r,e);const l=(e+Rr)/Ds;return function(d,p){if(d.is0(p))return p;if(vw(d,p)!==1)throw new Error("Cannot find square root");let w=t,_=d.mul(d.ONE,o),k=d.pow(p,e),S=d.pow(p,l);for(;!d.eql(k,d.ONE);){if(d.is0(k))return d.ZERO;let N=1,C=d.sqr(k);for(;!d.eql(C,d.ONE);)if(N++,C=d.sqr(C),N===w)throw new Error("Cannot find square root");const T=Rr<<BigInt(w-N-1),z=d.pow(_,T);w=N,_=d.sqr(z),k=d.mul(k,_),S=d.mul(S,z)}return S}}function Y2(n){return n%Y1===G1?X1:n%Q1===Z1?H2:n%J1===V2?G2(n):eb(n)}const Z2=(n,e)=>(ur(n,e)&Rr)===Rr,Q2=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function J2(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},t=Q2.reduce((r,s)=>(r[s]="function",r),e);return Hl(n,t),n}function X2(n,e,t){if(t<an)throw new Error("invalid exponent, negatives unsupported");if(t===an)return n.ONE;if(t===Rr)return e;let r=n.ONE,s=e;for(;t>an;)t&Rr&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Rr;return r}function tb(n,e,t=!1){const r=new Array(e.length).fill(t?n.ZERO:void 0),s=e.reduce((l,u,d)=>n.is0(u)?l:(r[d]=l,n.mul(l,u)),n.ONE),o=n.inv(s);return e.reduceRight((l,u,d)=>n.is0(u)?l:(r[d]=n.mul(l,r[d]),n.mul(l,u)),o),r}function vw(n,e){const t=(n.ORDER-Rr)/Ds,r=n.pow(e,t),s=n.eql(r,n.ONE),o=n.eql(r,n.ZERO),l=n.eql(r,n.neg(n.ONE));if(!s&&!o&&!l)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function rb(n,e){e!==void 0&&D0(e);const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function io(n,e,t=!1,r={}){if(n<=an)throw new Error("invalid field: expected ORDER > 0, got "+n);let s,o,l=!1,u;if(typeof e=="object"&&e!=null){if(r.sqrt||t)throw new Error("cannot specify opts in two arguments");const k=e;k.BITS&&(s=k.BITS),k.sqrt&&(o=k.sqrt),typeof k.isLE=="boolean"&&(t=k.isLE),typeof k.modFromBytes=="boolean"&&(l=k.modFromBytes),u=k.allowedLengths}else typeof e=="number"&&(s=e),r.sqrt&&(o=r.sqrt);const{nBitLength:d,nByteLength:p}=rb(n,s);if(p>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let w;const _=Object.freeze({ORDER:n,isLE:t,BITS:d,BYTES:p,MASK:Vl(d),ZERO:an,ONE:Rr,allowedLengths:u,create:k=>ur(k,n),isValid:k=>{if(typeof k!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof k);return an<=k&&k<n},is0:k=>k===an,isValidNot0:k=>!_.is0(k)&&_.isValid(k),isOdd:k=>(k&Rr)===Rr,neg:k=>ur(-k,n),eql:(k,S)=>k===S,sqr:k=>ur(k*k,n),add:(k,S)=>ur(k+S,n),sub:(k,S)=>ur(k-S,n),mul:(k,S)=>ur(k*S,n),pow:(k,S)=>X2(_,k,S),div:(k,S)=>ur(k*ww(S,n),n),sqrN:k=>k*k,addN:(k,S)=>k+S,subN:(k,S)=>k-S,mulN:(k,S)=>k*S,inv:k=>ww(k,n),sqrt:o||(k=>(w||(w=Y2(n)),w(_,k))),toBytes:k=>t?V1(k,p):Kp(k,p),fromBytes:(k,S=!0)=>{if(u){if(!u.includes(k.length)||k.length>p)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+k.length);const C=new Uint8Array(p);C.set(k,t?0:C.length-k.length),k=C}if(k.length!==p)throw new Error("Field.fromBytes: expected "+p+" bytes, got "+k.length);let N=t?Bl(k):bd(k);if(l&&(N=ur(N,n)),!S&&!_.isValid(N))throw new Error("invalid field element: outside of range 0..ORDER");return N},invertBatch:k=>tb(_,k),cmov:(k,S,N)=>N?S:k});return Object.freeze(_)}function nb(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function ib(n){const e=nb(n);return e+Math.ceil(e/2)}function ek(n,e,t=!1){const r=n.length,s=nb(e),o=ib(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const l=t?Bl(n):bd(n),u=ur(l,e-Rr)+Rr;return t?V1(u,s):Kp(u,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pa=BigInt(0),zs=BigInt(1);function Qu(n,e){const t=e.negate();return n?t:e}function Fs(n,e){const t=tb(n.Fp,e.map(r=>r.Z));return e.map((r,s)=>n.fromAffine(r.toAffine(t[s])))}function sb(n,e){if(!Number.isSafeInteger(n)||n<=0||n>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+n)}function Af(n,e){sb(n,e);const t=Math.ceil(e/n)+1,r=2**(n-1),s=2**n,o=Vl(n),l=BigInt(n);return{windows:t,windowSize:r,mask:o,maxNumber:s,shiftBy:l}}function bw(n,e,t){const{windowSize:r,mask:s,maxNumber:o,shiftBy:l}=t;let u=Number(n&s),d=n>>l;u>r&&(u-=o,d+=zs);const p=e*r,w=p+Math.abs(u)-1,_=u===0,k=u<0,S=e%2!==0;return{nextN:d,offset:w,isZero:_,isNeg:k,isNegF:S,offsetF:p}}function tk(n,e){if(!Array.isArray(n))throw new Error("array expected");n.forEach((t,r)=>{if(!(t instanceof e))throw new Error("invalid point at index "+r)})}function rk(n,e){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((t,r)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+r)})}const Mf=new WeakMap,ob=new WeakMap;function If(n){return ob.get(n)||1}function xw(n){if(n!==pa)throw new Error("invalid wNAF")}class ab{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,r=this.ZERO){let s=e;for(;t>pa;)t&zs&&(r=r.add(s)),s=s.double(),t>>=zs;return r}precomputeWindow(e,t){const{windows:r,windowSize:s}=Af(t,this.bits),o=[];let l=e,u=l;for(let d=0;d<r;d++){u=l,o.push(u);for(let p=1;p<s;p++)u=u.add(l),o.push(u);l=u.double()}return o}wNAF(e,t,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let s=this.ZERO,o=this.BASE;const l=Af(e,this.bits);for(let u=0;u<l.windows;u++){const{nextN:d,offset:p,isZero:w,isNeg:_,isNegF:k,offsetF:S}=bw(r,u,l);r=d,w?o=o.add(Qu(k,t[S])):s=s.add(Qu(_,t[p]))}return xw(r),{p:s,f:o}}wNAFUnsafe(e,t,r,s=this.ZERO){const o=Af(e,this.bits);for(let l=0;l<o.windows&&r!==pa;l++){const{nextN:u,offset:d,isZero:p,isNeg:w}=bw(r,l,o);if(r=u,!p){const _=t[d];s=s.add(w?_.negate():_)}}return xw(r),s}getPrecomputes(e,t,r){let s=Mf.get(t);return s||(s=this.precomputeWindow(t,e),e!==1&&(typeof r=="function"&&(s=r(s)),Mf.set(t,s))),s}cached(e,t,r){const s=If(e);return this.wNAF(s,this.getPrecomputes(s,e,r),t)}unsafe(e,t,r,s){const o=If(e);return o===1?this._unsafeLadder(e,t,s):this.wNAFUnsafe(o,this.getPrecomputes(o,e,r),t,s)}createCache(e,t){sb(t,this.bits),ob.set(e,t),Mf.delete(e)}hasCache(e){return If(e)!==1}}function nk(n,e,t,r){let s=e,o=n.ZERO,l=n.ZERO;for(;t>pa||r>pa;)t&zs&&(o=o.add(s)),r&zs&&(l=l.add(s)),s=s.double(),t>>=zs,r>>=zs;return{p1:o,p2:l}}function lb(n,e,t,r){tk(t,n),rk(r,e);const s=t.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const l=n.ZERO,u=H1(BigInt(s));let d=1;u>12?d=u-3:u>4?d=u-2:u>0&&(d=2);const p=Vl(d),w=new Array(Number(p)+1).fill(l),_=Math.floor((e.BITS-1)/d)*d;let k=l;for(let S=_;S>=0;S-=d){w.fill(l);for(let C=0;C<o;C++){const T=r[C],z=Number(T>>BigInt(S)&p);w[z]=w[z].add(t[C])}let N=l;for(let C=w.length-1,T=l;C>0;C--)T=T.add(w[C]),N=N.add(T);if(k=k.add(N),S!==0)for(let C=0;C<d;C++)k=k.double()}return k}function _w(n,e,t){if(e){if(e.ORDER!==n)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return J2(e),e}else return io(n,{isLE:t})}function cb(n,e,t={},r){if(r===void 0&&(r=n==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${n} CURVE object`);for(const d of["p","n","h"]){const p=e[d];if(!(typeof p=="bigint"&&p>pa))throw new Error(`CURVE.${d} must be positive bigint`)}const s=_w(e.p,t.Fp,r),o=_w(e.n,t.Fn,r),u=["Gx","Gy","a",n==="weierstrass"?"b":"d"];for(const d of u)if(!s.isValid(e[d]))throw new Error(`CURVE.${d} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:s,Fn:o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qi=BigInt(0),xr=BigInt(1),Nf=BigInt(2),ik=BigInt(8);function sk(n,e,t,r){const s=n.sqr(t),o=n.sqr(r),l=n.add(n.mul(e.a,s),o),u=n.add(n.ONE,n.mul(e.d,n.mul(s,o)));return n.eql(l,u)}function ok(n,e={}){const t=cb("edwards",n,e,e.FpFnLE),{Fp:r,Fn:s}=t;let o=t.CURVE;const{h:l}=o;Hl(e,{},{uvRatio:"function"});const u=Nf<<BigInt(s.BYTES*8)-xr,d=T=>r.create(T),p=e.uvRatio||((T,z)=>{try{return{isValid:!0,value:r.sqrt(r.div(T,z))}}catch{return{isValid:!1,value:Qi}}});if(!sk(r,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function w(T,z,F=!1){const U=F?xr:Qi;return F0("coordinate "+T,z,U,u),z}function _(T){if(!(T instanceof N))throw new Error("ExtendedPoint expected")}const k=Zu((T,z)=>{const{X:F,Y:U,Z:G}=T,te=T.is0();z==null&&(z=te?ik:r.inv(G));const X=d(F*z),de=d(U*z),le=r.mul(G,z);if(te)return{x:Qi,y:xr};if(le!==xr)throw new Error("invZ was invalid");return{x:X,y:de}}),S=Zu(T=>{const{a:z,d:F}=o;if(T.is0())throw new Error("bad point: ZERO");const{X:U,Y:G,Z:te,T:X}=T,de=d(U*U),le=d(G*G),K=d(te*te),V=d(K*K),Y=d(de*z),Q=d(K*d(Y+le)),I=d(V+d(F*d(de*le)));if(Q!==I)throw new Error("bad point: equation left != right (1)");const f=d(U*G),v=d(te*X);if(f!==v)throw new Error("bad point: equation left != right (2)");return!0});class N{constructor(z,F,U,G){this.X=w("x",z),this.Y=w("y",F),this.Z=w("z",U,!0),this.T=w("t",G),Object.freeze(this)}static CURVE(){return o}static fromAffine(z){if(z instanceof N)throw new Error("extended point not allowed");const{x:F,y:U}=z||{};return w("x",F),w("y",U),new N(F,U,xr,d(F*U))}static fromBytes(z,F=!1){const U=r.BYTES,{a:G,d:te}=o;z=yw(Dn(z,U,"point")),Qs(F,"zip215");const X=yw(z),de=z[U-1];X[U-1]=de&-129;const le=Bl(X),K=F?u:r.ORDER;F0("point.y",le,Qi,K);const V=d(le*le),Y=d(V-xr),Q=d(te*V-G);let{isValid:I,value:f}=p(Y,Q);if(!I)throw new Error("bad point: invalid y coordinate");const v=(f&xr)===xr,R=(de&128)!==0;if(!F&&f===Qi&&R)throw new Error("bad point: x=0 and x_0=1");return R!==v&&(f=d(-f)),N.fromAffine({x:f,y:le})}static fromHex(z,F=!1){return N.fromBytes(tr("point",z),F)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(z=8,F=!0){return C.createCache(this,z),F||this.multiply(Nf),this}assertValidity(){S(this)}equals(z){_(z);const{X:F,Y:U,Z:G}=this,{X:te,Y:X,Z:de}=z,le=d(F*de),K=d(te*G),V=d(U*de),Y=d(X*G);return le===K&&V===Y}is0(){return this.equals(N.ZERO)}negate(){return new N(d(-this.X),this.Y,this.Z,d(-this.T))}double(){const{a:z}=o,{X:F,Y:U,Z:G}=this,te=d(F*F),X=d(U*U),de=d(Nf*d(G*G)),le=d(z*te),K=F+U,V=d(d(K*K)-te-X),Y=le+X,Q=Y-de,I=le-X,f=d(V*Q),v=d(Y*I),R=d(V*I),P=d(Q*Y);return new N(f,v,P,R)}add(z){_(z);const{a:F,d:U}=o,{X:G,Y:te,Z:X,T:de}=this,{X:le,Y:K,Z:V,T:Y}=z,Q=d(G*le),I=d(te*K),f=d(de*U*Y),v=d(X*V),R=d((G+te)*(le+K)-Q-I),P=v-f,B=v+f,D=d(I-F*Q),$=d(R*P),M=d(B*D),g=d(R*D),y=d(P*B);return new N($,M,y,g)}subtract(z){return this.add(z.negate())}multiply(z){if(!s.isValidNot0(z))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:F,f:U}=C.cached(this,z,G=>Fs(N,G));return Fs(N,[F,U])[0]}multiplyUnsafe(z,F=N.ZERO){if(!s.isValid(z))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return z===Qi?N.ZERO:this.is0()||z===xr?this:C.unsafe(this,z,U=>Fs(N,U),F)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return C.unsafe(this,o.n).is0()}toAffine(z){return k(this,z)}clearCofactor(){return l===xr?this:this.multiplyUnsafe(l)}toBytes(){const{x:z,y:F}=this.toAffine(),U=r.toBytes(F);return U[U.length-1]|=z&xr?128:0,U}toHex(){return Ys(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(z){return Fs(N,z)}static msm(z,F){return lb(N,s,z,F)}_setWindowSize(z){this.precompute(z)}toRawBytes(){return this.toBytes()}}N.BASE=new N(o.Gx,o.Gy,xr,d(o.Gx*o.Gy)),N.ZERO=new N(Qi,xr,xr,Qi),N.Fp=r,N.Fn=s;const C=new ab(N,s.BITS);return N.BASE.precompute(8),N}function ak(n,e,t={}){if(typeof e!="function")throw new Error('"hash" function param is required');Hl(t,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=t,{BASE:s,Fp:o,Fn:l}=n,u=t.randomBytes||$p,d=t.adjustScalarBytes||(K=>K),p=t.domain||((K,V,Y)=>{if(Qs(Y,"phflag"),V.length||Y)throw new Error("Contexts/pre-hash are not supported");return K});function w(K){return l.create(Bl(K))}function _(K){const V=U.secretKey;K=tr("private key",K,V);const Y=tr("hashed private key",e(K),2*V),Q=d(Y.slice(0,V)),I=Y.slice(V,2*V),f=w(Q);return{head:Q,prefix:I,scalar:f}}function k(K){const{head:V,prefix:Y,scalar:Q}=_(K),I=s.multiply(Q),f=I.toBytes();return{head:V,prefix:Y,scalar:Q,point:I,pointBytes:f}}function S(K){return k(K).pointBytes}function N(K=Uint8Array.of(),...V){const Y=Zn(...V);return w(e(p(Y,tr("context",K),!!r)))}function C(K,V,Y={}){K=tr("message",K),r&&(K=r(K));const{prefix:Q,scalar:I,pointBytes:f}=k(V),v=N(Y.context,Q,K),R=s.multiply(v).toBytes(),P=N(Y.context,R,f,K),B=l.create(v+P*I);if(!l.isValid(B))throw new Error("sign failed: invalid s");const D=Zn(R,l.toBytes(B));return Dn(D,U.signature,"result")}const T={zip215:!0};function z(K,V,Y,Q=T){const{context:I,zip215:f}=Q,v=U.signature;K=tr("signature",K,v),V=tr("message",V),Y=tr("publicKey",Y,U.publicKey),f!==void 0&&Qs(f,"zip215"),r&&(V=r(V));const R=v/2,P=K.subarray(0,R),B=Bl(K.subarray(R,v));let D,$,M;try{D=n.fromBytes(Y,f),$=n.fromBytes(P,f),M=s.multiplyUnsafe(B)}catch{return!1}if(!f&&D.isSmallOrder())return!1;const g=N(I,$.toBytes(),D.toBytes(),V);return $.add(D.multiplyUnsafe(g)).subtract(M).clearCofactor().is0()}const F=o.BYTES,U={secretKey:F,publicKey:F,signature:2*F,seed:F};function G(K=u(U.seed)){return Dn(K,U.seed,"seed")}function te(K){const V=le.randomSecretKey(K);return{secretKey:V,publicKey:S(V)}}function X(K){return Kl(K)&&K.length===l.BYTES}function de(K,V){try{return!!n.fromBytes(K,V)}catch{return!1}}const le={getExtendedPublicKey:k,randomSecretKey:G,isValidSecretKey:X,isValidPublicKey:de,toMontgomery(K){const{y:V}=n.fromBytes(K),Y=U.publicKey,Q=Y===32;if(!Q&&Y!==57)throw new Error("only defined for 25519 and 448");const I=Q?o.div(xr+V,xr-V):o.div(V-xr,V+xr);return o.toBytes(I)},toMontgomerySecret(K){const V=U.secretKey;Dn(K,V);const Y=e(K.subarray(0,V));return d(Y).subarray(0,V)},randomPrivateKey:G,precompute(K=8,V=n.BASE){return V.precompute(K,!1)}};return Object.freeze({keygen:te,getPublicKey:S,sign:C,verify:z,utils:le,Point:n,lengths:U})}function lk(n){const e={a:n.a,d:n.d,p:n.Fp.ORDER,n:n.n,h:n.h,Gx:n.Gx,Gy:n.Gy},t=n.Fp,r=io(e.n,n.nBitLength,!0),s={Fp:t,Fn:r,uvRatio:n.uvRatio},o={randomBytes:n.randomBytes,adjustScalarBytes:n.adjustScalarBytes,domain:n.domain,prehash:n.prehash,mapToCurve:n.mapToCurve};return{CURVE:e,curveOpts:s,hash:n.hash,eddsaOpts:o}}function ck(n,e){const t=e.Point;return Object.assign({},e,{ExtendedPoint:t,CURVE:n,nBitLength:t.Fn.BITS,nByteLength:t.Fn.BYTES})}function uk(n){const{CURVE:e,curveOpts:t,hash:r,eddsaOpts:s}=lk(n),o=ok(e,t),l=ak(o,r,s);return ck(n,l)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dk=BigInt(1),Sw=BigInt(2);BigInt(3);const hk=BigInt(5),fk=BigInt(8),Hp=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),ub={p:Hp,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:fk,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function pk(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),o=Hp,u=n*n%o*n%o,d=er(u,Sw,o)*u%o,p=er(d,dk,o)*n%o,w=er(p,hk,o)*p%o,_=er(w,e,o)*w%o,k=er(_,t,o)*_%o,S=er(k,r,o)*k%o,N=er(S,s,o)*S%o,C=er(N,s,o)*S%o,T=er(C,e,o)*w%o;return{pow_p_5_8:er(T,Sw,o)*n%o,b2:u}}function gk(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}const Ew=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function mk(n,e){const t=Hp,r=ur(e*e*e,t),s=ur(r*r*e,t),o=pk(n*s).pow_p_5_8;let l=ur(n*r*o,t);const u=ur(e*l*l,t),d=l,p=ur(l*Ew,t),w=u===n,_=u===ur(-n,t),k=u===ur(-n*Ew,t);return w&&(l=d),(_||k)&&(l=p),Z2(l,t)&&(l=ur(-l,t)),{isValid:w||_,value:l}}const yk=io(ub.p,{isLE:!0}),wk={...ub,Fp:yk,hash:W2,adjustScalarBytes:gk,uvRatio:mk},Gl=uk(wk);var Eu={exports:{}};const vk={},bk=Object.freeze(Object.defineProperty({__proto__:null,default:vk},Symbol.toStringTag,{value:"Module"})),xk=wd(bk);var _k=Eu.exports,kw;function db(){return kw||(kw=1,(function(n){(function(e,t){function r(I,f){if(!I)throw new Error(f||"Assertion failed")}function s(I,f){I.super_=f;var v=function(){};v.prototype=f.prototype,I.prototype=new v,I.prototype.constructor=I}function o(I,f,v){if(o.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&((f==="le"||f==="be")&&(v=f,f=10),this._init(I||0,f||10,v||"be"))}typeof e=="object"?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=xk.Buffer}catch{}o.isBN=function(f){return f instanceof o?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===o.wordSize&&Array.isArray(f.words)},o.max=function(f,v){return f.cmp(v)>0?f:v},o.min=function(f,v){return f.cmp(v)<0?f:v},o.prototype._init=function(f,v,R){if(typeof f=="number")return this._initNumber(f,v,R);if(typeof f=="object")return this._initArray(f,v,R);v==="hex"&&(v=16),r(v===(v|0)&&v>=2&&v<=36),f=f.toString().replace(/\s+/g,"");var P=0;f[0]==="-"&&(P++,this.negative=1),P<f.length&&(v===16?this._parseHex(f,P,R):(this._parseBase(f,v,P),R==="le"&&this._initArray(this.toArray(),v,R)))},o.prototype._initNumber=function(f,v,R){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),R==="le"&&this._initArray(this.toArray(),v,R)},o.prototype._initArray=function(f,v,R){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var B,D,$=0;if(R==="be")for(P=f.length-1,B=0;P>=0;P-=3)D=f[P]|f[P-1]<<8|f[P-2]<<16,this.words[B]|=D<<$&67108863,this.words[B+1]=D>>>26-$&67108863,$+=24,$>=26&&($-=26,B++);else if(R==="le")for(P=0,B=0;P<f.length;P+=3)D=f[P]|f[P+1]<<8|f[P+2]<<16,this.words[B]|=D<<$&67108863,this.words[B+1]=D>>>26-$&67108863,$+=24,$>=26&&($-=26,B++);return this._strip()};function u(I,f){var v=I.charCodeAt(f);if(v>=48&&v<=57)return v-48;if(v>=65&&v<=70)return v-55;if(v>=97&&v<=102)return v-87;r(!1,"Invalid character in "+I)}function d(I,f,v){var R=u(I,v);return v-1>=f&&(R|=u(I,v-1)<<4),R}o.prototype._parseHex=function(f,v,R){this.length=Math.ceil((f.length-v)/6),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var B=0,D=0,$;if(R==="be")for(P=f.length-1;P>=v;P-=2)$=d(f,v,P)<<B,this.words[D]|=$&67108863,B>=18?(B-=18,D+=1,this.words[D]|=$>>>26):B+=8;else{var M=f.length-v;for(P=M%2===0?v+1:v;P<f.length;P+=2)$=d(f,v,P)<<B,this.words[D]|=$&67108863,B>=18?(B-=18,D+=1,this.words[D]|=$>>>26):B+=8}this._strip()};function p(I,f,v,R){for(var P=0,B=0,D=Math.min(I.length,v),$=f;$<D;$++){var M=I.charCodeAt($)-48;P*=R,M>=49?B=M-49+10:M>=17?B=M-17+10:B=M,r(M>=0&&B<R,"Invalid character"),P+=B}return P}o.prototype._parseBase=function(f,v,R){this.words=[0],this.length=1;for(var P=0,B=1;B<=67108863;B*=v)P++;P--,B=B/v|0;for(var D=f.length-R,$=D%P,M=Math.min(D,D-$)+R,g=0,y=R;y<M;y+=P)g=p(f,y,y+P,v),this.imuln(B),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g);if($!==0){var j=1;for(g=p(f,y,f.length,v),y=0;y<$;y++)j*=v;this.imuln(j),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g)}this._strip()},o.prototype.copy=function(f){f.words=new Array(this.length);for(var v=0;v<this.length;v++)f.words[v]=this.words[v];f.length=this.length,f.negative=this.negative,f.red=this.red};function w(I,f){I.words=f.words,I.length=f.length,I.negative=f.negative,I.red=f.red}if(o.prototype._move=function(f){w(f,this)},o.prototype.clone=function(){var f=new o(null);return this.copy(f),f},o.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=_}catch{o.prototype.inspect=_}else o.prototype.inspect=_;function _(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(f,v){f=f||10,v=v|0||1;var R;if(f===16||f==="hex"){R="";for(var P=0,B=0,D=0;D<this.length;D++){var $=this.words[D],M=(($<<P|B)&16777215).toString(16);B=$>>>24-P&16777215,P+=2,P>=26&&(P-=26,D--),B!==0||D!==this.length-1?R=k[6-M.length]+M+R:R=M+R}for(B!==0&&(R=B.toString(16)+R);R.length%v!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}if(f===(f|0)&&f>=2&&f<=36){var g=S[f],y=N[f];R="";var j=this.clone();for(j.negative=0;!j.isZero();){var W=j.modrn(y).toString(f);j=j.idivn(y),j.isZero()?R=W+R:R=k[g-W.length]+W+R}for(this.isZero()&&(R="0"+R);R.length%v!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},o.prototype.toJSON=function(){return this.toString(16,2)},l&&(o.prototype.toBuffer=function(f,v){return this.toArrayLike(l,f,v)}),o.prototype.toArray=function(f,v){return this.toArrayLike(Array,f,v)};var C=function(f,v){return f.allocUnsafe?f.allocUnsafe(v):new f(v)};o.prototype.toArrayLike=function(f,v,R){this._strip();var P=this.byteLength(),B=R||Math.max(1,P);r(P<=B,"byte array longer than desired length"),r(B>0,"Requested array length <= 0");var D=C(f,B),$=v==="le"?"LE":"BE";return this["_toArrayLike"+$](D,P),D},o.prototype._toArrayLikeLE=function(f,v){for(var R=0,P=0,B=0,D=0;B<this.length;B++){var $=this.words[B]<<D|P;f[R++]=$&255,R<f.length&&(f[R++]=$>>8&255),R<f.length&&(f[R++]=$>>16&255),D===6?(R<f.length&&(f[R++]=$>>24&255),P=0,D=0):(P=$>>>24,D+=2)}if(R<f.length)for(f[R++]=P;R<f.length;)f[R++]=0},o.prototype._toArrayLikeBE=function(f,v){for(var R=f.length-1,P=0,B=0,D=0;B<this.length;B++){var $=this.words[B]<<D|P;f[R--]=$&255,R>=0&&(f[R--]=$>>8&255),R>=0&&(f[R--]=$>>16&255),D===6?(R>=0&&(f[R--]=$>>24&255),P=0,D=0):(P=$>>>24,D+=2)}if(R>=0)for(f[R--]=P;R>=0;)f[R--]=0},Math.clz32?o.prototype._countBits=function(f){return 32-Math.clz32(f)}:o.prototype._countBits=function(f){var v=f,R=0;return v>=4096&&(R+=13,v>>>=13),v>=64&&(R+=7,v>>>=7),v>=8&&(R+=4,v>>>=4),v>=2&&(R+=2,v>>>=2),R+v},o.prototype._zeroBits=function(f){if(f===0)return 26;var v=f,R=0;return(v&8191)===0&&(R+=13,v>>>=13),(v&127)===0&&(R+=7,v>>>=7),(v&15)===0&&(R+=4,v>>>=4),(v&3)===0&&(R+=2,v>>>=2),(v&1)===0&&R++,R},o.prototype.bitLength=function(){var f=this.words[this.length-1],v=this._countBits(f);return(this.length-1)*26+v};function T(I){for(var f=new Array(I.bitLength()),v=0;v<f.length;v++){var R=v/26|0,P=v%26;f[v]=I.words[R]>>>P&1}return f}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,v=0;v<this.length;v++){var R=this._zeroBits(this.words[v]);if(f+=R,R!==26)break}return f},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},o.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var v=0;v<f.length;v++)this.words[v]=this.words[v]|f.words[v];return this._strip()},o.prototype.ior=function(f){return r((this.negative|f.negative)===0),this.iuor(f)},o.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},o.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},o.prototype.iuand=function(f){var v;this.length>f.length?v=f:v=this;for(var R=0;R<v.length;R++)this.words[R]=this.words[R]&f.words[R];return this.length=v.length,this._strip()},o.prototype.iand=function(f){return r((this.negative|f.negative)===0),this.iuand(f)},o.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},o.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},o.prototype.iuxor=function(f){var v,R;this.length>f.length?(v=this,R=f):(v=f,R=this);for(var P=0;P<R.length;P++)this.words[P]=v.words[P]^R.words[P];if(this!==v)for(;P<v.length;P++)this.words[P]=v.words[P];return this.length=v.length,this._strip()},o.prototype.ixor=function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},o.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},o.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},o.prototype.inotn=function(f){r(typeof f=="number"&&f>=0);var v=Math.ceil(f/26)|0,R=f%26;this._expand(v),R>0&&v--;for(var P=0;P<v;P++)this.words[P]=~this.words[P]&67108863;return R>0&&(this.words[P]=~this.words[P]&67108863>>26-R),this._strip()},o.prototype.notn=function(f){return this.clone().inotn(f)},o.prototype.setn=function(f,v){r(typeof f=="number"&&f>=0);var R=f/26|0,P=f%26;return this._expand(R+1),v?this.words[R]=this.words[R]|1<<P:this.words[R]=this.words[R]&~(1<<P),this._strip()},o.prototype.iadd=function(f){var v;if(this.negative!==0&&f.negative===0)return this.negative=0,v=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,v=this.isub(f),f.negative=1,v._normSign();var R,P;this.length>f.length?(R=this,P=f):(R=f,P=this);for(var B=0,D=0;D<P.length;D++)v=(R.words[D]|0)+(P.words[D]|0)+B,this.words[D]=v&67108863,B=v>>>26;for(;B!==0&&D<R.length;D++)v=(R.words[D]|0)+B,this.words[D]=v&67108863,B=v>>>26;if(this.length=R.length,B!==0)this.words[this.length]=B,this.length++;else if(R!==this)for(;D<R.length;D++)this.words[D]=R.words[D];return this},o.prototype.add=function(f){var v;return f.negative!==0&&this.negative===0?(f.negative=0,v=this.sub(f),f.negative^=1,v):f.negative===0&&this.negative!==0?(this.negative=0,v=f.sub(this),this.negative=1,v):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},o.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var v=this.iadd(f);return f.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var R=this.cmp(f);if(R===0)return this.negative=0,this.length=1,this.words[0]=0,this;var P,B;R>0?(P=this,B=f):(P=f,B=this);for(var D=0,$=0;$<B.length;$++)v=(P.words[$]|0)-(B.words[$]|0)+D,D=v>>26,this.words[$]=v&67108863;for(;D!==0&&$<P.length;$++)v=(P.words[$]|0)+D,D=v>>26,this.words[$]=v&67108863;if(D===0&&$<P.length&&P!==this)for(;$<P.length;$++)this.words[$]=P.words[$];return this.length=Math.max(this.length,$),P!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(f){return this.clone().isub(f)};function z(I,f,v){v.negative=f.negative^I.negative;var R=I.length+f.length|0;v.length=R,R=R-1|0;var P=I.words[0]|0,B=f.words[0]|0,D=P*B,$=D&67108863,M=D/67108864|0;v.words[0]=$;for(var g=1;g<R;g++){for(var y=M>>>26,j=M&67108863,W=Math.min(g,f.length-1),J=Math.max(0,g-I.length+1);J<=W;J++){var se=g-J|0;P=I.words[se]|0,B=f.words[J]|0,D=P*B+j,y+=D/67108864|0,j=D&67108863}v.words[g]=j|0,M=y|0}return M!==0?v.words[g]=M|0:v.length--,v._strip()}var F=function(f,v,R){var P=f.words,B=v.words,D=R.words,$=0,M,g,y,j=P[0]|0,W=j&8191,J=j>>>13,se=P[1]|0,ge=se&8191,ye=se>>>13,qe=P[2]|0,et=qe&8191,ot=qe>>>13,Sr=P[3]|0,st=Sr&8191,St=Sr>>>13,ps=P[4]|0,ht=ps&8191,Et=ps>>>13,Ei=P[5]|0,at=Ei&8191,rt=Ei>>>13,Er=P[6]|0,ft=Er&8191,kt=Er>>>13,Qr=P[7]|0,At=Qr&8191,O=Qr>>>13,x=P[8]|0,E=x&8191,q=x>>>13,re=P[9]|0,oe=re&8191,pe=re>>>13,Ge=B[0]|0,He=Ge&8191,Ke=Ge>>>13,lt=B[1]|0,De=lt&8191,Ct=lt>>>13,uo=B[2]|0,pt=uo&8191,gt=uo>>>13,Ea=B[3]|0,Dt=Ea&8191,zt=Ea>>>13,ka=B[4]|0,Ft=ka&8191,Rt=ka>>>13,Aa=B[5]|0,yt=Aa&8191,jt=Aa>>>13,ki=B[6]|0,Zt=ki&8191,wt=ki>>>13,gs=B[7]|0,Mt=gs&8191,Lt=gs>>>13,Xl=B[8]|0,Qt=Xl&8191,Jt=Xl>>>13,$n=B[9]|0,Wt=$n&8191,$t=$n>>>13;R.negative=f.negative^v.negative,R.length=19,M=Math.imul(W,He),g=Math.imul(W,Ke),g=g+Math.imul(J,He)|0,y=Math.imul(J,Ke);var Ma=($+M|0)+((g&8191)<<13)|0;$=(y+(g>>>13)|0)+(Ma>>>26)|0,Ma&=67108863,M=Math.imul(ge,He),g=Math.imul(ge,Ke),g=g+Math.imul(ye,He)|0,y=Math.imul(ye,Ke),M=M+Math.imul(W,De)|0,g=g+Math.imul(W,Ct)|0,g=g+Math.imul(J,De)|0,y=y+Math.imul(J,Ct)|0;var ho=($+M|0)+((g&8191)<<13)|0;$=(y+(g>>>13)|0)+(ho>>>26)|0,ho&=67108863,M=Math.imul(et,He),g=Math.imul(et,Ke),g=g+Math.imul(ot,He)|0,y=Math.imul(ot,Ke),M=M+Math.imul(ge,De)|0,g=g+Math.imul(ge,Ct)|0,g=g+Math.imul(ye,De)|0,y=y+Math.imul(ye,Ct)|0,M=M+Math.imul(W,pt)|0,g=g+Math.imul(W,gt)|0,g=g+Math.imul(J,pt)|0,y=y+Math.imul(J,gt)|0;var fo=($+M|0)+((g&8191)<<13)|0;$=(y+(g>>>13)|0)+(fo>>>26)|0,fo&=67108863,M=Math.imul(st,He),g=Math.imul(st,Ke),g=g+Math.imul(St,He)|0,y=Math.imul(St,Ke),M=M+Math.imul(et,De)|0,g=g+Math.imul(et,Ct)|0,g=g+Math.imul(ot,De)|0,y=y+Math.imul(ot,Ct)|0,M=M+Math.imul(ge,pt)|0,g=g+Math.imul(ge,gt)|0,g=g+Math.imul(ye,pt)|0,y=y+Math.imul(ye,gt)|0,M=M+Math.imul(W,Dt)|0,g=g+Math.imul(W,zt)|0,g=g+Math.imul(J,Dt)|0,y=y+Math.imul(J,zt)|0;var po=($+M|0)+((g&8191)<<13)|0;$=(y+(g>>>13)|0)+(po>>>26)|0,po&=67108863,M=Math.imul(ht,He),g=Math.imul(ht,Ke),g=g+Math.imul(Et,He)|0,y=Math.imul(Et,Ke),M=M+Math.imul(st,De)|0,g=g+Math.imul(st,Ct)|0,g=g+Math.imul(St,De)|0,y=y+Math.imul(St,Ct)|0,M=M+Math.imul(et,pt)|0,g=g+Math.imul(et,gt)|0,g=g+Math.imul(ot,pt)|0,y=y+Math.imul(ot,gt)|0,M=M+Math.imul(ge,Dt)|0,g=g+Math.imul(ge,zt)|0,g=g+Math.imul(ye,Dt)|0,y=y+Math.imul(ye,zt)|0,M=M+Math.imul(W,Ft)|0,g=g+Math.imul(W,Rt)|0,g=g+Math.imul(J,Ft)|0,y=y+Math.imul(J,Rt)|0;var go=($+M|0)+((g&8191)<<13)|0;$=(y+(g>>>13)|0)+(go>>>26)|0,go&=67108863,M=Math.imul(at,He),g=Math.imul(at,Ke),g=g+Math.imul(rt,He)|0,y=Math.imul(rt,Ke),M=M+Math.imul(ht,De)|0,g=g+Math.imul(ht,Ct)|0,g=g+Math.imul(Et,De)|0,y=y+Math.imul(Et,Ct)|0,M=M+Math.imul(st,pt)|0,g=g+Math.imul(st,gt)|0,g=g+Math.imul(St,pt)|0,y=y+Math.imul(St,gt)|0,M=M+Math.imul(et,Dt)|0,g=g+Math.imul(et,zt)|0,g=g+Math.imul(ot,Dt)|0,y=y+Math.imul(ot,zt)|0,M=M+Math.imul(ge,Ft)|0,g=g+Math.imul(ge,Rt)|0,g=g+Math.imul(ye,Ft)|0,y=y+Math.imul(ye,Rt)|0,M=M+Math.imul(W,yt)|0,g=g+Math.imul(W,jt)|0,g=g+Math.imul(J,yt)|0,y=y+Math.imul(J,jt)|0;var Ia=($+M|0)+((g&8191)<<13)|0;$=(y+(g>>>13)|0)+(Ia>>>26)|0,Ia&=67108863,M=Math.imul(ft,He),g=Math.imul(ft,Ke),g=g+Math.imul(kt,He)|0,y=Math.imul(kt,Ke),M=M+Math.imul(at,De)|0,g=g+Math.imul(at,Ct)|0,g=g+Math.imul(rt,De)|0,y=y+Math.imul(rt,Ct)|0,M=M+Math.imul(ht,pt)|0,g=g+Math.imul(ht,gt)|0,g=g+Math.imul(Et,pt)|0,y=y+Math.imul(Et,gt)|0,M=M+Math.imul(st,Dt)|0,g=g+Math.imul(st,zt)|0,g=g+Math.imul(St,Dt)|0,y=y+Math.imul(St,zt)|0,M=M+Math.imul(et,Ft)|0,g=g+Math.imul(et,Rt)|0,g=g+Math.imul(ot,Ft)|0,y=y+Math.imul(ot,Rt)|0,M=M+Math.imul(ge,yt)|0,g=g+Math.imul(ge,jt)|0,g=g+Math.imul(ye,yt)|0,y=y+Math.imul(ye,jt)|0,M=M+Math.imul(W,Zt)|0,g=g+Math.imul(W,wt)|0,g=g+Math.imul(J,Zt)|0,y=y+Math.imul(J,wt)|0;var Na=($+M|0)+((g&8191)<<13)|0;$=(y+(g>>>13)|0)+(Na>>>26)|0,Na&=67108863,M=Math.imul(At,He),g=Math.imul(At,Ke),g=g+Math.imul(O,He)|0,y=Math.imul(O,Ke),M=M+Math.imul(ft,De)|0,g=g+Math.imul(ft,Ct)|0,g=g+Math.imul(kt,De)|0,y=y+Math.imul(kt,Ct)|0,M=M+Math.imul(at,pt)|0,g=g+Math.imul(at,gt)|0,g=g+Math.imul(rt,pt)|0,y=y+Math.imul(rt,gt)|0,M=M+Math.imul(ht,Dt)|0,g=g+Math.imul(ht,zt)|0,g=g+Math.imul(Et,Dt)|0,y=y+Math.imul(Et,zt)|0,M=M+Math.imul(st,Ft)|0,g=g+Math.imul(st,Rt)|0,g=g+Math.imul(St,Ft)|0,y=y+Math.imul(St,Rt)|0,M=M+Math.imul(et,yt)|0,g=g+Math.imul(et,jt)|0,g=g+Math.imul(ot,yt)|0,y=y+Math.imul(ot,jt)|0,M=M+Math.imul(ge,Zt)|0,g=g+Math.imul(ge,wt)|0,g=g+Math.imul(ye,Zt)|0,y=y+Math.imul(ye,wt)|0,M=M+Math.imul(W,Mt)|0,g=g+Math.imul(W,Lt)|0,g=g+Math.imul(J,Mt)|0,y=y+Math.imul(J,Lt)|0;var It=($+M|0)+((g&8191)<<13)|0;$=(y+(g>>>13)|0)+(It>>>26)|0,It&=67108863,M=Math.imul(E,He),g=Math.imul(E,Ke),g=g+Math.imul(q,He)|0,y=Math.imul(q,Ke),M=M+Math.imul(At,De)|0,g=g+Math.imul(At,Ct)|0,g=g+Math.imul(O,De)|0,y=y+Math.imul(O,Ct)|0,M=M+Math.imul(ft,pt)|0,g=g+Math.imul(ft,gt)|0,g=g+Math.imul(kt,pt)|0,y=y+Math.imul(kt,gt)|0,M=M+Math.imul(at,Dt)|0,g=g+Math.imul(at,zt)|0,g=g+Math.imul(rt,Dt)|0,y=y+Math.imul(rt,zt)|0,M=M+Math.imul(ht,Ft)|0,g=g+Math.imul(ht,Rt)|0,g=g+Math.imul(Et,Ft)|0,y=y+Math.imul(Et,Rt)|0,M=M+Math.imul(st,yt)|0,g=g+Math.imul(st,jt)|0,g=g+Math.imul(St,yt)|0,y=y+Math.imul(St,jt)|0,M=M+Math.imul(et,Zt)|0,g=g+Math.imul(et,wt)|0,g=g+Math.imul(ot,Zt)|0,y=y+Math.imul(ot,wt)|0,M=M+Math.imul(ge,Mt)|0,g=g+Math.imul(ge,Lt)|0,g=g+Math.imul(ye,Mt)|0,y=y+Math.imul(ye,Lt)|0,M=M+Math.imul(W,Qt)|0,g=g+Math.imul(W,Jt)|0,g=g+Math.imul(J,Qt)|0,y=y+Math.imul(J,Jt)|0;var Ta=($+M|0)+((g&8191)<<13)|0;$=(y+(g>>>13)|0)+(Ta>>>26)|0,Ta&=67108863,M=Math.imul(oe,He),g=Math.imul(oe,Ke),g=g+Math.imul(pe,He)|0,y=Math.imul(pe,Ke),M=M+Math.imul(E,De)|0,g=g+Math.imul(E,Ct)|0,g=g+Math.imul(q,De)|0,y=y+Math.imul(q,Ct)|0,M=M+Math.imul(At,pt)|0,g=g+Math.imul(At,gt)|0,g=g+Math.imul(O,pt)|0,y=y+Math.imul(O,gt)|0,M=M+Math.imul(ft,Dt)|0,g=g+Math.imul(ft,zt)|0,g=g+Math.imul(kt,Dt)|0,y=y+Math.imul(kt,zt)|0,M=M+Math.imul(at,Ft)|0,g=g+Math.imul(at,Rt)|0,g=g+Math.imul(rt,Ft)|0,y=y+Math.imul(rt,Rt)|0,M=M+Math.imul(ht,yt)|0,g=g+Math.imul(ht,jt)|0,g=g+Math.imul(Et,yt)|0,y=y+Math.imul(Et,jt)|0,M=M+Math.imul(st,Zt)|0,g=g+Math.imul(st,wt)|0,g=g+Math.imul(St,Zt)|0,y=y+Math.imul(St,wt)|0,M=M+Math.imul(et,Mt)|0,g=g+Math.imul(et,Lt)|0,g=g+Math.imul(ot,Mt)|0,y=y+Math.imul(ot,Lt)|0,M=M+Math.imul(ge,Qt)|0,g=g+Math.imul(ge,Jt)|0,g=g+Math.imul(ye,Qt)|0,y=y+Math.imul(ye,Jt)|0,M=M+Math.imul(W,Wt)|0,g=g+Math.imul(W,$t)|0,g=g+Math.imul(J,Wt)|0,y=y+Math.imul(J,$t)|0;var ms=($+M|0)+((g&8191)<<13)|0;$=(y+(g>>>13)|0)+(ms>>>26)|0,ms&=67108863,M=Math.imul(oe,De),g=Math.imul(oe,Ct),g=g+Math.imul(pe,De)|0,y=Math.imul(pe,Ct),M=M+Math.imul(E,pt)|0,g=g+Math.imul(E,gt)|0,g=g+Math.imul(q,pt)|0,y=y+Math.imul(q,gt)|0,M=M+Math.imul(At,Dt)|0,g=g+Math.imul(At,zt)|0,g=g+Math.imul(O,Dt)|0,y=y+Math.imul(O,zt)|0,M=M+Math.imul(ft,Ft)|0,g=g+Math.imul(ft,Rt)|0,g=g+Math.imul(kt,Ft)|0,y=y+Math.imul(kt,Rt)|0,M=M+Math.imul(at,yt)|0,g=g+Math.imul(at,jt)|0,g=g+Math.imul(rt,yt)|0,y=y+Math.imul(rt,jt)|0,M=M+Math.imul(ht,Zt)|0,g=g+Math.imul(ht,wt)|0,g=g+Math.imul(Et,Zt)|0,y=y+Math.imul(Et,wt)|0,M=M+Math.imul(st,Mt)|0,g=g+Math.imul(st,Lt)|0,g=g+Math.imul(St,Mt)|0,y=y+Math.imul(St,Lt)|0,M=M+Math.imul(et,Qt)|0,g=g+Math.imul(et,Jt)|0,g=g+Math.imul(ot,Qt)|0,y=y+Math.imul(ot,Jt)|0,M=M+Math.imul(ge,Wt)|0,g=g+Math.imul(ge,$t)|0,g=g+Math.imul(ye,Wt)|0,y=y+Math.imul(ye,$t)|0;var mo=($+M|0)+((g&8191)<<13)|0;$=(y+(g>>>13)|0)+(mo>>>26)|0,mo&=67108863,M=Math.imul(oe,pt),g=Math.imul(oe,gt),g=g+Math.imul(pe,pt)|0,y=Math.imul(pe,gt),M=M+Math.imul(E,Dt)|0,g=g+Math.imul(E,zt)|0,g=g+Math.imul(q,Dt)|0,y=y+Math.imul(q,zt)|0,M=M+Math.imul(At,Ft)|0,g=g+Math.imul(At,Rt)|0,g=g+Math.imul(O,Ft)|0,y=y+Math.imul(O,Rt)|0,M=M+Math.imul(ft,yt)|0,g=g+Math.imul(ft,jt)|0,g=g+Math.imul(kt,yt)|0,y=y+Math.imul(kt,jt)|0,M=M+Math.imul(at,Zt)|0,g=g+Math.imul(at,wt)|0,g=g+Math.imul(rt,Zt)|0,y=y+Math.imul(rt,wt)|0,M=M+Math.imul(ht,Mt)|0,g=g+Math.imul(ht,Lt)|0,g=g+Math.imul(Et,Mt)|0,y=y+Math.imul(Et,Lt)|0,M=M+Math.imul(st,Qt)|0,g=g+Math.imul(st,Jt)|0,g=g+Math.imul(St,Qt)|0,y=y+Math.imul(St,Jt)|0,M=M+Math.imul(et,Wt)|0,g=g+Math.imul(et,$t)|0,g=g+Math.imul(ot,Wt)|0,y=y+Math.imul(ot,$t)|0;var Ai=($+M|0)+((g&8191)<<13)|0;$=(y+(g>>>13)|0)+(Ai>>>26)|0,Ai&=67108863,M=Math.imul(oe,Dt),g=Math.imul(oe,zt),g=g+Math.imul(pe,Dt)|0,y=Math.imul(pe,zt),M=M+Math.imul(E,Ft)|0,g=g+Math.imul(E,Rt)|0,g=g+Math.imul(q,Ft)|0,y=y+Math.imul(q,Rt)|0,M=M+Math.imul(At,yt)|0,g=g+Math.imul(At,jt)|0,g=g+Math.imul(O,yt)|0,y=y+Math.imul(O,jt)|0,M=M+Math.imul(ft,Zt)|0,g=g+Math.imul(ft,wt)|0,g=g+Math.imul(kt,Zt)|0,y=y+Math.imul(kt,wt)|0,M=M+Math.imul(at,Mt)|0,g=g+Math.imul(at,Lt)|0,g=g+Math.imul(rt,Mt)|0,y=y+Math.imul(rt,Lt)|0,M=M+Math.imul(ht,Qt)|0,g=g+Math.imul(ht,Jt)|0,g=g+Math.imul(Et,Qt)|0,y=y+Math.imul(Et,Jt)|0,M=M+Math.imul(st,Wt)|0,g=g+Math.imul(st,$t)|0,g=g+Math.imul(St,Wt)|0,y=y+Math.imul(St,$t)|0;var Ca=($+M|0)+((g&8191)<<13)|0;$=(y+(g>>>13)|0)+(Ca>>>26)|0,Ca&=67108863,M=Math.imul(oe,Ft),g=Math.imul(oe,Rt),g=g+Math.imul(pe,Ft)|0,y=Math.imul(pe,Rt),M=M+Math.imul(E,yt)|0,g=g+Math.imul(E,jt)|0,g=g+Math.imul(q,yt)|0,y=y+Math.imul(q,jt)|0,M=M+Math.imul(At,Zt)|0,g=g+Math.imul(At,wt)|0,g=g+Math.imul(O,Zt)|0,y=y+Math.imul(O,wt)|0,M=M+Math.imul(ft,Mt)|0,g=g+Math.imul(ft,Lt)|0,g=g+Math.imul(kt,Mt)|0,y=y+Math.imul(kt,Lt)|0,M=M+Math.imul(at,Qt)|0,g=g+Math.imul(at,Jt)|0,g=g+Math.imul(rt,Qt)|0,y=y+Math.imul(rt,Jt)|0,M=M+Math.imul(ht,Wt)|0,g=g+Math.imul(ht,$t)|0,g=g+Math.imul(Et,Wt)|0,y=y+Math.imul(Et,$t)|0;var yo=($+M|0)+((g&8191)<<13)|0;$=(y+(g>>>13)|0)+(yo>>>26)|0,yo&=67108863,M=Math.imul(oe,yt),g=Math.imul(oe,jt),g=g+Math.imul(pe,yt)|0,y=Math.imul(pe,jt),M=M+Math.imul(E,Zt)|0,g=g+Math.imul(E,wt)|0,g=g+Math.imul(q,Zt)|0,y=y+Math.imul(q,wt)|0,M=M+Math.imul(At,Mt)|0,g=g+Math.imul(At,Lt)|0,g=g+Math.imul(O,Mt)|0,y=y+Math.imul(O,Lt)|0,M=M+Math.imul(ft,Qt)|0,g=g+Math.imul(ft,Jt)|0,g=g+Math.imul(kt,Qt)|0,y=y+Math.imul(kt,Jt)|0,M=M+Math.imul(at,Wt)|0,g=g+Math.imul(at,$t)|0,g=g+Math.imul(rt,Wt)|0,y=y+Math.imul(rt,$t)|0;var Mi=($+M|0)+((g&8191)<<13)|0;$=(y+(g>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,M=Math.imul(oe,Zt),g=Math.imul(oe,wt),g=g+Math.imul(pe,Zt)|0,y=Math.imul(pe,wt),M=M+Math.imul(E,Mt)|0,g=g+Math.imul(E,Lt)|0,g=g+Math.imul(q,Mt)|0,y=y+Math.imul(q,Lt)|0,M=M+Math.imul(At,Qt)|0,g=g+Math.imul(At,Jt)|0,g=g+Math.imul(O,Qt)|0,y=y+Math.imul(O,Jt)|0,M=M+Math.imul(ft,Wt)|0,g=g+Math.imul(ft,$t)|0,g=g+Math.imul(kt,Wt)|0,y=y+Math.imul(kt,$t)|0;var Jr=($+M|0)+((g&8191)<<13)|0;$=(y+(g>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,M=Math.imul(oe,Mt),g=Math.imul(oe,Lt),g=g+Math.imul(pe,Mt)|0,y=Math.imul(pe,Lt),M=M+Math.imul(E,Qt)|0,g=g+Math.imul(E,Jt)|0,g=g+Math.imul(q,Qt)|0,y=y+Math.imul(q,Jt)|0,M=M+Math.imul(At,Wt)|0,g=g+Math.imul(At,$t)|0,g=g+Math.imul(O,Wt)|0,y=y+Math.imul(O,$t)|0;var Ra=($+M|0)+((g&8191)<<13)|0;$=(y+(g>>>13)|0)+(Ra>>>26)|0,Ra&=67108863,M=Math.imul(oe,Qt),g=Math.imul(oe,Jt),g=g+Math.imul(pe,Qt)|0,y=Math.imul(pe,Jt),M=M+Math.imul(E,Wt)|0,g=g+Math.imul(E,$t)|0,g=g+Math.imul(q,Wt)|0,y=y+Math.imul(q,$t)|0;var Vr=($+M|0)+((g&8191)<<13)|0;$=(y+(g>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,M=Math.imul(oe,Wt),g=Math.imul(oe,$t),g=g+Math.imul(pe,Wt)|0,y=Math.imul(pe,$t);var ja=($+M|0)+((g&8191)<<13)|0;return $=(y+(g>>>13)|0)+(ja>>>26)|0,ja&=67108863,D[0]=Ma,D[1]=ho,D[2]=fo,D[3]=po,D[4]=go,D[5]=Ia,D[6]=Na,D[7]=It,D[8]=Ta,D[9]=ms,D[10]=mo,D[11]=Ai,D[12]=Ca,D[13]=yo,D[14]=Mi,D[15]=Jr,D[16]=Ra,D[17]=Vr,D[18]=ja,$!==0&&(D[19]=$,R.length++),R};Math.imul||(F=z);function U(I,f,v){v.negative=f.negative^I.negative,v.length=I.length+f.length;for(var R=0,P=0,B=0;B<v.length-1;B++){var D=P;P=0;for(var $=R&67108863,M=Math.min(B,f.length-1),g=Math.max(0,B-I.length+1);g<=M;g++){var y=B-g,j=I.words[y]|0,W=f.words[g]|0,J=j*W,se=J&67108863;D=D+(J/67108864|0)|0,se=se+$|0,$=se&67108863,D=D+(se>>>26)|0,P+=D>>>26,D&=67108863}v.words[B]=$,R=D,D=P}return R!==0?v.words[B]=R:v.length--,v._strip()}function G(I,f,v){return U(I,f,v)}o.prototype.mulTo=function(f,v){var R,P=this.length+f.length;return this.length===10&&f.length===10?R=F(this,f,v):P<63?R=z(this,f,v):P<1024?R=U(this,f,v):R=G(this,f,v),R},o.prototype.mul=function(f){var v=new o(null);return v.words=new Array(this.length+f.length),this.mulTo(f,v)},o.prototype.mulf=function(f){var v=new o(null);return v.words=new Array(this.length+f.length),G(this,f,v)},o.prototype.imul=function(f){return this.clone().mulTo(f,this)},o.prototype.imuln=function(f){var v=f<0;v&&(f=-f),r(typeof f=="number"),r(f<67108864);for(var R=0,P=0;P<this.length;P++){var B=(this.words[P]|0)*f,D=(B&67108863)+(R&67108863);R>>=26,R+=B/67108864|0,R+=D>>>26,this.words[P]=D&67108863}return R!==0&&(this.words[P]=R,this.length++),this.length=f===0?1:this.length,v?this.ineg():this},o.prototype.muln=function(f){return this.clone().imuln(f)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(f){var v=T(f);if(v.length===0)return new o(1);for(var R=this,P=0;P<v.length&&v[P]===0;P++,R=R.sqr());if(++P<v.length)for(var B=R.sqr();P<v.length;P++,B=B.sqr())v[P]!==0&&(R=R.mul(B));return R},o.prototype.iushln=function(f){r(typeof f=="number"&&f>=0);var v=f%26,R=(f-v)/26,P=67108863>>>26-v<<26-v,B;if(v!==0){var D=0;for(B=0;B<this.length;B++){var $=this.words[B]&P,M=(this.words[B]|0)-$<<v;this.words[B]=M|D,D=$>>>26-v}D&&(this.words[B]=D,this.length++)}if(R!==0){for(B=this.length-1;B>=0;B--)this.words[B+R]=this.words[B];for(B=0;B<R;B++)this.words[B]=0;this.length+=R}return this._strip()},o.prototype.ishln=function(f){return r(this.negative===0),this.iushln(f)},o.prototype.iushrn=function(f,v,R){r(typeof f=="number"&&f>=0);var P;v?P=(v-v%26)/26:P=0;var B=f%26,D=Math.min((f-B)/26,this.length),$=67108863^67108863>>>B<<B,M=R;if(P-=D,P=Math.max(0,P),M){for(var g=0;g<D;g++)M.words[g]=this.words[g];M.length=D}if(D!==0)if(this.length>D)for(this.length-=D,g=0;g<this.length;g++)this.words[g]=this.words[g+D];else this.words[0]=0,this.length=1;var y=0;for(g=this.length-1;g>=0&&(y!==0||g>=P);g--){var j=this.words[g]|0;this.words[g]=y<<26-B|j>>>B,y=j&$}return M&&y!==0&&(M.words[M.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(f,v,R){return r(this.negative===0),this.iushrn(f,v,R)},o.prototype.shln=function(f){return this.clone().ishln(f)},o.prototype.ushln=function(f){return this.clone().iushln(f)},o.prototype.shrn=function(f){return this.clone().ishrn(f)},o.prototype.ushrn=function(f){return this.clone().iushrn(f)},o.prototype.testn=function(f){r(typeof f=="number"&&f>=0);var v=f%26,R=(f-v)/26,P=1<<v;if(this.length<=R)return!1;var B=this.words[R];return!!(B&P)},o.prototype.imaskn=function(f){r(typeof f=="number"&&f>=0);var v=f%26,R=(f-v)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=R)return this;if(v!==0&&R++,this.length=Math.min(R,this.length),v!==0){var P=67108863^67108863>>>v<<v;this.words[this.length-1]&=P}return this._strip()},o.prototype.maskn=function(f){return this.clone().imaskn(f)},o.prototype.iaddn=function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},o.prototype._iaddn=function(f){this.words[0]+=f;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},o.prototype.isubn=function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},o.prototype.addn=function(f){return this.clone().iaddn(f)},o.prototype.subn=function(f){return this.clone().isubn(f)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(f,v,R){var P=f.length+R,B;this._expand(P);var D,$=0;for(B=0;B<f.length;B++){D=(this.words[B+R]|0)+$;var M=(f.words[B]|0)*v;D-=M&67108863,$=(D>>26)-(M/67108864|0),this.words[B+R]=D&67108863}for(;B<this.length-R;B++)D=(this.words[B+R]|0)+$,$=D>>26,this.words[B+R]=D&67108863;if($===0)return this._strip();for(r($===-1),$=0,B=0;B<this.length;B++)D=-(this.words[B]|0)+$,$=D>>26,this.words[B]=D&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(f,v){var R=this.length-f.length,P=this.clone(),B=f,D=B.words[B.length-1]|0,$=this._countBits(D);R=26-$,R!==0&&(B=B.ushln(R),P.iushln(R),D=B.words[B.length-1]|0);var M=P.length-B.length,g;if(v!=="mod"){g=new o(null),g.length=M+1,g.words=new Array(g.length);for(var y=0;y<g.length;y++)g.words[y]=0}var j=P.clone()._ishlnsubmul(B,1,M);j.negative===0&&(P=j,g&&(g.words[M]=1));for(var W=M-1;W>=0;W--){var J=(P.words[B.length+W]|0)*67108864+(P.words[B.length+W-1]|0);for(J=Math.min(J/D|0,67108863),P._ishlnsubmul(B,J,W);P.negative!==0;)J--,P.negative=0,P._ishlnsubmul(B,1,W),P.isZero()||(P.negative^=1);g&&(g.words[W]=J)}return g&&g._strip(),P._strip(),v!=="div"&&R!==0&&P.iushrn(R),{div:g||null,mod:P}},o.prototype.divmod=function(f,v,R){if(r(!f.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var P,B,D;return this.negative!==0&&f.negative===0?(D=this.neg().divmod(f,v),v!=="mod"&&(P=D.div.neg()),v!=="div"&&(B=D.mod.neg(),R&&B.negative!==0&&B.iadd(f)),{div:P,mod:B}):this.negative===0&&f.negative!==0?(D=this.divmod(f.neg(),v),v!=="mod"&&(P=D.div.neg()),{div:P,mod:D.mod}):(this.negative&f.negative)!==0?(D=this.neg().divmod(f.neg(),v),v!=="div"&&(B=D.mod.neg(),R&&B.negative!==0&&B.isub(f)),{div:D.div,mod:B}):f.length>this.length||this.cmp(f)<0?{div:new o(0),mod:this}:f.length===1?v==="div"?{div:this.divn(f.words[0]),mod:null}:v==="mod"?{div:null,mod:new o(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new o(this.modrn(f.words[0]))}:this._wordDiv(f,v)},o.prototype.div=function(f){return this.divmod(f,"div",!1).div},o.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},o.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},o.prototype.divRound=function(f){var v=this.divmod(f);if(v.mod.isZero())return v.div;var R=v.div.negative!==0?v.mod.isub(f):v.mod,P=f.ushrn(1),B=f.andln(1),D=R.cmp(P);return D<0||B===1&&D===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},o.prototype.modrn=function(f){var v=f<0;v&&(f=-f),r(f<=67108863);for(var R=(1<<26)%f,P=0,B=this.length-1;B>=0;B--)P=(R*P+(this.words[B]|0))%f;return v?-P:P},o.prototype.modn=function(f){return this.modrn(f)},o.prototype.idivn=function(f){var v=f<0;v&&(f=-f),r(f<=67108863);for(var R=0,P=this.length-1;P>=0;P--){var B=(this.words[P]|0)+R*67108864;this.words[P]=B/f|0,R=B%f}return this._strip(),v?this.ineg():this},o.prototype.divn=function(f){return this.clone().idivn(f)},o.prototype.egcd=function(f){r(f.negative===0),r(!f.isZero());var v=this,R=f.clone();v.negative!==0?v=v.umod(f):v=v.clone();for(var P=new o(1),B=new o(0),D=new o(0),$=new o(1),M=0;v.isEven()&&R.isEven();)v.iushrn(1),R.iushrn(1),++M;for(var g=R.clone(),y=v.clone();!v.isZero();){for(var j=0,W=1;(v.words[0]&W)===0&&j<26;++j,W<<=1);if(j>0)for(v.iushrn(j);j-- >0;)(P.isOdd()||B.isOdd())&&(P.iadd(g),B.isub(y)),P.iushrn(1),B.iushrn(1);for(var J=0,se=1;(R.words[0]&se)===0&&J<26;++J,se<<=1);if(J>0)for(R.iushrn(J);J-- >0;)(D.isOdd()||$.isOdd())&&(D.iadd(g),$.isub(y)),D.iushrn(1),$.iushrn(1);v.cmp(R)>=0?(v.isub(R),P.isub(D),B.isub($)):(R.isub(v),D.isub(P),$.isub(B))}return{a:D,b:$,gcd:R.iushln(M)}},o.prototype._invmp=function(f){r(f.negative===0),r(!f.isZero());var v=this,R=f.clone();v.negative!==0?v=v.umod(f):v=v.clone();for(var P=new o(1),B=new o(0),D=R.clone();v.cmpn(1)>0&&R.cmpn(1)>0;){for(var $=0,M=1;(v.words[0]&M)===0&&$<26;++$,M<<=1);if($>0)for(v.iushrn($);$-- >0;)P.isOdd()&&P.iadd(D),P.iushrn(1);for(var g=0,y=1;(R.words[0]&y)===0&&g<26;++g,y<<=1);if(g>0)for(R.iushrn(g);g-- >0;)B.isOdd()&&B.iadd(D),B.iushrn(1);v.cmp(R)>=0?(v.isub(R),P.isub(B)):(R.isub(v),B.isub(P))}var j;return v.cmpn(1)===0?j=P:j=B,j.cmpn(0)<0&&j.iadd(f),j},o.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var v=this.clone(),R=f.clone();v.negative=0,R.negative=0;for(var P=0;v.isEven()&&R.isEven();P++)v.iushrn(1),R.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;R.isEven();)R.iushrn(1);var B=v.cmp(R);if(B<0){var D=v;v=R,R=D}else if(B===0||R.cmpn(1)===0)break;v.isub(R)}while(!0);return R.iushln(P)},o.prototype.invm=function(f){return this.egcd(f).a.umod(f)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(f){return this.words[0]&f},o.prototype.bincn=function(f){r(typeof f=="number");var v=f%26,R=(f-v)/26,P=1<<v;if(this.length<=R)return this._expand(R+1),this.words[R]|=P,this;for(var B=P,D=R;B!==0&&D<this.length;D++){var $=this.words[D]|0;$+=B,B=$>>>26,$&=67108863,this.words[D]=$}return B!==0&&(this.words[D]=B,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(f){var v=f<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this._strip();var R;if(this.length>1)R=1;else{v&&(f=-f),r(f<=67108863,"Number is too big");var P=this.words[0]|0;R=P===f?0:P<f?-1:1}return this.negative!==0?-R|0:R},o.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var v=this.ucmp(f);return this.negative!==0?-v|0:v},o.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var v=0,R=this.length-1;R>=0;R--){var P=this.words[R]|0,B=f.words[R]|0;if(P!==B){P<B?v=-1:P>B&&(v=1);break}}return v},o.prototype.gtn=function(f){return this.cmpn(f)===1},o.prototype.gt=function(f){return this.cmp(f)===1},o.prototype.gten=function(f){return this.cmpn(f)>=0},o.prototype.gte=function(f){return this.cmp(f)>=0},o.prototype.ltn=function(f){return this.cmpn(f)===-1},o.prototype.lt=function(f){return this.cmp(f)===-1},o.prototype.lten=function(f){return this.cmpn(f)<=0},o.prototype.lte=function(f){return this.cmp(f)<=0},o.prototype.eqn=function(f){return this.cmpn(f)===0},o.prototype.eq=function(f){return this.cmp(f)===0},o.red=function(f){return new Y(f)},o.prototype.toRed=function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(f){return this.red=f,this},o.prototype.forceRed=function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},o.prototype.redAdd=function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},o.prototype.redIAdd=function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},o.prototype.redSub=function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},o.prototype.redISub=function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},o.prototype.redShl=function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},o.prototype.redMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},o.prototype.redIMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var te={k256:null,p224:null,p192:null,p25519:null};function X(I,f){this.name=I,this.p=new o(f,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}X.prototype._tmp=function(){var f=new o(null);return f.words=new Array(Math.ceil(this.n/13)),f},X.prototype.ireduce=function(f){var v=f,R;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),R=v.bitLength();while(R>this.n);var P=R<this.n?-1:v.ucmp(this.p);return P===0?(v.words[0]=0,v.length=1):P>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},X.prototype.split=function(f,v){f.iushrn(this.n,0,v)},X.prototype.imulK=function(f){return f.imul(this.k)};function de(){X.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(de,X),de.prototype.split=function(f,v){for(var R=4194303,P=Math.min(f.length,9),B=0;B<P;B++)v.words[B]=f.words[B];if(v.length=P,f.length<=9){f.words[0]=0,f.length=1;return}var D=f.words[9];for(v.words[v.length++]=D&R,B=10;B<f.length;B++){var $=f.words[B]|0;f.words[B-10]=($&R)<<4|D>>>22,D=$}D>>>=22,f.words[B-10]=D,D===0&&f.length>10?f.length-=10:f.length-=9},de.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var v=0,R=0;R<f.length;R++){var P=f.words[R]|0;v+=P*977,f.words[R]=v&67108863,v=P*64+(v/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function le(){X.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(le,X);function K(){X.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(K,X);function V(){X.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(V,X),V.prototype.imulK=function(f){for(var v=0,R=0;R<f.length;R++){var P=(f.words[R]|0)*19+v,B=P&67108863;P>>>=26,f.words[R]=B,v=P}return v!==0&&(f.words[f.length++]=v),f},o._prime=function(f){if(te[f])return te[f];var v;if(f==="k256")v=new de;else if(f==="p224")v=new le;else if(f==="p192")v=new K;else if(f==="p25519")v=new V;else throw new Error("Unknown prime "+f);return te[f]=v,v};function Y(I){if(typeof I=="string"){var f=o._prime(I);this.m=f.p,this.prime=f}else r(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}Y.prototype._verify1=function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},Y.prototype._verify2=function(f,v){r((f.negative|v.negative)===0,"red works only with positives"),r(f.red&&f.red===v.red,"red works only with red numbers")},Y.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(w(f,f.umod(this.m)._forceRed(this)),f)},Y.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},Y.prototype.add=function(f,v){this._verify2(f,v);var R=f.add(v);return R.cmp(this.m)>=0&&R.isub(this.m),R._forceRed(this)},Y.prototype.iadd=function(f,v){this._verify2(f,v);var R=f.iadd(v);return R.cmp(this.m)>=0&&R.isub(this.m),R},Y.prototype.sub=function(f,v){this._verify2(f,v);var R=f.sub(v);return R.cmpn(0)<0&&R.iadd(this.m),R._forceRed(this)},Y.prototype.isub=function(f,v){this._verify2(f,v);var R=f.isub(v);return R.cmpn(0)<0&&R.iadd(this.m),R},Y.prototype.shl=function(f,v){return this._verify1(f),this.imod(f.ushln(v))},Y.prototype.imul=function(f,v){return this._verify2(f,v),this.imod(f.imul(v))},Y.prototype.mul=function(f,v){return this._verify2(f,v),this.imod(f.mul(v))},Y.prototype.isqr=function(f){return this.imul(f,f.clone())},Y.prototype.sqr=function(f){return this.mul(f,f)},Y.prototype.sqrt=function(f){if(f.isZero())return f.clone();var v=this.m.andln(3);if(r(v%2===1),v===3){var R=this.m.add(new o(1)).iushrn(2);return this.pow(f,R)}for(var P=this.m.subn(1),B=0;!P.isZero()&&P.andln(1)===0;)B++,P.iushrn(1);r(!P.isZero());var D=new o(1).toRed(this),$=D.redNeg(),M=this.m.subn(1).iushrn(1),g=this.m.bitLength();for(g=new o(2*g*g).toRed(this);this.pow(g,M).cmp($)!==0;)g.redIAdd($);for(var y=this.pow(g,P),j=this.pow(f,P.addn(1).iushrn(1)),W=this.pow(f,P),J=B;W.cmp(D)!==0;){for(var se=W,ge=0;se.cmp(D)!==0;ge++)se=se.redSqr();r(ge<J);var ye=this.pow(y,new o(1).iushln(J-ge-1));j=j.redMul(ye),y=ye.redSqr(),W=W.redMul(y),J=ge}return j},Y.prototype.invm=function(f){var v=f._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},Y.prototype.pow=function(f,v){if(v.isZero())return new o(1).toRed(this);if(v.cmpn(1)===0)return f.clone();var R=4,P=new Array(1<<R);P[0]=new o(1).toRed(this),P[1]=f;for(var B=2;B<P.length;B++)P[B]=this.mul(P[B-1],f);var D=P[0],$=0,M=0,g=v.bitLength()%26;for(g===0&&(g=26),B=v.length-1;B>=0;B--){for(var y=v.words[B],j=g-1;j>=0;j--){var W=y>>j&1;if(D!==P[0]&&(D=this.sqr(D)),W===0&&$===0){M=0;continue}$<<=1,$|=W,M++,!(M!==R&&(B!==0||j!==0))&&(D=this.mul(D,P[$]),M=0,$=0)}g=26}return D},Y.prototype.convertTo=function(f){var v=f.umod(this.m);return v===f?v.clone():v},Y.prototype.convertFrom=function(f){var v=f.clone();return v.red=null,v},o.mont=function(f){return new Q(f)};function Q(I){Y.call(this,I),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(Q,Y),Q.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},Q.prototype.convertFrom=function(f){var v=this.imod(f.mul(this.rinv));return v.red=null,v},Q.prototype.imul=function(f,v){if(f.isZero()||v.isZero())return f.words[0]=0,f.length=1,f;var R=f.imul(v),P=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),B=R.isub(P).iushrn(this.shift),D=B;return B.cmp(this.m)>=0?D=B.isub(this.m):B.cmpn(0)<0&&(D=B.iadd(this.m)),D._forceRed(this)},Q.prototype.mul=function(f,v){if(f.isZero()||v.isZero())return new o(0)._forceRed(this);var R=f.mul(v),P=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),B=R.isub(P).iushrn(this.shift),D=B;return B.cmp(this.m)>=0?D=B.isub(this.m):B.cmpn(0)<0&&(D=B.iadd(this.m)),D._forceRed(this)},Q.prototype.invm=function(f){var v=this.imod(f._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(n,_k)})(Eu)),Eu.exports}var Sk=db();const Aw=eo(Sk);var cu={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Mw;function Ek(){return Mw||(Mw=1,(function(n,e){var t=Fp(),r=t.Buffer;function s(l,u){for(var d in l)u[d]=l[d]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=t:(s(t,e),e.Buffer=o);function o(l,u,d){return r(l,u,d)}o.prototype=Object.create(r.prototype),s(r,o),o.from=function(l,u,d){if(typeof l=="number")throw new TypeError("Argument must not be a number");return r(l,u,d)},o.alloc=function(l,u,d){if(typeof l!="number")throw new TypeError("Argument must be a number");var p=r(l);return u!==void 0?typeof d=="string"?p.fill(u,d):p.fill(u):p.fill(0),p},o.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return r(l)},o.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(l)}})(cu,cu.exports)),cu.exports}var Tf,Iw;function kk(){if(Iw)return Tf;Iw=1;var n=Ek().Buffer;function e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),s=0;s<r.length;s++)r[s]=255;for(var o=0;o<t.length;o++){var l=t.charAt(o),u=l.charCodeAt(0);if(r[u]!==255)throw new TypeError(l+" is ambiguous");r[u]=o}var d=t.length,p=t.charAt(0),w=Math.log(d)/Math.log(256),_=Math.log(256)/Math.log(d);function k(C){if((Array.isArray(C)||C instanceof Uint8Array)&&(C=n.from(C)),!n.isBuffer(C))throw new TypeError("Expected Buffer");if(C.length===0)return"";for(var T=0,z=0,F=0,U=C.length;F!==U&&C[F]===0;)F++,T++;for(var G=(U-F)*_+1>>>0,te=new Uint8Array(G);F!==U;){for(var X=C[F],de=0,le=G-1;(X!==0||de<z)&&le!==-1;le--,de++)X+=256*te[le]>>>0,te[le]=X%d>>>0,X=X/d>>>0;if(X!==0)throw new Error("Non-zero carry");z=de,F++}for(var K=G-z;K!==G&&te[K]===0;)K++;for(var V=p.repeat(T);K<G;++K)V+=t.charAt(te[K]);return V}function S(C){if(typeof C!="string")throw new TypeError("Expected String");if(C.length===0)return n.alloc(0);for(var T=0,z=0,F=0;C[T]===p;)z++,T++;for(var U=(C.length-T)*w+1>>>0,G=new Uint8Array(U);T<C.length;){var te=C.charCodeAt(T);if(te>255)return;var X=r[te];if(X===255)return;for(var de=0,le=U-1;(X!==0||de<F)&&le!==-1;le--,de++)X+=d*G[le]>>>0,G[le]=X%256>>>0,X=X/256>>>0;if(X!==0)throw new Error("Non-zero carry");F=de,T++}for(var K=U-F;K!==U&&G[K]===0;)K++;var V=n.allocUnsafe(z+(U-K));V.fill(0,0,z);for(var Y=z;K!==U;)V[Y++]=G[K++];return V}function N(C){var T=S(C);if(T)return T;throw new Error("Non-base"+d+" character")}return{encode:k,decodeUnsafe:S,decode:N}}return Tf=e,Tf}var Cf,Nw;function hb(){if(Nw)return Cf;Nw=1;var n=kk(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return Cf=n(e),Cf}var Ak=hb();const Cr=eo(Ak),Tw=q1;var ut={};function fi(n,e,t){return e<=n&&n<=t}function xd(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function Mk(n){for(var e=String(n),t=e.length,r=0,s=[];r<t;){var o=e.charCodeAt(r);if(o<55296||o>57343)s.push(o);else if(56320<=o&&o<=57343)s.push(65533);else if(55296<=o&&o<=56319)if(r===t-1)s.push(65533);else{var l=n.charCodeAt(r+1);if(56320<=l&&l<=57343){var u=o&1023,d=l&1023;s.push(65536+(u<<10)+d),r+=1}else s.push(65533)}r+=1}return s}function Ik(n){for(var e="",t=0;t<n.length;++t){var r=n[t];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var Ju=-1;function Gp(n){this.tokens=[].slice.call(n)}Gp.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Ju},prepend:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(n)},push:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.push(e.shift());else this.tokens.push(n)}};var ga=-1;function Rf(n,e){if(n)throw TypeError("Decoder error");return e||65533}var Xu="utf-8";function ed(n,e){if(!(this instanceof ed))return new ed(n,e);if(n=n!==void 0?String(n).toLowerCase():Xu,n!==Xu)throw new Error("Encoding not supported. Only utf-8 is supported");e=xd(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}ed.prototype={decode:function(e,t){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),t=xd(t),this._streaming||(this._decoder=new Nk({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var s=new Gp(r),o=[],l;!s.endOfStream()&&(l=this._decoder.handler(s,s.read()),l!==ga);)l!==null&&(Array.isArray(l)?o.push.apply(o,l):o.push(l));if(!this._streaming){do{if(l=this._decoder.handler(s,s.read()),l===ga)break;l!==null&&(Array.isArray(l)?o.push.apply(o,l):o.push(l))}while(!s.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),Ik(o)}};function td(n,e){if(!(this instanceof td))return new td(n,e);if(n=n!==void 0?String(n).toLowerCase():Xu,n!==Xu)throw new Error("Encoding not supported. Only utf-8 is supported");e=xd(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}td.prototype={encode:function(e,t){e=e?String(e):"",t=xd(t),this._streaming||(this._encoder=new Tk(this._options)),this._streaming=!!t.stream;for(var r=[],s=new Gp(Mk(e)),o;!s.endOfStream()&&(o=this._encoder.handler(s,s.read()),o!==ga);)Array.isArray(o)?r.push.apply(r,o):r.push(o);if(!this._streaming){for(;o=this._encoder.handler(s,s.read()),o!==ga;)Array.isArray(o)?r.push.apply(r,o):r.push(o);this._encoder=null}return new Uint8Array(r)}};function Nk(n){var e=n.fatal,t=0,r=0,s=0,o=128,l=191;this.handler=function(u,d){if(d===Ju&&s!==0)return s=0,Rf(e);if(d===Ju)return ga;if(s===0){if(fi(d,0,127))return d;if(fi(d,194,223))s=1,t=d-192;else if(fi(d,224,239))d===224&&(o=160),d===237&&(l=159),s=2,t=d-224;else if(fi(d,240,244))d===240&&(o=144),d===244&&(l=143),s=3,t=d-240;else return Rf(e);return t=t<<6*s,null}if(!fi(d,o,l))return t=s=r=0,o=128,l=191,u.prepend(d),Rf(e);if(o=128,l=191,r+=1,t+=d-128<<6*(s-r),r!==s)return null;var p=t;return t=s=r=0,p}}function Tk(n){n.fatal,this.handler=function(e,t){if(t===Ju)return ga;if(fi(t,0,127))return t;var r,s;fi(t,128,2047)?(r=1,s=192):fi(t,2048,65535)?(r=2,s=224):fi(t,65536,1114111)&&(r=3,s=240);for(var o=[(t>>6*r)+s];r>0;){var l=t>>6*(r-1);o.push(128|l&63),r-=1}return o}}const Ck=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:ed,TextEncoder:td},Symbol.toStringTag,{value:"Module"})),Rk=wd(Ck);var Cw;function jk(){if(Cw)return ut;Cw=1;var n=ut&&ut.__createBinding||(Object.create?(function(K,V,Y,Q){Q===void 0&&(Q=Y),Object.defineProperty(K,Q,{enumerable:!0,get:function(){return V[Y]}})}):(function(K,V,Y,Q){Q===void 0&&(Q=Y),K[Q]=V[Y]})),e=ut&&ut.__setModuleDefault||(Object.create?(function(K,V){Object.defineProperty(K,"default",{enumerable:!0,value:V})}):function(K,V){K.default=V}),t=ut&&ut.__decorate||function(K,V,Y,Q){var I=arguments.length,f=I<3?V:Q===null?Q=Object.getOwnPropertyDescriptor(V,Y):Q,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(K,V,Y,Q);else for(var R=K.length-1;R>=0;R--)(v=K[R])&&(f=(I<3?v(f):I>3?v(V,Y,f):v(V,Y))||f);return I>3&&f&&Object.defineProperty(V,Y,f),f},r=ut&&ut.__importStar||function(K){if(K&&K.__esModule)return K;var V={};if(K!=null)for(var Y in K)Y!=="default"&&Object.hasOwnProperty.call(K,Y)&&n(V,K,Y);return e(V,K),V},s=ut&&ut.__importDefault||function(K){return K&&K.__esModule?K:{default:K}};Object.defineProperty(ut,"__esModule",{value:!0}),ut.deserializeUnchecked=ut.deserialize=ut.serialize=ut.BinaryReader=ut.BinaryWriter=ut.BorshError=ut.baseDecode=ut.baseEncode=void 0;const o=s(db()),l=s(hb()),u=r(Rk),d=typeof TextDecoder!="function"?u.TextDecoder:TextDecoder,p=new d("utf-8",{fatal:!0});function w(K){return typeof K=="string"&&(K=Buffer.from(K,"utf8")),l.default.encode(Buffer.from(K))}ut.baseEncode=w;function _(K){return Buffer.from(l.default.decode(K))}ut.baseDecode=_;const k=1024;class S extends Error{constructor(V){super(V),this.fieldPath=[],this.originalMessage=V}addToFieldPath(V){this.fieldPath.splice(0,0,V),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}ut.BorshError=S;class N{constructor(){this.buf=Buffer.alloc(k),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(k)]))}writeU8(V){this.maybeResize(),this.buf.writeUInt8(V,this.length),this.length+=1}writeU16(V){this.maybeResize(),this.buf.writeUInt16LE(V,this.length),this.length+=2}writeU32(V){this.maybeResize(),this.buf.writeUInt32LE(V,this.length),this.length+=4}writeU64(V){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(V).toArray("le",8)))}writeU128(V){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(V).toArray("le",16)))}writeU256(V){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(V).toArray("le",32)))}writeU512(V){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(V).toArray("le",64)))}writeBuffer(V){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),V,Buffer.alloc(k)]),this.length+=V.length}writeString(V){this.maybeResize();const Y=Buffer.from(V,"utf8");this.writeU32(Y.length),this.writeBuffer(Y)}writeFixedArray(V){this.writeBuffer(Buffer.from(V))}writeArray(V,Y){this.maybeResize(),this.writeU32(V.length);for(const Q of V)this.maybeResize(),Y(Q)}toArray(){return this.buf.subarray(0,this.length)}}ut.BinaryWriter=N;function C(K,V,Y){const Q=Y.value;Y.value=function(...I){try{return Q.apply(this,I)}catch(f){if(f instanceof RangeError){const v=f.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(v)>=0)throw new S("Reached the end of buffer when deserializing")}throw f}}}class T{constructor(V){this.buf=V,this.offset=0}readU8(){const V=this.buf.readUInt8(this.offset);return this.offset+=1,V}readU16(){const V=this.buf.readUInt16LE(this.offset);return this.offset+=2,V}readU32(){const V=this.buf.readUInt32LE(this.offset);return this.offset+=4,V}readU64(){const V=this.readBuffer(8);return new o.default(V,"le")}readU128(){const V=this.readBuffer(16);return new o.default(V,"le")}readU256(){const V=this.readBuffer(32);return new o.default(V,"le")}readU512(){const V=this.readBuffer(64);return new o.default(V,"le")}readBuffer(V){if(this.offset+V>this.buf.length)throw new S(`Expected buffer length ${V} isn't within bounds`);const Y=this.buf.slice(this.offset,this.offset+V);return this.offset+=V,Y}readString(){const V=this.readU32(),Y=this.readBuffer(V);try{return p.decode(Y)}catch(Q){throw new S(`Error decoding UTF-8 string: ${Q}`)}}readFixedArray(V){return new Uint8Array(this.readBuffer(V))}readArray(V){const Y=this.readU32(),Q=Array();for(let I=0;I<Y;++I)Q.push(V());return Q}}t([C],T.prototype,"readU8",null),t([C],T.prototype,"readU16",null),t([C],T.prototype,"readU32",null),t([C],T.prototype,"readU64",null),t([C],T.prototype,"readU128",null),t([C],T.prototype,"readU256",null),t([C],T.prototype,"readU512",null),t([C],T.prototype,"readString",null),t([C],T.prototype,"readFixedArray",null),t([C],T.prototype,"readArray",null),ut.BinaryReader=T;function z(K){return K.charAt(0).toUpperCase()+K.slice(1)}function F(K,V,Y,Q,I){try{if(typeof Q=="string")I[`write${z(Q)}`](Y);else if(Q instanceof Array)if(typeof Q[0]=="number"){if(Y.length!==Q[0])throw new S(`Expecting byte array of length ${Q[0]}, but got ${Y.length} bytes`);I.writeFixedArray(Y)}else if(Q.length===2&&typeof Q[1]=="number"){if(Y.length!==Q[1])throw new S(`Expecting byte array of length ${Q[1]}, but got ${Y.length} bytes`);for(let f=0;f<Q[1];f++)F(K,null,Y[f],Q[0],I)}else I.writeArray(Y,f=>{F(K,V,f,Q[0],I)});else if(Q.kind!==void 0)switch(Q.kind){case"option":{Y==null?I.writeU8(0):(I.writeU8(1),F(K,V,Y,Q.type,I));break}case"map":{I.writeU32(Y.size),Y.forEach((f,v)=>{F(K,V,v,Q.key,I),F(K,V,f,Q.value,I)});break}default:throw new S(`FieldType ${Q} unrecognized`)}else U(K,Y,I)}catch(f){throw f instanceof S&&f.addToFieldPath(V),f}}function U(K,V,Y){if(typeof V.borshSerialize=="function"){V.borshSerialize(Y);return}const Q=K.get(V.constructor);if(!Q)throw new S(`Class ${V.constructor.name} is missing in schema`);if(Q.kind==="struct")Q.fields.map(([I,f])=>{F(K,I,V[I],f,Y)});else if(Q.kind==="enum"){const I=V[Q.field];for(let f=0;f<Q.values.length;++f){const[v,R]=Q.values[f];if(v===I){Y.writeU8(f),F(K,v,V[v],R,Y);break}}}else throw new S(`Unexpected schema kind: ${Q.kind} for ${V.constructor.name}`)}function G(K,V,Y=N){const Q=new Y;return U(K,V,Q),Q.toArray()}ut.serialize=G;function te(K,V,Y,Q){try{if(typeof Y=="string")return Q[`read${z(Y)}`]();if(Y instanceof Array){if(typeof Y[0]=="number")return Q.readFixedArray(Y[0]);if(typeof Y[1]=="number"){const I=[];for(let f=0;f<Y[1];f++)I.push(te(K,null,Y[0],Q));return I}else return Q.readArray(()=>te(K,V,Y[0],Q))}if(Y.kind==="option")return Q.readU8()?te(K,V,Y.type,Q):void 0;if(Y.kind==="map"){let I=new Map;const f=Q.readU32();for(let v=0;v<f;v++){const R=te(K,V,Y.key,Q),P=te(K,V,Y.value,Q);I.set(R,P)}return I}return X(K,Y,Q)}catch(I){throw I instanceof S&&I.addToFieldPath(V),I}}function X(K,V,Y){if(typeof V.borshDeserialize=="function")return V.borshDeserialize(Y);const Q=K.get(V);if(!Q)throw new S(`Class ${V.name} is missing in schema`);if(Q.kind==="struct"){const I={};for(const[f,v]of K.get(V).fields)I[f]=te(K,f,v,Y);return new V(I)}if(Q.kind==="enum"){const I=Y.readU8();if(I>=Q.values.length)throw new S(`Enum index: ${I} is out of range`);const[f,v]=Q.values[I],R=te(K,f,v,Y);return new V({[f]:R})}throw new S(`Unexpected schema kind: ${Q.kind} for ${V.constructor.name}`)}function de(K,V,Y,Q=T){const I=new Q(Y),f=X(K,V,I);if(I.offset<Y.length)throw new S(`Unexpected ${Y.length-I.offset} bytes after deserialized data`);return f}ut.deserialize=de;function le(K,V,Y,Q=T){const I=new Q(Y);return X(K,V,I)}return ut.deserializeUnchecked=le,ut}var jf=jk(),he={},Rw;function Lk(){if(Rw)return he;Rw=1,Object.defineProperty(he,"__esModule",{value:!0}),he.s16=he.s8=he.nu64be=he.u48be=he.u40be=he.u32be=he.u24be=he.u16be=he.nu64=he.u48=he.u40=he.u32=he.u24=he.u16=he.u8=he.offset=he.greedy=he.Constant=he.UTF8=he.CString=he.Blob=he.Boolean=he.BitField=he.BitStructure=he.VariantLayout=he.Union=he.UnionLayoutDiscriminator=he.UnionDiscriminator=he.Structure=he.Sequence=he.DoubleBE=he.Double=he.FloatBE=he.Float=he.NearInt64BE=he.NearInt64=he.NearUInt64BE=he.NearUInt64=he.IntBE=he.Int=he.UIntBE=he.UInt=he.OffsetLayout=he.GreedyCount=he.ExternalLayout=he.bindConstructorLayout=he.nameWithProperty=he.Layout=he.uint8ArrayToBuffer=he.checkUint8Array=void 0,he.constant=he.utf8=he.cstr=he.blob=he.unionLayoutDiscriminator=he.union=he.seq=he.bits=he.struct=he.f64be=he.f64=he.f32be=he.f32=he.ns64be=he.s48be=he.s40be=he.s32be=he.s24be=he.s16be=he.ns64=he.s48=he.s40=he.s32=he.s24=void 0;const n=Fp();function e(g){if(!(g instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}he.checkUint8Array=e;function t(g){return e(g),n.Buffer.from(g.buffer,g.byteOffset,g.length)}he.uint8ArrayToBuffer=t;let r=class{constructor(y,j){if(!Number.isInteger(y))throw new TypeError("span must be an integer");this.span=y,this.property=j}makeDestinationObject(){return{}}getSpan(y,j){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(y){const j=Object.create(this.constructor.prototype);return Object.assign(j,this),j.property=y,j}fromArray(y){}};he.Layout=r;function s(g,y){return y.property?g+"["+y.property+"]":g}he.nameWithProperty=s;function o(g,y){if(typeof g!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(g,"layout_"))throw new Error("Class is already bound to a layout");if(!(y&&y instanceof r))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(y,"boundConstructor_"))throw new Error("layout is already bound to a constructor");g.layout_=y,y.boundConstructor_=g,y.makeDestinationObject=(()=>new g),Object.defineProperty(g.prototype,"encode",{value(j,W){return y.encode(this,j,W)},writable:!0}),Object.defineProperty(g,"decode",{value(j,W){return y.decode(j,W)},writable:!0})}he.bindConstructorLayout=o;class l extends r{isCount(){throw new Error("ExternalLayout is abstract")}}he.ExternalLayout=l;class u extends l{constructor(y=1,j){if(!Number.isInteger(y)||0>=y)throw new TypeError("elementSpan must be a (positive) integer");super(-1,j),this.elementSpan=y}isCount(){return!0}decode(y,j=0){e(y);const W=y.length-j;return Math.floor(W/this.elementSpan)}encode(y,j,W){return 0}}he.GreedyCount=u;class d extends l{constructor(y,j=0,W){if(!(y instanceof r))throw new TypeError("layout must be a Layout");if(!Number.isInteger(j))throw new TypeError("offset must be integer or undefined");super(y.span,W||y.property),this.layout=y,this.offset=j}isCount(){return this.layout instanceof p||this.layout instanceof w}decode(y,j=0){return this.layout.decode(y,j+this.offset)}encode(y,j,W=0){return this.layout.encode(y,j,W+this.offset)}}he.OffsetLayout=d;class p extends r{constructor(y,j){if(super(y,j),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(y,j=0){return t(y).readUIntLE(j,this.span)}encode(y,j,W=0){return t(j).writeUIntLE(y,W,this.span),this.span}}he.UInt=p;class w extends r{constructor(y,j){if(super(y,j),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(y,j=0){return t(y).readUIntBE(j,this.span)}encode(y,j,W=0){return t(j).writeUIntBE(y,W,this.span),this.span}}he.UIntBE=w;class _ extends r{constructor(y,j){if(super(y,j),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(y,j=0){return t(y).readIntLE(j,this.span)}encode(y,j,W=0){return t(j).writeIntLE(y,W,this.span),this.span}}he.Int=_;class k extends r{constructor(y,j){if(super(y,j),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(y,j=0){return t(y).readIntBE(j,this.span)}encode(y,j,W=0){return t(j).writeIntBE(y,W,this.span),this.span}}he.IntBE=k;const S=Math.pow(2,32);function N(g){const y=Math.floor(g/S),j=g-y*S;return{hi32:y,lo32:j}}function C(g,y){return g*S+y}class T extends r{constructor(y){super(8,y)}decode(y,j=0){const W=t(y),J=W.readUInt32LE(j),se=W.readUInt32LE(j+4);return C(se,J)}encode(y,j,W=0){const J=N(y),se=t(j);return se.writeUInt32LE(J.lo32,W),se.writeUInt32LE(J.hi32,W+4),8}}he.NearUInt64=T;class z extends r{constructor(y){super(8,y)}decode(y,j=0){const W=t(y),J=W.readUInt32BE(j),se=W.readUInt32BE(j+4);return C(J,se)}encode(y,j,W=0){const J=N(y),se=t(j);return se.writeUInt32BE(J.hi32,W),se.writeUInt32BE(J.lo32,W+4),8}}he.NearUInt64BE=z;class F extends r{constructor(y){super(8,y)}decode(y,j=0){const W=t(y),J=W.readUInt32LE(j),se=W.readInt32LE(j+4);return C(se,J)}encode(y,j,W=0){const J=N(y),se=t(j);return se.writeUInt32LE(J.lo32,W),se.writeInt32LE(J.hi32,W+4),8}}he.NearInt64=F;class U extends r{constructor(y){super(8,y)}decode(y,j=0){const W=t(y),J=W.readInt32BE(j),se=W.readUInt32BE(j+4);return C(J,se)}encode(y,j,W=0){const J=N(y),se=t(j);return se.writeInt32BE(J.hi32,W),se.writeUInt32BE(J.lo32,W+4),8}}he.NearInt64BE=U;class G extends r{constructor(y){super(4,y)}decode(y,j=0){return t(y).readFloatLE(j)}encode(y,j,W=0){return t(j).writeFloatLE(y,W),4}}he.Float=G;class te extends r{constructor(y){super(4,y)}decode(y,j=0){return t(y).readFloatBE(j)}encode(y,j,W=0){return t(j).writeFloatBE(y,W),4}}he.FloatBE=te;class X extends r{constructor(y){super(8,y)}decode(y,j=0){return t(y).readDoubleLE(j)}encode(y,j,W=0){return t(j).writeDoubleLE(y,W),8}}he.Double=X;class de extends r{constructor(y){super(8,y)}decode(y,j=0){return t(y).readDoubleBE(j)}encode(y,j,W=0){return t(j).writeDoubleBE(y,W),8}}he.DoubleBE=de;class le extends r{constructor(y,j,W){if(!(y instanceof r))throw new TypeError("elementLayout must be a Layout");if(!(j instanceof l&&j.isCount()||Number.isInteger(j)&&0<=j))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let J=-1;!(j instanceof l)&&0<y.span&&(J=j*y.span),super(J,W),this.elementLayout=y,this.count=j}getSpan(y,j=0){if(0<=this.span)return this.span;let W=0,J=this.count;if(J instanceof l&&(J=J.decode(y,j)),0<this.elementLayout.span)W=J*this.elementLayout.span;else{let se=0;for(;se<J;)W+=this.elementLayout.getSpan(y,j+W),++se}return W}decode(y,j=0){const W=[];let J=0,se=this.count;for(se instanceof l&&(se=se.decode(y,j));J<se;)W.push(this.elementLayout.decode(y,j)),j+=this.elementLayout.getSpan(y,j),J+=1;return W}encode(y,j,W=0){const J=this.elementLayout,se=y.reduce((ge,ye)=>ge+J.encode(ye,j,W+ge),0);return this.count instanceof l&&this.count.encode(y.length,j,W),se}}he.Sequence=le;class K extends r{constructor(y,j,W){if(!(Array.isArray(y)&&y.reduce((se,ge)=>se&&ge instanceof r,!0)))throw new TypeError("fields must be array of Layout instances");typeof j=="boolean"&&W===void 0&&(W=j,j=void 0);for(const se of y)if(0>se.span&&se.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let J=-1;try{J=y.reduce((se,ge)=>se+ge.getSpan(),0)}catch{}super(J,j),this.fields=y,this.decodePrefixes=!!W}getSpan(y,j=0){if(0<=this.span)return this.span;let W=0;try{W=this.fields.reduce((J,se)=>{const ge=se.getSpan(y,j);return j+=ge,J+ge},0)}catch{throw new RangeError("indeterminate span")}return W}decode(y,j=0){e(y);const W=this.makeDestinationObject();for(const J of this.fields)if(J.property!==void 0&&(W[J.property]=J.decode(y,j)),j+=J.getSpan(y,j),this.decodePrefixes&&y.length===j)break;return W}encode(y,j,W=0){const J=W;let se=0,ge=0;for(const ye of this.fields){let qe=ye.span;if(ge=0<qe?qe:0,ye.property!==void 0){const et=y[ye.property];et!==void 0&&(ge=ye.encode(et,j,W),0>qe&&(qe=ye.getSpan(j,W)))}se=W,W+=qe}return se+ge-J}fromArray(y){const j=this.makeDestinationObject();for(const W of this.fields)W.property!==void 0&&0<y.length&&(j[W.property]=y.shift());return j}layoutFor(y){if(typeof y!="string")throw new TypeError("property must be string");for(const j of this.fields)if(j.property===y)return j}offsetOf(y){if(typeof y!="string")throw new TypeError("property must be string");let j=0;for(const W of this.fields){if(W.property===y)return j;0>W.span?j=-1:0<=j&&(j+=W.span)}}}he.Structure=K;class V{constructor(y){this.property=y}decode(y,j){throw new Error("UnionDiscriminator is abstract")}encode(y,j,W){throw new Error("UnionDiscriminator is abstract")}}he.UnionDiscriminator=V;class Y extends V{constructor(y,j){if(!(y instanceof l&&y.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(j||y.property||"variant"),this.layout=y}decode(y,j){return this.layout.decode(y,j)}encode(y,j,W){return this.layout.encode(y,j,W)}}he.UnionLayoutDiscriminator=Y;class Q extends r{constructor(y,j,W){let J;if(y instanceof p||y instanceof w)J=new Y(new d(y));else if(y instanceof l&&y.isCount())J=new Y(y);else if(y instanceof V)J=y;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(j===void 0&&(j=null),!(j===null||j instanceof r))throw new TypeError("defaultLayout must be null or a Layout");if(j!==null){if(0>j.span)throw new Error("defaultLayout must have constant span");j.property===void 0&&(j=j.replicate("content"))}let se=-1;j&&(se=j.span,0<=se&&(y instanceof p||y instanceof w)&&(se+=J.layout.span)),super(se,W),this.discriminator=J,this.usesPrefixDiscriminator=y instanceof p||y instanceof w,this.defaultLayout=j,this.registry={};let ge=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(ye){return ge(ye)},this.configGetSourceVariant=function(ye){ge=ye.bind(this)}}getSpan(y,j=0){if(0<=this.span)return this.span;const W=this.getVariant(y,j);if(!W)throw new Error("unable to determine span for unrecognized variant");return W.getSpan(y,j)}defaultGetSourceVariant(y){if(Object.prototype.hasOwnProperty.call(y,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(y,this.defaultLayout.property))return;const j=this.registry[y[this.discriminator.property]];if(j&&(!j.layout||j.property&&Object.prototype.hasOwnProperty.call(y,j.property)))return j}else for(const j in this.registry){const W=this.registry[j];if(W.property&&Object.prototype.hasOwnProperty.call(y,W.property))return W}throw new Error("unable to infer src variant")}decode(y,j=0){let W;const J=this.discriminator,se=J.decode(y,j),ge=this.registry[se];if(ge===void 0){const ye=this.defaultLayout;let qe=0;this.usesPrefixDiscriminator&&(qe=J.layout.span),W=this.makeDestinationObject(),W[J.property]=se,W[ye.property]=ye.decode(y,j+qe)}else W=ge.decode(y,j);return W}encode(y,j,W=0){const J=this.getSourceVariant(y);if(J===void 0){const se=this.discriminator,ge=this.defaultLayout;let ye=0;return this.usesPrefixDiscriminator&&(ye=se.layout.span),se.encode(y[se.property],j,W),ye+ge.encode(y[ge.property],j,W+ye)}return J.encode(y,j,W)}addVariant(y,j,W){const J=new I(this,y,j,W);return this.registry[y]=J,J}getVariant(y,j=0){let W;return y instanceof Uint8Array?W=this.discriminator.decode(y,j):W=y,this.registry[W]}}he.Union=Q;class I extends r{constructor(y,j,W,J){if(!(y instanceof Q))throw new TypeError("union must be a Union");if(!Number.isInteger(j)||0>j)throw new TypeError("variant must be a (non-negative) integer");if(typeof W=="string"&&J===void 0&&(J=W,W=null),W){if(!(W instanceof r))throw new TypeError("layout must be a Layout");if(y.defaultLayout!==null&&0<=W.span&&W.span>y.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof J!="string")throw new TypeError("variant must have a String property")}let se=y.span;0>y.span&&(se=W?W.span:0,0<=se&&y.usesPrefixDiscriminator&&(se+=y.discriminator.layout.span)),super(se,J),this.union=y,this.variant=j,this.layout=W||null}getSpan(y,j=0){if(0<=this.span)return this.span;let W=0;this.union.usesPrefixDiscriminator&&(W=this.union.discriminator.layout.span);let J=0;return this.layout&&(J=this.layout.getSpan(y,j+W)),W+J}decode(y,j=0){const W=this.makeDestinationObject();if(this!==this.union.getVariant(y,j))throw new Error("variant mismatch");let J=0;return this.union.usesPrefixDiscriminator&&(J=this.union.discriminator.layout.span),this.layout?W[this.property]=this.layout.decode(y,j+J):this.property?W[this.property]=!0:this.union.usesPrefixDiscriminator&&(W[this.union.discriminator.property]=this.variant),W}encode(y,j,W=0){let J=0;if(this.union.usesPrefixDiscriminator&&(J=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(y,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,j,W);let se=J;if(this.layout&&(this.layout.encode(y[this.property],j,W+J),se+=this.layout.getSpan(j,W+J),0<=this.union.span&&se>this.union.span))throw new Error("encoded variant overruns containing union");return se}fromArray(y){if(this.layout)return this.layout.fromArray(y)}}he.VariantLayout=I;function f(g){return 0>g&&(g+=4294967296),g}class v extends r{constructor(y,j,W){if(!(y instanceof p||y instanceof w))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof j=="string"&&W===void 0&&(W=j,j=!1),4<y.span)throw new RangeError("word cannot exceed 32 bits");super(y.span,W),this.word=y,this.msb=!!j,this.fields=[];let J=0;this._packedSetValue=function(se){return J=f(se),this},this._packedGetValue=function(){return J}}decode(y,j=0){const W=this.makeDestinationObject(),J=this.word.decode(y,j);this._packedSetValue(J);for(const se of this.fields)se.property!==void 0&&(W[se.property]=se.decode(y));return W}encode(y,j,W=0){const J=this.word.decode(j,W);this._packedSetValue(J);for(const se of this.fields)if(se.property!==void 0){const ge=y[se.property];ge!==void 0&&se.encode(ge)}return this.word.encode(this._packedGetValue(),j,W)}addField(y,j){const W=new R(this,y,j);return this.fields.push(W),W}addBoolean(y){const j=new P(this,y);return this.fields.push(j),j}fieldFor(y){if(typeof y!="string")throw new TypeError("property must be string");for(const j of this.fields)if(j.property===y)return j}}he.BitStructure=v;class R{constructor(y,j,W){if(!(y instanceof v))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(j)||0>=j)throw new TypeError("bits must be positive integer");const J=8*y.span,se=y.fields.reduce((ge,ye)=>ge+ye.bits,0);if(j+se>J)throw new Error("bits too long for span remainder ("+(J-se)+" of "+J+" remain)");this.container=y,this.bits=j,this.valueMask=(1<<j)-1,j===32&&(this.valueMask=4294967295),this.start=se,this.container.msb&&(this.start=J-se-j),this.wordMask=f(this.valueMask<<this.start),this.property=W}decode(y,j){const W=this.container._packedGetValue();return f(W&this.wordMask)>>>this.start}encode(y){if(typeof y!="number"||!Number.isInteger(y)||y!==f(y&this.valueMask))throw new TypeError(s("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const j=this.container._packedGetValue(),W=f(y<<this.start);this.container._packedSetValue(f(j&~this.wordMask)|W)}}he.BitField=R;class P extends R{constructor(y,j){super(y,1,j)}decode(y,j){return!!super.decode(y,j)}encode(y){typeof y=="boolean"&&(y=+y),super.encode(y)}}he.Boolean=P;class B extends r{constructor(y,j){if(!(y instanceof l&&y.isCount()||Number.isInteger(y)&&0<=y))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let W=-1;y instanceof l||(W=y),super(W,j),this.length=y}getSpan(y,j){let W=this.span;return 0>W&&(W=this.length.decode(y,j)),W}decode(y,j=0){let W=this.span;return 0>W&&(W=this.length.decode(y,j)),t(y).slice(j,j+W)}encode(y,j,W){let J=this.length;if(this.length instanceof l&&(J=y.length),!(y instanceof Uint8Array&&J===y.length))throw new TypeError(s("Blob.encode",this)+" requires (length "+J+") Uint8Array as src");if(W+J>j.length)throw new RangeError("encoding overruns Uint8Array");const se=t(y);return t(j).write(se.toString("hex"),W,J,"hex"),this.length instanceof l&&this.length.encode(J,j,W),J}}he.Blob=B;class D extends r{constructor(y){super(-1,y)}getSpan(y,j=0){e(y);let W=j;for(;W<y.length&&y[W]!==0;)W+=1;return 1+W-j}decode(y,j=0){const W=this.getSpan(y,j);return t(y).slice(j,j+W-1).toString("utf-8")}encode(y,j,W=0){typeof y!="string"&&(y=String(y));const J=n.Buffer.from(y,"utf8"),se=J.length;if(W+se>j.length)throw new RangeError("encoding overruns Buffer");const ge=t(j);return J.copy(ge,W),ge[W+se]=0,se+1}}he.CString=D;class $ extends r{constructor(y,j){if(typeof y=="string"&&j===void 0&&(j=y,y=void 0),y===void 0)y=-1;else if(!Number.isInteger(y))throw new TypeError("maxSpan must be an integer");super(-1,j),this.maxSpan=y}getSpan(y,j=0){return e(y),y.length-j}decode(y,j=0){const W=this.getSpan(y,j);if(0<=this.maxSpan&&this.maxSpan<W)throw new RangeError("text length exceeds maxSpan");return t(y).slice(j,j+W).toString("utf-8")}encode(y,j,W=0){typeof y!="string"&&(y=String(y));const J=n.Buffer.from(y,"utf8"),se=J.length;if(0<=this.maxSpan&&this.maxSpan<se)throw new RangeError("text length exceeds maxSpan");if(W+se>j.length)throw new RangeError("encoding overruns Buffer");return J.copy(t(j),W),se}}he.UTF8=$;class M extends r{constructor(y,j){super(0,j),this.value=y}decode(y,j){return this.value}encode(y,j,W){return 0}}return he.Constant=M,he.greedy=((g,y)=>new u(g,y)),he.offset=((g,y,j)=>new d(g,y,j)),he.u8=(g=>new p(1,g)),he.u16=(g=>new p(2,g)),he.u24=(g=>new p(3,g)),he.u32=(g=>new p(4,g)),he.u40=(g=>new p(5,g)),he.u48=(g=>new p(6,g)),he.nu64=(g=>new T(g)),he.u16be=(g=>new w(2,g)),he.u24be=(g=>new w(3,g)),he.u32be=(g=>new w(4,g)),he.u40be=(g=>new w(5,g)),he.u48be=(g=>new w(6,g)),he.nu64be=(g=>new z(g)),he.s8=(g=>new _(1,g)),he.s16=(g=>new _(2,g)),he.s24=(g=>new _(3,g)),he.s32=(g=>new _(4,g)),he.s40=(g=>new _(5,g)),he.s48=(g=>new _(6,g)),he.ns64=(g=>new F(g)),he.s16be=(g=>new k(2,g)),he.s24be=(g=>new k(3,g)),he.s32be=(g=>new k(4,g)),he.s40be=(g=>new k(5,g)),he.s48be=(g=>new k(6,g)),he.ns64be=(g=>new U(g)),he.f32=(g=>new G(g)),he.f32be=(g=>new te(g)),he.f64=(g=>new X(g)),he.f64be=(g=>new de(g)),he.struct=((g,y,j)=>new K(g,y,j)),he.bits=((g,y,j)=>new v(g,y,j)),he.seq=((g,y,j)=>new le(g,y,j)),he.union=((g,y,j)=>new Q(g,y,j)),he.unionLayoutDiscriminator=((g,y)=>new Y(g,y)),he.blob=((g,y)=>new B(g,y)),he.cstr=(g=>new D(g)),he.utf8=((g,y)=>new $(g,y)),he.constant=((g,y)=>new M(g,y)),he}var Z=Lk(),Bk=8078e3,Ok=8078001,Pk=8078004,Uk=8078005,Dk=8078006,zk=8078011;function fb(n){return Array.isArray(n)?"%5B"+n.map(fb).join("%2C%20")+"%5D":typeof n=="bigint"?`${n}n`:encodeURIComponent(String(n!=null&&Object.getPrototypeOf(n)===null?{...n}:n))}function Fk([n,e]){return`${n}=${fb(e)}`}function Wk(n){const e=Object.entries(n).map(Fk).join("&");return btoa(e)}function $k(n,e={}){{let t=`Solana error #${n}; Decode this error by running \`npx @solana/errors decode -- ${n}`;return Object.keys(e).length&&(t+=` '${Wk(e)}'`),`${t}\``}}var la=class extends Error{constructor(...[e,t]){let r,s;if(t){const{cause:l,...u}=t;l&&(s={cause:l}),Object.keys(u).length>0&&(r=u)}const o=$k(e,r);super(o,s);or(this,"cause",this.cause);or(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function qk(n,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(n)}function Kk(n){return Object.freeze({...n,encode:e=>{const t=new Uint8Array(qk(e,n));return n.write(e,t,0),t}})}function Vk(n){return Object.freeze({...n,decode:(e,t=0)=>n.read(e,t)[0]})}function $o(n){return"fixedSize"in n&&typeof n.fixedSize=="number"}function Hk(n,e){if($o(n)!==$o(e))throw new la(Pk);if($o(n)&&$o(e)&&n.fixedSize!==e.fixedSize)throw new la(Uk,{decoderFixedSize:e.fixedSize,encoderFixedSize:n.fixedSize});if(!$o(n)&&!$o(e)&&n.maxSize!==e.maxSize)throw new la(Dk,{decoderMaxSize:e.maxSize,encoderMaxSize:n.maxSize});return{...e,...n,decode:e.decode,encode:n.encode,read:e.read,write:n.write}}function Gk(n,e,t=0){if(e.length-t<=0)throw new la(Bk,{codecDescription:n})}function Yk(n,e,t,r=0){const s=t.length-r;if(s<e)throw new la(Ok,{bytesLength:s,codecDescription:n,expected:e})}function Zk(n,e,t,r){if(r<e||r>t)throw new la(zk,{codecDescription:n,max:t,min:e,value:r})}function pb(n){return(n==null?void 0:n.endian)!==1}function Qk(n){return Kk({fixedSize:n.size,write(e,t,r){n.range&&Zk(n.name,n.range[0],n.range[1],e);const s=new ArrayBuffer(n.size);return n.set(new DataView(s),e,pb(n.config)),t.set(new Uint8Array(s),r),r+n.size}})}function Jk(n){return Vk({fixedSize:n.size,read(e,t=0){Gk(n.name,e,t),Yk(n.name,n.size,e,t);const r=new DataView(Xk(e,t,n.size));return[n.get(r,pb(n.config)),t+n.size]}})}function Xk(n,e,t){const r=n.byteOffset+(e??0),s=t??n.byteLength;return n.buffer.slice(r,r+s)}var eA=(n={})=>Qk({config:n,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}),tA=(n={})=>Jk({config:n,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}),rA=(n={})=>Hk(eA(n),tA(n));class nA extends TypeError{constructor(e,t){let r;const{message:s,explanation:o,...l}=e,{path:u}=e,d=u.length===0?s:`At path: ${u.join(".")} -- ${s}`;super(o??d),o!=null&&(this.cause=d),Object.assign(this,l),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function iA(n){return Yl(n)&&typeof n[Symbol.iterator]=="function"}function Yl(n){return typeof n=="object"&&n!=null}function rd(n){return Yl(n)&&!Array.isArray(n)}function Wn(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function sA(n){const{done:e,value:t}=n.next();return e?void 0:t}function oA(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:o}=e,{type:l}=t,{refinement:u,message:d=`Expected a value of type \`${l}\`${u?` with refinement \`${u}\``:""}, but received: \`${Wn(r)}\``}=n;return{value:r,type:l,refinement:u,key:s[s.length-1],path:s,branch:o,...n,message:d}}function*jw(n,e,t,r){iA(n)||(n=[n]);for(const s of n){const o=oA(s,e,t,r);o&&(yield o)}}function*Yp(n,e,t={}){const{path:r=[],branch:s=[n],coerce:o=!1,mask:l=!1}=t,u={path:r,branch:s,mask:l};o&&(n=e.coercer(n,u));let d="valid";for(const p of e.validator(n,u))p.explanation=t.message,d="not_valid",yield[p,void 0];for(let[p,w,_]of e.entries(n,u)){const k=Yp(w,_,{path:p===void 0?r:[...r,p],branch:p===void 0?s:[...s,w],coerce:o,mask:l,message:t.message});for(const S of k)S[0]?(d=S[0].refinement!=null?"not_refined":"not_valid",yield[S[0],void 0]):o&&(w=S[1],p===void 0?n=w:n instanceof Map?n.set(p,w):n instanceof Set?n.add(w):Yl(n)&&(w!==void 0||p in n)&&(n[p]=w))}if(d!=="not_valid")for(const p of e.refiner(n,u))p.explanation=t.message,d="not_refined",yield[p,void 0];d==="valid"&&(yield[void 0,n])}let Jn=class{constructor(e){const{type:t,schema:r,validator:s,refiner:o,coercer:l=d=>d,entries:u=function*(){}}=e;this.type=t,this.schema=r,this.entries=u,this.coercer=l,s?this.validator=(d,p)=>{const w=s(d,p);return jw(w,p,this,d)}:this.validator=()=>[],o?this.refiner=(d,p)=>{const w=o(d,p);return jw(w,p,this,d)}:this.refiner=()=>[]}assert(e,t){return aA(e,this,t)}create(e,t){return ke(e,this,t)}is(e){return gb(e,this)}mask(e,t){return lA(e,this,t)}validate(e,t={}){return Zl(e,this,t)}};function aA(n,e,t){const r=Zl(n,e,{message:t});if(r[0])throw r[0]}function ke(n,e,t){const r=Zl(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function lA(n,e,t){const r=Zl(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function gb(n,e){return!Zl(n,e)[0]}function Zl(n,e,t={}){const r=Yp(n,e,t),s=sA(r);return s[0]?[new nA(s[0],function*(){for(const l of r)l[0]&&(yield l[0])}),void 0]:[void 0,s[1]]}function so(n,e){return new Jn({type:n,schema:null,validator:e})}function cA(){return so("any",()=>!0)}function Ae(n){return new Jn({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Wn(e)}`}})}function Qn(){return so("boolean",n=>typeof n=="boolean")}function Zp(n){return so("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${Wn(e)}`)}function Gt(n){const e=Wn(n),t=typeof n;return new Jn({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${Wn(r)}`}})}function uA(){return so("never",()=>!1)}function Me(n){return new Jn({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function ce(){return so("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${Wn(n)}`)}function Ue(n){return new Jn({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function mb(n,e){return new Jn({type:"record",schema:null,*entries(t){if(Yl(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return rd(t)||`Expected an object, but received: ${Wn(t)}`},coercer(t){return rd(t)?{...t}:t}})}function Ee(){return so("string",n=>typeof n=="string"||`Expected a string, but received: ${Wn(n)}`)}function Qp(n){const e=uA();return new Jn({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${Wn(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function be(n){const e=Object.keys(n);return new Jn({type:"type",schema:n,*entries(t){if(Yl(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return rd(t)||`Expected an object, but received: ${Wn(t)}`},coercer(t){return rd(t)?{...t}:t}})}function Zr(n){const e=n.map(t=>t.type).join(" | ");return new Jn({type:"union",schema:null,coercer(t,r){for(const s of n){const[o,l]=s.validate(t,{coerce:!0,mask:r.mask});if(!o)return l}return t},validator(t,r){const s=[];for(const o of n){const[...l]=Yp(t,o,r),[u]=l;if(u[0])for(const[d]of l)d&&s.push(d);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Wn(t)}`,...s]}})}function ba(){return so("unknown",()=>!0)}function Ql(n,e,t){return new Jn({...n,coercer:(r,s)=>gb(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}var uu,dA=new Uint8Array(16);function yb(){if(!uu&&(uu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!uu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return uu(dA)}const hA=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function _d(n){return typeof n=="string"&&hA.test(n)}var Mr=[];for(var Lf=0;Lf<256;++Lf)Mr.push((Lf+256).toString(16).substr(1));function Sd(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Mr[n[e+0]]+Mr[n[e+1]]+Mr[n[e+2]]+Mr[n[e+3]]+"-"+Mr[n[e+4]]+Mr[n[e+5]]+"-"+Mr[n[e+6]]+Mr[n[e+7]]+"-"+Mr[n[e+8]]+Mr[n[e+9]]+"-"+Mr[n[e+10]]+Mr[n[e+11]]+Mr[n[e+12]]+Mr[n[e+13]]+Mr[n[e+14]]+Mr[n[e+15]]).toLowerCase();if(!_d(t))throw TypeError("Stringified UUID is invalid");return t}var Lw,Bf,Of=0,Pf=0;function fA(n,e,t){var r=e&&t||0,s=e||new Array(16);n=n||{};var o=n.node||Lw,l=n.clockseq!==void 0?n.clockseq:Bf;if(o==null||l==null){var u=n.random||(n.rng||yb)();o==null&&(o=Lw=[u[0]|1,u[1],u[2],u[3],u[4],u[5]]),l==null&&(l=Bf=(u[6]<<8|u[7])&16383)}var d=n.msecs!==void 0?n.msecs:Date.now(),p=n.nsecs!==void 0?n.nsecs:Pf+1,w=d-Of+(p-Pf)/1e4;if(w<0&&n.clockseq===void 0&&(l=l+1&16383),(w<0||d>Of)&&n.nsecs===void 0&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Of=d,Pf=p,Bf=l,d+=122192928e5;var _=((d&268435455)*1e4+p)%4294967296;s[r++]=_>>>24&255,s[r++]=_>>>16&255,s[r++]=_>>>8&255,s[r++]=_&255;var k=d/4294967296*1e4&268435455;s[r++]=k>>>8&255,s[r++]=k&255,s[r++]=k>>>24&15|16,s[r++]=k>>>16&255,s[r++]=l>>>8|128,s[r++]=l&255;for(var S=0;S<6;++S)s[r+S]=o[S];return e||Sd(s)}function wb(n){if(!_d(n))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(n.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(n.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(n.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(n.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(n.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}function pA(n){n=unescape(encodeURIComponent(n));for(var e=[],t=0;t<n.length;++t)e.push(n.charCodeAt(t));return e}var gA="6ba7b810-9dad-11d1-80b4-00c04fd430c8",mA="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function vb(n,e,t){function r(s,o,l,u){if(typeof s=="string"&&(s=pA(s)),typeof o=="string"&&(o=wb(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var d=new Uint8Array(16+s.length);if(d.set(o),d.set(s,o.length),d=t(d),d[6]=d[6]&15|e,d[8]=d[8]&63|128,l){u=u||0;for(var p=0;p<16;++p)l[u+p]=d[p];return l}return Sd(d)}try{r.name=n}catch{}return r.DNS=gA,r.URL=mA,r}function yA(n){if(typeof n=="string"){var e=unescape(encodeURIComponent(n));n=new Uint8Array(e.length);for(var t=0;t<e.length;++t)n[t]=e.charCodeAt(t)}return wA(vA(bA(n),n.length*8))}function wA(n){for(var e=[],t=n.length*32,r="0123456789abcdef",s=0;s<t;s+=8){var o=n[s>>5]>>>s%32&255,l=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);e.push(l)}return e}function bb(n){return(n+64>>>9<<4)+14+1}function vA(n,e){n[e>>5]|=128<<e%32,n[bb(e)-1]=e;for(var t=1732584193,r=-271733879,s=-1732584194,o=271733878,l=0;l<n.length;l+=16){var u=t,d=r,p=s,w=o;t=Ur(t,r,s,o,n[l],7,-680876936),o=Ur(o,t,r,s,n[l+1],12,-389564586),s=Ur(s,o,t,r,n[l+2],17,606105819),r=Ur(r,s,o,t,n[l+3],22,-1044525330),t=Ur(t,r,s,o,n[l+4],7,-176418897),o=Ur(o,t,r,s,n[l+5],12,1200080426),s=Ur(s,o,t,r,n[l+6],17,-1473231341),r=Ur(r,s,o,t,n[l+7],22,-45705983),t=Ur(t,r,s,o,n[l+8],7,1770035416),o=Ur(o,t,r,s,n[l+9],12,-1958414417),s=Ur(s,o,t,r,n[l+10],17,-42063),r=Ur(r,s,o,t,n[l+11],22,-1990404162),t=Ur(t,r,s,o,n[l+12],7,1804603682),o=Ur(o,t,r,s,n[l+13],12,-40341101),s=Ur(s,o,t,r,n[l+14],17,-1502002290),r=Ur(r,s,o,t,n[l+15],22,1236535329),t=Dr(t,r,s,o,n[l+1],5,-165796510),o=Dr(o,t,r,s,n[l+6],9,-1069501632),s=Dr(s,o,t,r,n[l+11],14,643717713),r=Dr(r,s,o,t,n[l],20,-373897302),t=Dr(t,r,s,o,n[l+5],5,-701558691),o=Dr(o,t,r,s,n[l+10],9,38016083),s=Dr(s,o,t,r,n[l+15],14,-660478335),r=Dr(r,s,o,t,n[l+4],20,-405537848),t=Dr(t,r,s,o,n[l+9],5,568446438),o=Dr(o,t,r,s,n[l+14],9,-1019803690),s=Dr(s,o,t,r,n[l+3],14,-187363961),r=Dr(r,s,o,t,n[l+8],20,1163531501),t=Dr(t,r,s,o,n[l+13],5,-1444681467),o=Dr(o,t,r,s,n[l+2],9,-51403784),s=Dr(s,o,t,r,n[l+7],14,1735328473),r=Dr(r,s,o,t,n[l+12],20,-1926607734),t=zr(t,r,s,o,n[l+5],4,-378558),o=zr(o,t,r,s,n[l+8],11,-2022574463),s=zr(s,o,t,r,n[l+11],16,1839030562),r=zr(r,s,o,t,n[l+14],23,-35309556),t=zr(t,r,s,o,n[l+1],4,-1530992060),o=zr(o,t,r,s,n[l+4],11,1272893353),s=zr(s,o,t,r,n[l+7],16,-155497632),r=zr(r,s,o,t,n[l+10],23,-1094730640),t=zr(t,r,s,o,n[l+13],4,681279174),o=zr(o,t,r,s,n[l],11,-358537222),s=zr(s,o,t,r,n[l+3],16,-722521979),r=zr(r,s,o,t,n[l+6],23,76029189),t=zr(t,r,s,o,n[l+9],4,-640364487),o=zr(o,t,r,s,n[l+12],11,-421815835),s=zr(s,o,t,r,n[l+15],16,530742520),r=zr(r,s,o,t,n[l+2],23,-995338651),t=Fr(t,r,s,o,n[l],6,-198630844),o=Fr(o,t,r,s,n[l+7],10,1126891415),s=Fr(s,o,t,r,n[l+14],15,-1416354905),r=Fr(r,s,o,t,n[l+5],21,-57434055),t=Fr(t,r,s,o,n[l+12],6,1700485571),o=Fr(o,t,r,s,n[l+3],10,-1894986606),s=Fr(s,o,t,r,n[l+10],15,-1051523),r=Fr(r,s,o,t,n[l+1],21,-2054922799),t=Fr(t,r,s,o,n[l+8],6,1873313359),o=Fr(o,t,r,s,n[l+15],10,-30611744),s=Fr(s,o,t,r,n[l+6],15,-1560198380),r=Fr(r,s,o,t,n[l+13],21,1309151649),t=Fr(t,r,s,o,n[l+4],6,-145523070),o=Fr(o,t,r,s,n[l+11],10,-1120210379),s=Fr(s,o,t,r,n[l+2],15,718787259),r=Fr(r,s,o,t,n[l+9],21,-343485551),t=as(t,u),r=as(r,d),s=as(s,p),o=as(o,w)}return[t,r,s,o]}function bA(n){if(n.length===0)return[];for(var e=n.length*8,t=new Uint32Array(bb(e)),r=0;r<e;r+=8)t[r>>5]|=(n[r/8]&255)<<r%32;return t}function as(n,e){var t=(n&65535)+(e&65535),r=(n>>16)+(e>>16)+(t>>16);return r<<16|t&65535}function xA(n,e){return n<<e|n>>>32-e}function Ed(n,e,t,r,s,o){return as(xA(as(as(e,n),as(r,o)),s),t)}function Ur(n,e,t,r,s,o,l){return Ed(e&t|~e&r,n,e,s,o,l)}function Dr(n,e,t,r,s,o,l){return Ed(e&r|t&~r,n,e,s,o,l)}function zr(n,e,t,r,s,o,l){return Ed(e^t^r,n,e,s,o,l)}function Fr(n,e,t,r,s,o,l){return Ed(t^(e|~r),n,e,s,o,l)}var _A=vb("v3",48,yA);function SA(n,e,t){n=n||{};var r=n.random||(n.rng||yb)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var s=0;s<16;++s)e[t+s]=r[s];return e}return Sd(r)}function EA(n,e,t,r){switch(n){case 0:return e&t^~e&r;case 1:return e^t^r;case 2:return e&t^e&r^t&r;case 3:return e^t^r}}function Uf(n,e){return n<<e|n>>>32-e}function kA(n){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var r=unescape(encodeURIComponent(n));n=[];for(var s=0;s<r.length;++s)n.push(r.charCodeAt(s))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var o=n.length/4+2,l=Math.ceil(o/16),u=new Array(l),d=0;d<l;++d){for(var p=new Uint32Array(16),w=0;w<16;++w)p[w]=n[d*64+w*4]<<24|n[d*64+w*4+1]<<16|n[d*64+w*4+2]<<8|n[d*64+w*4+3];u[d]=p}u[l-1][14]=(n.length-1)*8/Math.pow(2,32),u[l-1][14]=Math.floor(u[l-1][14]),u[l-1][15]=(n.length-1)*8&4294967295;for(var _=0;_<l;++_){for(var k=new Uint32Array(80),S=0;S<16;++S)k[S]=u[_][S];for(var N=16;N<80;++N)k[N]=Uf(k[N-3]^k[N-8]^k[N-14]^k[N-16],1);for(var C=t[0],T=t[1],z=t[2],F=t[3],U=t[4],G=0;G<80;++G){var te=Math.floor(G/20),X=Uf(C,5)+EA(te,T,z,F)+U+e[te]+k[G]>>>0;U=F,F=z,z=Uf(T,30)>>>0,T=C,C=X}t[0]=t[0]+C>>>0,t[1]=t[1]+T>>>0,t[2]=t[2]+z>>>0,t[3]=t[3]+F>>>0,t[4]=t[4]+U>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var AA=vb("v5",80,kA);const MA="00000000-0000-0000-0000-000000000000";function IA(n){if(!_d(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}const NA=Object.freeze(Object.defineProperty({__proto__:null,NIL:MA,parse:wb,stringify:Sd,v1:fA,v3:_A,v4:SA,v5:AA,validate:_d,version:IA},Symbol.toStringTag,{value:"Module"})),xb=wd(NA);var Df,Bw;function TA(){if(Bw)return Df;Bw=1;const n=xb.v4;return Df=function(t,r,s,o){if(typeof t!="string")throw new TypeError(t+" must be a string");o=o||{};const l=typeof o.version=="number"?o.version:2;if(l!==1&&l!==2)throw new TypeError(l+" must be 1 or 2");const u={method:t};if(l===2&&(u.jsonrpc="2.0"),r){if(typeof r!="object"&&!Array.isArray(r))throw new TypeError(r+" must be an object, array or omitted");u.params=r}if(typeof s>"u"){const d=typeof o.generator=="function"?o.generator:function(){return n()};u.id=d(u,o)}else l===2&&s===null?o.notificationIdNull&&(u.id=null):u.id=s;return u},Df}var zf,Ow;function CA(){if(Ow)return zf;Ow=1;const n=xb.v4,e=TA(),t=function(r,s){if(!(this instanceof t))return new t(r,s);s||(s={}),this.options={reviver:typeof s.reviver<"u"?s.reviver:null,replacer:typeof s.replacer<"u"?s.replacer:null,generator:typeof s.generator<"u"?s.generator:function(){return n()},version:typeof s.version<"u"?s.version:2,notificationIdNull:typeof s.notificationIdNull=="boolean"?s.notificationIdNull:!1},this.callServer=r};return zf=t,t.prototype.request=function(r,s,o,l){const u=this;let d=null;const p=Array.isArray(r)&&typeof s=="function";if(this.options.version===1&&p)throw new TypeError("JSON-RPC 1.0 does not support batching");if(p||!p&&r&&typeof r=="object"&&typeof s=="function")l=s,d=r;else{typeof o=="function"&&(l=o,o=void 0);const k=typeof l=="function";try{d=e(r,s,o,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(S){if(k)return l(S);throw S}if(!k)return d}let _;try{_=JSON.stringify(d,this.options.replacer)}catch(k){return l(k)}return this.callServer(_,function(k,S){u._parseResponse(k,S,l)}),d},t.prototype._parseResponse=function(r,s,o){if(r){o(r);return}if(!s)return o();let l;try{l=JSON.parse(s,this.options.reviver)}catch(u){return o(u)}if(o.length===3)if(Array.isArray(l)){const u=function(p){return typeof p.error<"u"},d=function(p){return!u(p)};return o(null,l.filter(u),l.filter(d))}else return o(null,l.error,l.result);o(null,l)},zf}var RA=CA();const jA=eo(RA);var Ff={exports:{}},Pw;function LA(){return Pw||(Pw=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function s(d,p,w){this.fn=d,this.context=p,this.once=w||!1}function o(d,p,w,_,k){if(typeof w!="function")throw new TypeError("The listener must be a function");var S=new s(w,_||d,k),N=t?t+p:p;return d._events[N]?d._events[N].fn?d._events[N]=[d._events[N],S]:d._events[N].push(S):(d._events[N]=S,d._eventsCount++),d}function l(d,p){--d._eventsCount===0?d._events=new r:delete d._events[p]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var p=[],w,_;if(this._eventsCount===0)return p;for(_ in w=this._events)e.call(w,_)&&p.push(t?_.slice(1):_);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(w)):p},u.prototype.listeners=function(p){var w=t?t+p:p,_=this._events[w];if(!_)return[];if(_.fn)return[_.fn];for(var k=0,S=_.length,N=new Array(S);k<S;k++)N[k]=_[k].fn;return N},u.prototype.listenerCount=function(p){var w=t?t+p:p,_=this._events[w];return _?_.fn?1:_.length:0},u.prototype.emit=function(p,w,_,k,S,N){var C=t?t+p:p;if(!this._events[C])return!1;var T=this._events[C],z=arguments.length,F,U;if(T.fn){switch(T.once&&this.removeListener(p,T.fn,void 0,!0),z){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,w),!0;case 3:return T.fn.call(T.context,w,_),!0;case 4:return T.fn.call(T.context,w,_,k),!0;case 5:return T.fn.call(T.context,w,_,k,S),!0;case 6:return T.fn.call(T.context,w,_,k,S,N),!0}for(U=1,F=new Array(z-1);U<z;U++)F[U-1]=arguments[U];T.fn.apply(T.context,F)}else{var G=T.length,te;for(U=0;U<G;U++)switch(T[U].once&&this.removeListener(p,T[U].fn,void 0,!0),z){case 1:T[U].fn.call(T[U].context);break;case 2:T[U].fn.call(T[U].context,w);break;case 3:T[U].fn.call(T[U].context,w,_);break;case 4:T[U].fn.call(T[U].context,w,_,k);break;default:if(!F)for(te=1,F=new Array(z-1);te<z;te++)F[te-1]=arguments[te];T[U].fn.apply(T[U].context,F)}}return!0},u.prototype.on=function(p,w,_){return o(this,p,w,_,!1)},u.prototype.once=function(p,w,_){return o(this,p,w,_,!0)},u.prototype.removeListener=function(p,w,_,k){var S=t?t+p:p;if(!this._events[S])return this;if(!w)return l(this,S),this;var N=this._events[S];if(N.fn)N.fn===w&&(!k||N.once)&&(!_||N.context===_)&&l(this,S);else{for(var C=0,T=[],z=N.length;C<z;C++)(N[C].fn!==w||k&&!N[C].once||_&&N[C].context!==_)&&T.push(N[C]);T.length?this._events[S]=T.length===1?T[0]:T:l(this,S)}return this},u.prototype.removeAllListeners=function(p){var w;return p?(w=t?t+p:p,this._events[w]&&l(this,w)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=t,u.EventEmitter=u,n.exports=u})(Ff)),Ff.exports}var BA=LA();const Jp=eo(BA);var OA=class extends Jp{constructor(e,t){super();or(this,"socket");this.socket=new window.WebSocket(e,t.protocols),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=r=>this.emit("message",r.data),this.socket.onerror=r=>this.emit("error",r),this.socket.onclose=r=>{this.emit("close",r.code,r.reason)}}send(e,t,r){const s=r||t;try{this.socket.send(e),s()}catch(o){s(o)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,r){this.socket.addEventListener(e,t,r)}};function PA(n,e){return new OA(n,e)}var UA=class{encode(n){return JSON.stringify(n)}decode(n){return JSON.parse(n)}},DA=class extends Jp{constructor(e,t="ws://localhost:8080",{autoconnect:r=!0,reconnect:s=!0,reconnect_interval:o=1e3,max_reconnects:l=5,...u}={},d,p){super();or(this,"address");or(this,"rpc_id");or(this,"queue");or(this,"options");or(this,"autoconnect");or(this,"ready");or(this,"reconnect");or(this,"reconnect_timer_id");or(this,"reconnect_interval");or(this,"max_reconnects");or(this,"rest_options");or(this,"current_reconnects");or(this,"generate_request_id");or(this,"socket");or(this,"webSocketFactory");or(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=r,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=l,this.rest_options=u,this.current_reconnects=0,this.generate_request_id=d||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),p?this.dataPack=p:this.dataPack=new UA,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,r,s){return!s&&typeof r=="object"&&(s=r,r=null),new Promise((o,l)=>{if(!this.ready)return l(new Error("socket not ready"));const u=this.generate_request_id(e,t),d={jsonrpc:"2.0",method:e,params:t||void 0,id:u};this.socket.send(this.dataPack.encode(d),s,p=>{if(p)return l(p);this.queue[u]={promise:[o,l]},r&&(this.queue[u].timeout=setTimeout(()=>{delete this.queue[u],l(new Error("reply timeout"))},r))})})}async login(e){const t=await this.call("rpc.login",e);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise((r,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o={jsonrpc:"2.0",method:e,params:t};this.socket.send(this.dataPack.encode(o),l=>{if(l)return s(l);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const t=await this.call("rpc.on",e);if(typeof e=="string"&&t[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){typeof e=="string"&&(e=[e]);const t=await this.call("rpc.off",e);if(typeof e=="string"&&t[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket&&this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=Ze.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const s=[r.notification];if(r.params.constructor===Object)s.push(r.params);else for(let o=0;o<r.params.length;o++)s.push(r.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",r,s),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(e,t),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",r,s),1))})}};class _b extends z1{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,U1(e);const r=Wp(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?e.create().update(r).digest():r);for(let l=0;l<o.length;l++)o[l]^=54;this.iHash.update(o),this.oHash=e.create();for(let l=0;l<o.length;l++)o[l]^=106;this.oHash.update(o),fa(o)}update(e){return Gu(this),this.iHash.update(e),this}digestInto(e){Gu(this),no(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:o,blockLen:l,outputLen:u}=this;return e=e,e.finished=s,e.destroyed=o,e.blockLen=l,e.outputLen=u,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Sb=(n,e,t)=>new _b(n,e).update(t).digest();Sb.create=(n,e)=>new _b(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Uw=(n,e)=>(n+(n>=0?e:-e)/Eb)/e;function zA(n,e,t){const[[r,s],[o,l]]=e,u=Uw(l*n,t),d=Uw(-s*n,t);let p=n-u*r-d*o,w=-u*s-d*l;const _=p<yi,k=w<yi;_&&(p=-p),k&&(w=-w);const S=Vl(Math.ceil(H1(t)/2))+ca;if(p<yi||p>=S||w<yi||w>=S)throw new Error("splitScalar (endomorphism): failed, k="+n);return{k1neg:_,k1:p,k2neg:k,k2:w}}function W0(n){if(!["compact","recovered","der"].includes(n))throw new Error('Signature format must be "compact", "recovered", or "der"');return n}function Wf(n,e){const t={};for(let r of Object.keys(e))t[r]=n[r]===void 0?e[r]:n[r];return Qs(t.lowS,"lowS"),Qs(t.prehash,"prehash"),t.format!==void 0&&W0(t.format),t}class FA extends Error{constructor(e=""){super(e)}}const di={Err:FA,_tlv:{encode:(n,e)=>{const{Err:t}=di;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");const r=e.length/2,s=lu(r);if(s.length/2&128)throw new t("tlv.encode: long form length too big");const o=r>127?lu(s.length/2|128):"";return lu(n)+o+s+e},decode(n,e){const{Err:t}=di;let r=0;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[r++]!==n)throw new t("tlv.decode: wrong tlv");const s=e[r++],o=!!(s&128);let l=0;if(!o)l=s;else{const d=s&127;if(!d)throw new t("tlv.decode(long): indefinite length not supported");if(d>4)throw new t("tlv.decode(long): byte length is too big");const p=e.subarray(r,r+d);if(p.length!==d)throw new t("tlv.decode: length bytes not complete");if(p[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(const w of p)l=l<<8|w;if(r+=d,l<128)throw new t("tlv.decode(long): not minimal encoding")}const u=e.subarray(r,r+l);if(u.length!==l)throw new t("tlv.decode: wrong value length");return{v:u,l:e.subarray(r+l)}}},_int:{encode(n){const{Err:e}=di;if(n<yi)throw new e("integer: negative integers are not allowed");let t=lu(n);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(n){const{Err:e}=di;if(n[0]&128)throw new e("invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return bd(n)}},toSig(n){const{Err:e,_int:t,_tlv:r}=di,s=tr("signature",n),{v:o,l}=r.decode(48,s);if(l.length)throw new e("invalid signature: left bytes after parsing");const{v:u,l:d}=r.decode(2,o),{v:p,l:w}=r.decode(2,d);if(w.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(u),s:t.decode(p)}},hexFromSig(n){const{_tlv:e,_int:t}=di,r=e.encode(2,t.encode(n.r)),s=e.encode(2,t.encode(n.s)),o=r+s;return e.encode(48,o)}},yi=BigInt(0),ca=BigInt(1),Eb=BigInt(2),du=BigInt(3),WA=BigInt(4);function ia(n,e){const{BYTES:t}=n;let r;if(typeof e=="bigint")r=e;else{let s=tr("private key",e);try{r=n.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${t}, got ${typeof e}`)}}if(!n.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function $A(n,e={}){const t=cb("weierstrass",n,e),{Fp:r,Fn:s}=t;let o=t.CURVE;const{h:l,n:u}=o;Hl(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:d}=e;if(d&&(!r.is0(o.a)||typeof d.beta!="bigint"||!Array.isArray(d.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const p=Ab(r,s);function w(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function _(Q,I,f){const{x:v,y:R}=I.toAffine(),P=r.toBytes(v);if(Qs(f,"isCompressed"),f){w();const B=!r.isOdd(R);return Zn(kb(B),P)}else return Zn(Uint8Array.of(4),P,r.toBytes(R))}function k(Q){Dn(Q,void 0,"Point");const{publicKey:I,publicKeyUncompressed:f}=p,v=Q.length,R=Q[0],P=Q.subarray(1);if(v===I&&(R===2||R===3)){const B=r.fromBytes(P);if(!r.isValid(B))throw new Error("bad point: is not on curve, wrong x");const D=C(B);let $;try{$=r.sqrt(D)}catch(y){const j=y instanceof Error?": "+y.message:"";throw new Error("bad point: is not on curve, sqrt error"+j)}w();const M=r.isOdd($);return(R&1)===1!==M&&($=r.neg($)),{x:B,y:$}}else if(v===f&&R===4){const B=r.BYTES,D=r.fromBytes(P.subarray(0,B)),$=r.fromBytes(P.subarray(B,B*2));if(!T(D,$))throw new Error("bad point: is not on curve");return{x:D,y:$}}else throw new Error(`bad point: got length ${v}, expected compressed=${I} or uncompressed=${f}`)}const S=e.toBytes||_,N=e.fromBytes||k;function C(Q){const I=r.sqr(Q),f=r.mul(I,Q);return r.add(r.add(f,r.mul(Q,o.a)),o.b)}function T(Q,I){const f=r.sqr(I),v=C(Q);return r.eql(f,v)}if(!T(o.Gx,o.Gy))throw new Error("bad curve params: generator point");const z=r.mul(r.pow(o.a,du),WA),F=r.mul(r.sqr(o.b),BigInt(27));if(r.is0(r.add(z,F)))throw new Error("bad curve params: a or b");function U(Q,I,f=!1){if(!r.isValid(I)||f&&r.is0(I))throw new Error(`bad point coordinate ${Q}`);return I}function G(Q){if(!(Q instanceof K))throw new Error("ProjectivePoint expected")}function te(Q){if(!d||!d.basises)throw new Error("no endo");return zA(Q,d.basises,s.ORDER)}const X=Zu((Q,I)=>{const{X:f,Y:v,Z:R}=Q;if(r.eql(R,r.ONE))return{x:f,y:v};const P=Q.is0();I==null&&(I=P?r.ONE:r.inv(R));const B=r.mul(f,I),D=r.mul(v,I),$=r.mul(R,I);if(P)return{x:r.ZERO,y:r.ZERO};if(!r.eql($,r.ONE))throw new Error("invZ was invalid");return{x:B,y:D}}),de=Zu(Q=>{if(Q.is0()){if(e.allowInfinityPoint&&!r.is0(Q.Y))return;throw new Error("bad point: ZERO")}const{x:I,y:f}=Q.toAffine();if(!r.isValid(I)||!r.isValid(f))throw new Error("bad point: x or y not field elements");if(!T(I,f))throw new Error("bad point: equation left != right");if(!Q.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function le(Q,I,f,v,R){return f=new K(r.mul(f.X,Q),f.Y,f.Z),I=Qu(v,I),f=Qu(R,f),I.add(f)}class K{constructor(I,f,v){this.X=U("x",I),this.Y=U("y",f,!0),this.Z=U("z",v),Object.freeze(this)}static CURVE(){return o}static fromAffine(I){const{x:f,y:v}=I||{};if(!I||!r.isValid(f)||!r.isValid(v))throw new Error("invalid affine point");if(I instanceof K)throw new Error("projective point not allowed");return r.is0(f)&&r.is0(v)?K.ZERO:new K(f,v,r.ONE)}static fromBytes(I){const f=K.fromAffine(N(Dn(I,void 0,"point")));return f.assertValidity(),f}static fromHex(I){return K.fromBytes(tr("pointHex",I))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(I=8,f=!0){return Y.createCache(this,I),f||this.multiply(du),this}assertValidity(){de(this)}hasEvenY(){const{y:I}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(I)}equals(I){G(I);const{X:f,Y:v,Z:R}=this,{X:P,Y:B,Z:D}=I,$=r.eql(r.mul(f,D),r.mul(P,R)),M=r.eql(r.mul(v,D),r.mul(B,R));return $&&M}negate(){return new K(this.X,r.neg(this.Y),this.Z)}double(){const{a:I,b:f}=o,v=r.mul(f,du),{X:R,Y:P,Z:B}=this;let D=r.ZERO,$=r.ZERO,M=r.ZERO,g=r.mul(R,R),y=r.mul(P,P),j=r.mul(B,B),W=r.mul(R,P);return W=r.add(W,W),M=r.mul(R,B),M=r.add(M,M),D=r.mul(I,M),$=r.mul(v,j),$=r.add(D,$),D=r.sub(y,$),$=r.add(y,$),$=r.mul(D,$),D=r.mul(W,D),M=r.mul(v,M),j=r.mul(I,j),W=r.sub(g,j),W=r.mul(I,W),W=r.add(W,M),M=r.add(g,g),g=r.add(M,g),g=r.add(g,j),g=r.mul(g,W),$=r.add($,g),j=r.mul(P,B),j=r.add(j,j),g=r.mul(j,W),D=r.sub(D,g),M=r.mul(j,y),M=r.add(M,M),M=r.add(M,M),new K(D,$,M)}add(I){G(I);const{X:f,Y:v,Z:R}=this,{X:P,Y:B,Z:D}=I;let $=r.ZERO,M=r.ZERO,g=r.ZERO;const y=o.a,j=r.mul(o.b,du);let W=r.mul(f,P),J=r.mul(v,B),se=r.mul(R,D),ge=r.add(f,v),ye=r.add(P,B);ge=r.mul(ge,ye),ye=r.add(W,J),ge=r.sub(ge,ye),ye=r.add(f,R);let qe=r.add(P,D);return ye=r.mul(ye,qe),qe=r.add(W,se),ye=r.sub(ye,qe),qe=r.add(v,R),$=r.add(B,D),qe=r.mul(qe,$),$=r.add(J,se),qe=r.sub(qe,$),g=r.mul(y,ye),$=r.mul(j,se),g=r.add($,g),$=r.sub(J,g),g=r.add(J,g),M=r.mul($,g),J=r.add(W,W),J=r.add(J,W),se=r.mul(y,se),ye=r.mul(j,ye),J=r.add(J,se),se=r.sub(W,se),se=r.mul(y,se),ye=r.add(ye,se),W=r.mul(J,ye),M=r.add(M,W),W=r.mul(qe,ye),$=r.mul(ge,$),$=r.sub($,W),W=r.mul(ge,J),g=r.mul(qe,g),g=r.add(g,W),new K($,M,g)}subtract(I){return this.add(I.negate())}is0(){return this.equals(K.ZERO)}multiply(I){const{endo:f}=e;if(!s.isValidNot0(I))throw new Error("invalid scalar: out of range");let v,R;const P=B=>Y.cached(this,B,D=>Fs(K,D));if(f){const{k1neg:B,k1:D,k2neg:$,k2:M}=te(I),{p:g,f:y}=P(D),{p:j,f:W}=P(M);R=y.add(W),v=le(f.beta,g,j,B,$)}else{const{p:B,f:D}=P(I);v=B,R=D}return Fs(K,[v,R])[0]}multiplyUnsafe(I){const{endo:f}=e,v=this;if(!s.isValid(I))throw new Error("invalid scalar: out of range");if(I===yi||v.is0())return K.ZERO;if(I===ca)return v;if(Y.hasCache(this))return this.multiply(I);if(f){const{k1neg:R,k1:P,k2neg:B,k2:D}=te(I),{p1:$,p2:M}=nk(K,v,P,D);return le(f.beta,$,M,R,B)}else return Y.unsafe(v,I)}multiplyAndAddUnsafe(I,f,v){const R=this.multiplyUnsafe(f).add(I.multiplyUnsafe(v));return R.is0()?void 0:R}toAffine(I){return X(this,I)}isTorsionFree(){const{isTorsionFree:I}=e;return l===ca?!0:I?I(K,this):Y.unsafe(this,u).is0()}clearCofactor(){const{clearCofactor:I}=e;return l===ca?this:I?I(K,this):this.multiplyUnsafe(l)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}toBytes(I=!0){return Qs(I,"isCompressed"),this.assertValidity(),S(K,this,I)}toHex(I=!0){return Ys(this.toBytes(I))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(I=!0){return this.toBytes(I)}_setWindowSize(I){this.precompute(I)}static normalizeZ(I){return Fs(K,I)}static msm(I,f){return lb(K,s,I,f)}static fromPrivateKey(I){return K.BASE.multiply(ia(s,I))}}K.BASE=new K(o.Gx,o.Gy,r.ONE),K.ZERO=new K(r.ZERO,r.ONE,r.ZERO),K.Fp=r,K.Fn=s;const V=s.BITS,Y=new ab(K,e.endo?Math.ceil(V/2):V);return K.BASE.precompute(8),K}function kb(n){return Uint8Array.of(n?2:3)}function Ab(n,e){return{secretKey:e.BYTES,publicKey:1+n.BYTES,publicKeyUncompressed:1+2*n.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function qA(n,e={}){const{Fn:t}=n,r=e.randomBytes||$p,s=Object.assign(Ab(n.Fp,t),{seed:ib(t.ORDER)});function o(S){try{return!!ia(t,S)}catch{return!1}}function l(S,N){const{publicKey:C,publicKeyUncompressed:T}=s;try{const z=S.length;return N===!0&&z!==C||N===!1&&z!==T?!1:!!n.fromBytes(S)}catch{return!1}}function u(S=r(s.seed)){return ek(Dn(S,s.seed,"seed"),t.ORDER)}function d(S,N=!0){return n.BASE.multiply(ia(t,S)).toBytes(N)}function p(S){const N=u(S);return{secretKey:N,publicKey:d(N)}}function w(S){if(typeof S=="bigint")return!1;if(S instanceof n)return!0;const{secretKey:N,publicKey:C,publicKeyUncompressed:T}=s;if(t.allowedLengths||N===C)return;const z=tr("key",S).length;return z===C||z===T}function _(S,N,C=!0){if(w(S)===!0)throw new Error("first arg must be private key");if(w(N)===!1)throw new Error("second arg must be public key");const T=ia(t,S);return n.fromHex(N).multiply(T).toBytes(C)}return Object.freeze({getPublicKey:d,getSharedSecret:_,keygen:p,Point:n,utils:{isValidSecretKey:o,isValidPublicKey:l,randomSecretKey:u,isValidPrivateKey:o,randomPrivateKey:u,normPrivateKeyToScalar:S=>ia(t,S),precompute(S=8,N=n.BASE){return N.precompute(S,!1)}},lengths:s})}function KA(n,e,t={}){U1(e),Hl(t,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=t.randomBytes||$p,s=t.hmac||((f,...v)=>Sb(e,f,Zn(...v))),{Fp:o,Fn:l}=n,{ORDER:u,BITS:d}=l,{keygen:p,getPublicKey:w,getSharedSecret:_,utils:k,lengths:S}=qA(n,t),N={prehash:!1,lowS:typeof t.lowS=="boolean"?t.lowS:!1,format:void 0,extraEntropy:!1},C="compact";function T(f){const v=u>>ca;return f>v}function z(f,v){if(!l.isValidNot0(v))throw new Error(`invalid signature ${f}: out of range 1..Point.Fn.ORDER`);return v}function F(f,v){W0(v);const R=S.signature,P=v==="compact"?R:v==="recovered"?R+1:void 0;return Dn(f,P,`${v} signature`)}class U{constructor(v,R,P){this.r=z("r",v),this.s=z("s",R),P!=null&&(this.recovery=P),Object.freeze(this)}static fromBytes(v,R=C){F(v,R);let P;if(R==="der"){const{r:M,s:g}=di.toSig(Dn(v));return new U(M,g)}R==="recovered"&&(P=v[0],R="compact",v=v.subarray(1));const B=l.BYTES,D=v.subarray(0,B),$=v.subarray(B,B*2);return new U(l.fromBytes(D),l.fromBytes($),P)}static fromHex(v,R){return this.fromBytes(Yu(v),R)}addRecoveryBit(v){return new U(this.r,this.s,v)}recoverPublicKey(v){const R=o.ORDER,{r:P,s:B,recovery:D}=this;if(D==null||![0,1,2,3].includes(D))throw new Error("recovery id invalid");if(u*Eb<R&&D>1)throw new Error("recovery id is ambiguous for h>1 curve");const M=D===2||D===3?P+u:P;if(!o.isValid(M))throw new Error("recovery id 2 or 3 invalid");const g=o.toBytes(M),y=n.fromBytes(Zn(kb((D&1)===0),g)),j=l.inv(M),W=te(tr("msgHash",v)),J=l.create(-W*j),se=l.create(B*j),ge=n.BASE.multiplyUnsafe(J).add(y.multiplyUnsafe(se));if(ge.is0())throw new Error("point at infinify");return ge.assertValidity(),ge}hasHighS(){return T(this.s)}toBytes(v=C){if(W0(v),v==="der")return Yu(di.hexFromSig(this));const R=l.toBytes(this.r),P=l.toBytes(this.s);if(v==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Zn(Uint8Array.of(this.recovery),R,P)}return Zn(R,P)}toHex(v){return Ys(this.toBytes(v))}assertValidity(){}static fromCompact(v){return U.fromBytes(tr("sig",v),"compact")}static fromDER(v){return U.fromBytes(tr("sig",v),"der")}normalizeS(){return this.hasHighS()?new U(this.r,l.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Ys(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Ys(this.toBytes("compact"))}}const G=t.bits2int||function(v){if(v.length>8192)throw new Error("input is too large");const R=bd(v),P=v.length*8-d;return P>0?R>>BigInt(P):R},te=t.bits2int_modN||function(v){return l.create(G(v))},X=Vl(d);function de(f){return F0("num < 2^"+d,f,yi,X),l.toBytes(f)}function le(f,v){return Dn(f,void 0,"message"),v?Dn(e(f),void 0,"prehashed message"):f}function K(f,v,R){if(["recovered","canonical"].some(J=>J in R))throw new Error("sign() legacy options not supported");const{lowS:P,prehash:B,extraEntropy:D}=Wf(R,N);f=le(f,B);const $=te(f),M=ia(l,v),g=[de(M),de($)];if(D!=null&&D!==!1){const J=D===!0?r(S.secretKey):D;g.push(tr("extraEntropy",J))}const y=Zn(...g),j=$;function W(J){const se=G(J);if(!l.isValidNot0(se))return;const ge=l.inv(se),ye=n.BASE.multiply(se).toAffine(),qe=l.create(ye.x);if(qe===yi)return;const et=l.create(ge*l.create(j+qe*M));if(et===yi)return;let ot=(ye.x===qe?0:2)|Number(ye.y&ca),Sr=et;return P&&T(et)&&(Sr=l.neg(et),ot^=1),new U(qe,Sr,ot)}return{seed:y,k2sig:W}}function V(f,v,R={}){f=tr("message",f);const{seed:P,k2sig:B}=K(f,v,R);return q2(e.outputLen,l.BYTES,s)(P,B)}function Y(f){let v;const R=typeof f=="string"||Kl(f),P=!R&&f!==null&&typeof f=="object"&&typeof f.r=="bigint"&&typeof f.s=="bigint";if(!R&&!P)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(P)v=new U(f.r,f.s);else if(R){try{v=U.fromBytes(tr("sig",f),"der")}catch(B){if(!(B instanceof di.Err))throw B}if(!v)try{v=U.fromBytes(tr("sig",f),"compact")}catch{return!1}}return v||!1}function Q(f,v,R,P={}){const{lowS:B,prehash:D,format:$}=Wf(P,N);if(R=tr("publicKey",R),v=le(tr("message",v),D),"strict"in P)throw new Error("options.strict was renamed to lowS");const M=$===void 0?Y(f):U.fromBytes(tr("sig",f),$);if(M===!1)return!1;try{const g=n.fromBytes(R);if(B&&M.hasHighS())return!1;const{r:y,s:j}=M,W=te(v),J=l.inv(j),se=l.create(W*J),ge=l.create(y*J),ye=n.BASE.multiplyUnsafe(se).add(g.multiplyUnsafe(ge));return ye.is0()?!1:l.create(ye.x)===y}catch{return!1}}function I(f,v,R={}){const{prehash:P}=Wf(R,N);return v=le(v,P),U.fromBytes(f,"recovered").recoverPublicKey(v).toBytes()}return Object.freeze({keygen:p,getPublicKey:w,getSharedSecret:_,utils:k,lengths:S,Point:n,sign:V,verify:Q,recoverPublicKey:I,Signature:U,hash:e})}function VA(n){const e={a:n.a,b:n.b,p:n.Fp.ORDER,n:n.n,h:n.h,Gx:n.Gx,Gy:n.Gy},t=n.Fp;let r=n.allowedPrivateKeyLengths?Array.from(new Set(n.allowedPrivateKeyLengths.map(l=>Math.ceil(l/2)))):void 0;const s=io(e.n,{BITS:n.nBitLength,allowedLengths:r,modFromBytes:n.wrapPrivateKey}),o={Fp:t,Fn:s,allowInfinityPoint:n.allowInfinityPoint,endo:n.endo,isTorsionFree:n.isTorsionFree,clearCofactor:n.clearCofactor,fromBytes:n.fromBytes,toBytes:n.toBytes};return{CURVE:e,curveOpts:o}}function HA(n){const{CURVE:e,curveOpts:t}=VA(n),r={hmac:n.hmac,randomBytes:n.randomBytes,lowS:n.lowS,bits2int:n.bits2int,bits2int_modN:n.bits2int_modN};return{CURVE:e,curveOpts:t,hash:n.hash,ecdsaOpts:r}}function GA(n,e){const t=e.Point;return Object.assign({},e,{ProjectivePoint:t,CURVE:Object.assign({},n,rb(t.Fn.ORDER,t.Fn.BITS))})}function YA(n){const{CURVE:e,curveOpts:t,hash:r,ecdsaOpts:s}=HA(n),o=$A(e,t),l=KA(o,r,s);return GA(n,l)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ZA(n,e){const t=r=>YA({...n,hash:r});return{...t(e),create:t}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xp={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},QA={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},Dw=BigInt(2);function JA(n){const e=Xp.p,t=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),l=BigInt(23),u=BigInt(44),d=BigInt(88),p=n*n*n%e,w=p*p*n%e,_=er(w,t,e)*w%e,k=er(_,t,e)*w%e,S=er(k,Dw,e)*p%e,N=er(S,s,e)*S%e,C=er(N,o,e)*N%e,T=er(C,u,e)*C%e,z=er(T,d,e)*T%e,F=er(z,u,e)*C%e,U=er(F,t,e)*w%e,G=er(U,l,e)*N%e,te=er(G,r,e)*p%e,X=er(te,Dw,e);if(!$0.eql($0.sqr(X),n))throw new Error("Cannot find square root");return X}const $0=io(Xp.p,{sqrt:JA}),XA=ZA({...Xp,Fp:$0,lowS:!0,endo:QA},q1);Gl.utils.randomPrivateKey;Gl.getPublicKey;function zw(n){try{return Gl.ExtendedPoint.fromHex(n),!0}catch{return!1}}const Mb=(n,e)=>Gl.sign(n,e.slice(0,32)),eM=Gl.verify,Nr=n=>Ze.Buffer.isBuffer(n)?n:n instanceof Uint8Array?Ze.Buffer.from(n.buffer,n.byteOffset,n.byteLength):Ze.Buffer.from(n);class tM{constructor(e){Object.assign(this,e)}encode(){return Ze.Buffer.from(jf.serialize(ku,this))}static decode(e){return jf.deserialize(ku,this,e)}static decodeUnchecked(e){return jf.deserializeUnchecked(ku,this,e)}}const ku=new Map;var Ib;const rM=32,cs=32;function nM(n){return n._bn!==void 0}let Fw=1;class Pe extends tM{constructor(e){if(super({}),this._bn=void 0,nM(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Cr.decode(e);if(t.length!=cs)throw new Error("Invalid public key input");this._bn=new Aw(t)}else this._bn=new Aw(e);if(this._bn.byteLength()>cs)throw new Error("Invalid public key input")}}static unique(){const e=new Pe(Fw);return Fw+=1,new Pe(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Cr.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Ze.Buffer);if(e.length===cs)return e;const t=Ze.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=Ze.Buffer.concat([e.toBuffer(),Ze.Buffer.from(t),r.toBuffer()]),o=Tw(s);return new Pe(o)}static createProgramAddressSync(e,t){let r=Ze.Buffer.alloc(0);e.forEach(function(o){if(o.length>rM)throw new TypeError("Max seed length exceeded");r=Ze.Buffer.concat([r,Nr(o)])}),r=Ze.Buffer.concat([r,t.toBuffer(),Ze.Buffer.from("ProgramDerivedAddress")]);const s=Tw(r);if(zw(s))throw new Error("Invalid seeds, address must fall off the curve");return new Pe(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const o=e.concat(Ze.Buffer.from([r]));s=this.createProgramAddressSync(o,t)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new Pe(e);return zw(t.toBytes())}}Ib=Pe;Pe.default=new Ib("11111111111111111111111111111111");ku.set(Pe,{kind:"struct",fields:[["_bn","u256"]]});new Pe("BPFLoader1111111111111111111111111111111111");const ua=1232,eg=127,nd=64;class Nb extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Nb.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Tb extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Tb.prototype,"name",{value:"TransactionExpiredTimeoutError"});class vl extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(vl.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class id{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,l)=>{r.set(o.toBase58(),l)});const s=o=>{const l=r.get(o.toBase58());if(l===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return l};return e.map(o=>({programIdIndex:s(o.programId),accountKeyIndexes:o.keys.map(l=>s(l.pubkey)),data:o.data}))}}const Xe=(n="publicKey")=>Z.blob(32,n),iM=(n="signature")=>Z.blob(64,n),sa=(n="string")=>{const e=Z.struct([Z.u32("length"),Z.u32("lengthPadding"),Z.blob(Z.offset(Z.u32(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(o,l)=>t(o,l).chars.toString(),s.encode=(o,l,u)=>{const d={chars:Ze.Buffer.from(o,"utf8")};return r(d,l,u)},s.alloc=o=>Z.u32().span+Z.u32().span+Ze.Buffer.from(o,"utf8").length,s},sM=(n="authorized")=>Z.struct([Xe("staker"),Xe("withdrawer")],n),oM=(n="lockup")=>Z.struct([Z.ns64("unixTimestamp"),Z.ns64("epoch"),Xe("custodian")],n),aM=(n="voteInit")=>Z.struct([Xe("nodePubkey"),Xe("authorizedVoter"),Xe("authorizedWithdrawer"),Z.u8("commission")],n),lM=(n="voteAuthorizeWithSeedArgs")=>Z.struct([Z.u32("voteAuthorizationType"),Xe("currentAuthorityDerivedKeyOwnerPubkey"),sa("currentAuthorityDerivedKeySeed"),Xe("newAuthorized")],n);function Cb(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const o=e[s.property];if(Array.isArray(o))return o.length*t(s.elementLayout)}else if("fields"in s)return Cb({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function gn(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function mn(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Pt(n,e){if(!n)throw new Error(e||"Assertion failed")}class kd{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=l=>{const u=l.toBase58();let d=r.get(u);return d===void 0&&(d={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(u,d)),d},o=s(t);o.isSigner=!0,o.isWritable=!0;for(const l of e){s(l.programId).isInvoked=!0;for(const u of l.keys){const d=s(u.pubkey);d.isSigner||(d.isSigner=u.isSigner),d.isWritable||(d.isWritable=u.isWritable)}}return new kd(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Pt(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,d])=>d.isSigner&&d.isWritable),r=e.filter(([,d])=>d.isSigner&&!d.isWritable),s=e.filter(([,d])=>!d.isSigner&&d.isWritable),o=e.filter(([,d])=>!d.isSigner&&!d.isWritable),l={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{Pt(t.length>0,"Expected at least one writable signer key");const[d]=t[0];Pt(d===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const u=[...t.map(([d])=>new Pe(d)),...r.map(([d])=>new Pe(d)),...s.map(([d])=>new Pe(d)),...o.map(([d])=>new Pe(d))];return[l,u]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,l=>!l.isSigner&&!l.isInvoked&&l.isWritable),[s,o]=this.drainKeysFoundInLookupTable(e.state.addresses,l=>!l.isSigner&&!l.isInvoked&&!l.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[o,l]of this.keyMetaMap.entries())if(t(l)){const u=new Pe(o),d=e.findIndex(p=>p.equals(u));d>=0&&(Pt(d<256,"Max lookup table index exceeded"),r.push(d),s.push(u),this.keyMetaMap.delete(o))}return[r,s]}}const Rb="Reached end of buffer unexpectedly";function pi(n){if(n.length===0)throw new Error(Rb);return n.shift()}function yn(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(Rb);return n.splice(...e)}class xi{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new Pe(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Cr.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new id(this.staticAccountKeys)}static compile(e){const t=kd.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),l=new id(s).compileInstructions(e.instructions).map(u=>({programIdIndex:u.programIdIndex,accounts:u.accountKeyIndexes,data:Cr.encode(u.data)}));return new xi({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:l})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,o=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];mn(t,e);const r=this.instructions.map(_=>{const{accounts:k,programIdIndex:S}=_,N=Array.from(Cr.decode(_.data));let C=[];mn(C,k.length);let T=[];return mn(T,N.length),{programIdIndex:S,keyIndicesCount:Ze.Buffer.from(C),keyIndices:k,dataLength:Ze.Buffer.from(T),data:N}});let s=[];mn(s,r.length);let o=Ze.Buffer.alloc(ua);Ze.Buffer.from(s).copy(o);let l=s.length;r.forEach(_=>{const S=Z.struct([Z.u8("programIdIndex"),Z.blob(_.keyIndicesCount.length,"keyIndicesCount"),Z.seq(Z.u8("keyIndex"),_.keyIndices.length,"keyIndices"),Z.blob(_.dataLength.length,"dataLength"),Z.seq(Z.u8("userdatum"),_.data.length,"data")]).encode(_,o,l);l+=S}),o=o.slice(0,l);const u=Z.struct([Z.blob(1,"numRequiredSignatures"),Z.blob(1,"numReadonlySignedAccounts"),Z.blob(1,"numReadonlyUnsignedAccounts"),Z.blob(t.length,"keyCount"),Z.seq(Xe("key"),e,"keys"),Xe("recentBlockhash")]),d={numRequiredSignatures:Ze.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Ze.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Ze.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Ze.Buffer.from(t),keys:this.accountKeys.map(_=>Nr(_.toBytes())),recentBlockhash:Cr.decode(this.recentBlockhash)};let p=Ze.Buffer.alloc(2048);const w=u.encode(d,p);return o.copy(p,w),p.slice(0,w+o.length)}static from(e){let t=[...e];const r=pi(t);if(r!==(r&eg))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=pi(t),o=pi(t),l=gn(t);let u=[];for(let k=0;k<l;k++){const S=yn(t,0,cs);u.push(new Pe(Ze.Buffer.from(S)))}const d=yn(t,0,cs),p=gn(t);let w=[];for(let k=0;k<p;k++){const S=pi(t),N=gn(t),C=yn(t,0,N),T=gn(t),z=yn(t,0,T),F=Cr.encode(Ze.Buffer.from(z));w.push({programIdIndex:S,accounts:C,data:F})}const _={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:o},recentBlockhash:Cr.encode(Ze.Buffer.from(d)),accountKeys:u,instructions:w};return new xi(_)}}class Ol{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new id(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,o=this.addressTableLookups.reduce((l,u)=>l+u.writableIndexes.length,0);return s<o}else if(e>=this.header.numRequiredSignatures){const s=e-t,l=r-t-this.header.numReadonlyUnsignedAccounts;return s<l}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(o=>o.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<s.state.addresses.length)t.writable.push(s.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<s.state.addresses.length)t.readonly.push(s.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=kd.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(const w of o){const _=t.extractTableLookup(w);if(_!==void 0){const[k,{writable:S,readonly:N}]=_;r.push(k),s.writable.push(...S),s.readonly.push(...N)}}const[l,u]=t.getMessageComponents(),p=new id(u,s).compileInstructions(e.instructions);return new Ol({header:l,staticAccountKeys:u,recentBlockhash:e.recentBlockhash,compiledInstructions:p,addressTableLookups:r})}serialize(){const e=Array();mn(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();mn(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),o=Array();mn(o,this.addressTableLookups.length);const l=Z.struct([Z.u8("prefix"),Z.struct([Z.u8("numRequiredSignatures"),Z.u8("numReadonlySignedAccounts"),Z.u8("numReadonlyUnsignedAccounts")],"header"),Z.blob(e.length,"staticAccountKeysLength"),Z.seq(Xe(),this.staticAccountKeys.length,"staticAccountKeys"),Xe("recentBlockhash"),Z.blob(r.length,"instructionsLength"),Z.blob(t.length,"serializedInstructions"),Z.blob(o.length,"addressTableLookupsLength"),Z.blob(s.length,"serializedAddressTableLookups")]),u=new Uint8Array(ua),p=l.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(w=>w.toBytes()),recentBlockhash:Cr.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:s},u);return u.slice(0,p)}serializeInstructions(){let e=0;const t=new Uint8Array(ua);for(const r of this.compiledInstructions){const s=Array();mn(s,r.accountKeyIndexes.length);const o=Array();mn(o,r.data.length);const l=Z.struct([Z.u8("programIdIndex"),Z.blob(s.length,"encodedAccountKeyIndexesLength"),Z.seq(Z.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),Z.blob(o.length,"encodedDataLength"),Z.blob(r.data.length,"data")]);e+=l.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(ua);for(const r of this.addressTableLookups){const s=Array();mn(s,r.writableIndexes.length);const o=Array();mn(o,r.readonlyIndexes.length);const l=Z.struct([Xe("accountKey"),Z.blob(s.length,"encodedWritableIndexesLength"),Z.seq(Z.u8(),r.writableIndexes.length,"writableIndexes"),Z.blob(o.length,"encodedReadonlyIndexesLength"),Z.seq(Z.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=l.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=pi(t),s=r&eg;Pt(r!==s,"Expected versioned message but received legacy message");const o=s;Pt(o===0,`Expected versioned message with version 0 but found version ${o}`);const l={numRequiredSignatures:pi(t),numReadonlySignedAccounts:pi(t),numReadonlyUnsignedAccounts:pi(t)},u=[],d=gn(t);for(let N=0;N<d;N++)u.push(new Pe(yn(t,0,cs)));const p=Cr.encode(yn(t,0,cs)),w=gn(t),_=[];for(let N=0;N<w;N++){const C=pi(t),T=gn(t),z=yn(t,0,T),F=gn(t),U=new Uint8Array(yn(t,0,F));_.push({programIdIndex:C,accountKeyIndexes:z,data:U})}const k=gn(t),S=[];for(let N=0;N<k;N++){const C=new Pe(yn(t,0,cs)),T=gn(t),z=yn(t,0,T),F=gn(t),U=yn(t,0,F);S.push({accountKey:C,writableIndexes:z,readonlyIndexes:U})}return new Ol({header:l,staticAccountKeys:u,recentBlockhash:p,compiledInstructions:_,addressTableLookups:S})}}const tg={deserializeMessageVersion(n){const e=n[0],t=e&eg;return t===e?"legacy":t},deserialize:n=>{const e=tg.deserializeMessageVersion(n);if(e==="legacy")return xi.from(n);if(e===0)return Ol.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Ji=(function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n})({});const cM=Ze.Buffer.alloc(nd).fill(0);class Bn{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Ze.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Kr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Bn(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let C=0;C<t.length;C++)if(t[C].programId===void 0)throw new Error(`Transaction instruction index ${C} has undefined program id`);const s=[],o=[];t.forEach(C=>{C.keys.forEach(z=>{o.push({...z})});const T=C.programId.toString();s.includes(T)||s.push(T)}),s.forEach(C=>{o.push({pubkey:new Pe(C),isSigner:!1,isWritable:!1})});const l=[];o.forEach(C=>{const T=C.pubkey.toString(),z=l.findIndex(F=>F.pubkey.toString()===T);z>-1?(l[z].isWritable=l[z].isWritable||C.isWritable,l[z].isSigner=l[z].isSigner||C.isSigner):l.push(C)}),l.sort(function(C,T){if(C.isSigner!==T.isSigner)return C.isSigner?-1:1;if(C.isWritable!==T.isWritable)return C.isWritable?-1:1;const z={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return C.pubkey.toBase58().localeCompare(T.pubkey.toBase58(),"en",z)});const u=l.findIndex(C=>C.pubkey.equals(r));if(u>-1){const[C]=l.splice(u,1);C.isSigner=!0,C.isWritable=!0,l.unshift(C)}else l.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const C of this.signatures){const T=l.findIndex(z=>z.pubkey.equals(C.publicKey));if(T>-1)l[T].isSigner||(l[T].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${C.publicKey.toString()}`)}let d=0,p=0,w=0;const _=[],k=[];l.forEach(({pubkey:C,isSigner:T,isWritable:z})=>{T?(_.push(C.toString()),d+=1,z||(p+=1)):(k.push(C.toString()),z||(w+=1))});const S=_.concat(k),N=t.map(C=>{const{data:T,programId:z}=C;return{programIdIndex:S.indexOf(z.toString()),accounts:C.keys.map(F=>S.indexOf(F.pubkey.toString())),data:Cr.encode(T)}});return N.forEach(C=>{Pt(C.programIdIndex>=0),C.accounts.forEach(T=>Pt(T>=0))}),new xi({header:{numRequiredSignatures:d,numReadonlySignedAccounts:p,numReadonlyUnsignedAccounts:w},accountKeys:S,recentBlockhash:e,instructions:N})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,o)=>t[o].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const o of e){const l=o.publicKey.toString();t.has(l)||(t.add(l),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const o of e){const l=o.publicKey.toString();t.has(l)||(t.add(l),r.push(o))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const o=Mb(r,s.secretKey);this._addSignature(s.publicKey,Nr(o))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Pt(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=Ze.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:o}of this.signatures)s===null?t&&(r.missing||(r.missing=[])).push(o):eM(s,e,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(s,t);if(o){let l="Signature verification failed.";throw o.invalid&&(l+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(u=>u.toBase58()).join("`, `")}\`].`),o.missing&&(l+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(u=>u.toBase58()).join("`, `")}\`].`),new Error(l)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];mn(r,t.length);const s=r.length+t.length*64+e.length,o=Ze.Buffer.alloc(s);return Pt(t.length<256),Ze.Buffer.from(r).copy(o,0),t.forEach(({signature:l},u)=>{l!==null&&(Pt(l.length===64,"signature has invalid length"),Ze.Buffer.from(l).copy(o,r.length+u*64))}),e.copy(o,r.length+t.length*64),Pt(o.length<=ua,`Transaction too large: ${o.length} > ${ua}`),o}get keys(){return Pt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Pt(this.instructions.length===1),this.instructions[0].programId}get data(){return Pt(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=gn(t);let s=[];for(let o=0;o<r;o++){const l=yn(t,0,nd);s.push(Cr.encode(Ze.Buffer.from(l)))}return Kr.populate(xi.from(t),s)}static populate(e,t=[]){const r=new Kr;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,o)=>{const l={signature:s==Cr.encode(cM)?null:Cr.decode(s),publicKey:e.accountKeys[o]};r.signatures.push(l)}),e.instructions.forEach(s=>{const o=s.accounts.map(l=>{const u=e.accountKeys[l];return{pubkey:u,isSigner:r.signatures.some(d=>d.publicKey.toString()===u.toString())||e.isAccountSigner(l),isWritable:e.isAccountWritable(l)}});r.instructions.push(new Bn({keys:o,programId:e.accountKeys[s.programIdIndex],data:Cr.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class Pl{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Pt(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(nd));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();mn(t,this.signatures.length);const r=Z.struct([Z.blob(t.length,"encodedSignaturesLength"),Z.seq(iM(),this.signatures.length,"signatures"),Z.blob(e.length,"serializedMessage")]),s=new Uint8Array(2048),o=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,o)}static deserialize(e){let t=[...e];const r=[],s=gn(t);for(let l=0;l<s;l++)r.push(new Uint8Array(yn(t,0,nd)));const o=tg.deserialize(new Uint8Array(t));return new Pl(o,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const o=r.findIndex(l=>l.equals(s.publicKey));Pt(o>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[o]=Mb(t,s.secretKey)}}addSignature(e,t){Pt(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));Pt(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const uM=160,dM=64,hM=uM/dM,fM=1e3/hM;new Pe("SysvarC1ock11111111111111111111111111111111");new Pe("SysvarEpochSchedu1e111111111111111111111111");new Pe("Sysvar1nstructions1111111111111111111111111");const $f=new Pe("SysvarRecentB1ockHashes11111111111111111111"),Ww=new Pe("SysvarRent111111111111111111111111111111111");new Pe("SysvarRewards111111111111111111111111111111");new Pe("SysvarS1otHashes111111111111111111111111111");new Pe("SysvarS1otHistory11111111111111111111111111");new Pe("SysvarStakeHistory1111111111111111111111111");class $w extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const o=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",l="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let u;switch(e){case"send":u=`Transaction ${t} resulted in an error. 
${r}. `+o+l;break;case"simulate":u=`Simulation failed. 
Message: ${r}. 
`+o+l;break;default:u=`Unknown action '${(d=>d)(e)}'`}super(u),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const o=s.meta.logMessages;this.transactionLogs=o,t(o)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class Be extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}function Zo(n){return new Promise(e=>setTimeout(e,n))}function An(n,e){const t=n.layout.span>=0?n.layout.span:Cb(n,e),r=Ze.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}const pM=Z.nu64("lamportsPerSignature"),jb=Z.struct([Z.u32("version"),Z.u32("state"),Xe("authorizedPubkey"),Xe("nonce"),Z.struct([pM],"feeCalculator")]),qw=jb.span;class rg{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=jb.decode(Nr(e),0);return new rg({authorizedPubkey:new Pe(t.authorizedPubkey),nonce:new Pe(t.nonce).toString(),feeCalculator:t.feeCalculator})}}function ma(n){const e=Z.blob(8,n),t=e.decode.bind(e),r=e.encode.bind(e),s=e,o=rA();return s.decode=(l,u)=>{const d=t(l,u);return o.decode(d)},s.encode=(l,u,d)=>{const p=o.encode(l);return r(p,u,d)},s}const Mn=Object.freeze({Create:{index:0,layout:Z.struct([Z.u32("instruction"),Z.ns64("lamports"),Z.ns64("space"),Xe("programId")])},Assign:{index:1,layout:Z.struct([Z.u32("instruction"),Xe("programId")])},Transfer:{index:2,layout:Z.struct([Z.u32("instruction"),ma("lamports")])},CreateWithSeed:{index:3,layout:Z.struct([Z.u32("instruction"),Xe("base"),sa("seed"),Z.ns64("lamports"),Z.ns64("space"),Xe("programId")])},AdvanceNonceAccount:{index:4,layout:Z.struct([Z.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:Z.struct([Z.u32("instruction"),Z.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:Z.struct([Z.u32("instruction"),Xe("authorized")])},AuthorizeNonceAccount:{index:7,layout:Z.struct([Z.u32("instruction"),Xe("authorized")])},Allocate:{index:8,layout:Z.struct([Z.u32("instruction"),Z.ns64("space")])},AllocateWithSeed:{index:9,layout:Z.struct([Z.u32("instruction"),Xe("base"),sa("seed"),Z.ns64("space"),Xe("programId")])},AssignWithSeed:{index:10,layout:Z.struct([Z.u32("instruction"),Xe("base"),sa("seed"),Xe("programId")])},TransferWithSeed:{index:11,layout:Z.struct([Z.u32("instruction"),ma("lamports"),sa("seed"),Xe("programId")])},UpgradeNonceAccount:{index:12,layout:Z.struct([Z.u32("instruction")])}});class us{constructor(){}static createAccount(e){const t=Mn.Create,r=An(t,{lamports:e.lamports,space:e.space,programId:Nr(e.programId.toBuffer())});return new Bn({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=Mn.TransferWithSeed;t=An(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:Nr(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Mn.Transfer;t=An(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Bn({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=Mn.AssignWithSeed;t=An(s,{base:Nr(e.basePubkey.toBuffer()),seed:e.seed,programId:Nr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Mn.Assign;t=An(s,{programId:Nr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Bn({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Mn.CreateWithSeed,r=An(t,{base:Nr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Nr(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Bn({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Kr;"basePubkey"in e&&"seed"in e?t.add(us.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:qw,programId:this.programId})):t.add(us.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:qw,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Mn.InitializeNonceAccount,r=An(t,{authorized:Nr(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:$f,isSigner:!1,isWritable:!1},{pubkey:Ww,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Bn(s)}static nonceAdvance(e){const t=Mn.AdvanceNonceAccount,r=An(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:$f,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Bn(s)}static nonceWithdraw(e){const t=Mn.WithdrawNonceAccount,r=An(t,{lamports:e.lamports});return new Bn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:$f,isSigner:!1,isWritable:!1},{pubkey:Ww,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Mn.AuthorizeNonceAccount,r=An(t,{authorized:Nr(e.newAuthorizedPubkey.toBuffer())});return new Bn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=Mn.AllocateWithSeed;t=An(s,{base:Nr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Nr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Mn.Allocate;t=An(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Bn({keys:r,programId:this.programId,data:t})}}us.programId=new Pe("11111111111111111111111111111111");new Pe("BPFLoader2111111111111111111111111111111111");function gM(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qf,Kw;function mM(){if(Kw)return qf;Kw=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var o in r)s.push(o);return s};function t(r,s){var o,l,u,d,p,w,_;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(_=n.call(r),_==="[object Array]"){for(u="[",l=r.length-1,o=0;o<l;o++)u+=t(r[o],!0)+",";return l>-1&&(u+=t(r[o],!0)),u+"]"}else if(_==="[object Object]"){for(d=e(r).sort(),l=d.length,u="",o=0;o<l;)p=d[o],w=t(r[p],!1),w!==void 0&&(u&&(u+=","),u+=JSON.stringify(p)+":"+w),o++;return"{"+u+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return qf=function(r){var s=t(r,!1);if(s!==void 0)return""+s},qf}var yM=mM(),Vw=gM(yM);const gl=32;function Kf(n){let e=0;for(;n>1;)n/=2,e++;return e}function wM(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class vM{constructor(e,t,r,s,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=Kf(wM(e+gl+1))-Kf(gl)-1,r=this.getSlotsInEpoch(t),s=e-(r-gl);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,o=t%this.slotsPerEpoch;return[s,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*gl:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Kf(gl)):this.slotsPerEpoch}}var bM=globalThis.fetch;class xM extends DA{constructor(e,t,r){const s=o=>{const l=PA(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in l?this.underlyingSocket=l.socket:this.underlyingSocket=l,l};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function _M(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const Hw=56;class Gw{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=_M(SM,e),r=e.length-Hw;Pt(r>=0,"lookup table is invalid"),Pt(r%32===0,"lookup table is invalid");const s=r/32,{addresses:o}=Z.struct([Z.seq(Xe(),s,"addresses")]).decode(e.slice(Hw));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new Pe(t.authority[0]):void 0,addresses:o.map(l=>new Pe(l))}}}const SM={index:1,layout:Z.struct([Z.u32("typeIndex"),ma("deactivationSlot"),Z.nu64("lastExtendedSlot"),Z.u8("lastExtendedStartIndex"),Z.u8(),Z.seq(Xe(),Z.offset(Z.u8(),-1),"authority")])},EM=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function kM(n){const e=n.match(EM);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,o]=e,l=n.startsWith("https:")?"wss:":"ws:",u=s==null?null:parseInt(s.slice(1),10),d=u==null?"":`:${u+1}`;return`${l}//${r}${d}${o}`}const Yt=Ql(Zp(Pe),Ee(),n=>new Pe(n)),Lb=Qp([Ee(),Gt("base64")]),ng=Ql(Zp(Ze.Buffer),Lb,n=>Ze.Buffer.from(n[0],"base64")),AM=30*1e3;function MM(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function bt(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function Yw(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function Bb(n){return Zr([be({jsonrpc:Gt("2.0"),id:Ee(),result:n}),be({jsonrpc:Gt("2.0"),id:Ee(),error:be({code:ba(),message:Ee(),data:Ue(cA())})})])}const IM=Bb(ba());function Ye(n){return Ql(Bb(n),IM,e=>"error"in e?e:{...e,result:ke(e.result,n)})}function nr(n){return Ye(be({context:be({slot:ce()}),value:n}))}function Ad(n){return be({context:be({slot:ce()}),value:n})}function Vf(n,e){return n===0?new Ol({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new Pe(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Cr.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new xi(e)}const NM=be({foundation:ce(),foundationTerm:ce(),initial:ce(),taper:ce(),terminal:ce()}),TM=Ye(Ae(Me(be({epoch:ce(),effectiveSlot:ce(),amount:ce(),postBalance:ce(),commission:Ue(Me(ce()))})))),CM=Ae(be({slot:ce(),prioritizationFee:ce()})),RM=be({total:ce(),validator:ce(),foundation:ce(),epoch:ce()}),jM=be({epoch:ce(),slotIndex:ce(),slotsInEpoch:ce(),absoluteSlot:ce(),blockHeight:Ue(ce()),transactionCount:Ue(ce())}),LM=be({slotsPerEpoch:ce(),leaderScheduleSlotOffset:ce(),warmup:Qn(),firstNormalEpoch:ce(),firstNormalSlot:ce()}),BM=mb(Ee(),Ae(ce())),oo=Me(Zr([be({}),Ee()])),OM=be({err:oo}),PM=Gt("receivedSignature"),UM=be({"solana-core":Ee(),"feature-set":Ue(ce())}),DM=be({program:Ee(),programId:Yt,parsed:ba()}),zM=be({programId:Yt,accounts:Ae(Yt),data:Ee()}),Zw=nr(be({err:Me(Zr([be({}),Ee()])),logs:Me(Ae(Ee())),accounts:Ue(Me(Ae(Me(be({executable:Qn(),owner:Ee(),lamports:ce(),data:Ae(Ee()),rentEpoch:Ue(ce())}))))),unitsConsumed:Ue(ce()),returnData:Ue(Me(be({programId:Ee(),data:Qp([Ee(),Gt("base64")])}))),innerInstructions:Ue(Me(Ae(be({index:ce(),instructions:Ae(Zr([DM,zM]))}))))})),FM=nr(be({byIdentity:mb(Ee(),Ae(ce())),range:be({firstSlot:ce(),lastSlot:ce()})}));function WM(n,e,t,r,s,o){const l=t||bM;let u;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let d;return r&&(d=async(w,_)=>{const k=await new Promise((S,N)=>{try{r(w,_,(C,T)=>S([C,T]))}catch(C){N(C)}});return await l(...k)}),new jA(async(w,_)=>{const k={method:"POST",body:w,agent:u,headers:Object.assign({"Content-Type":"application/json"},e||{},WI)};try{let S=5,N,C=500;for(;d?N=await d(n,k):N=await l(n,k),!(N.status!==429||s===!0||(S-=1,S===0));)console.error(`Server responded with ${N.status} ${N.statusText}.  Retrying after ${C}ms delay...`),await Zo(C),C*=2;const T=await N.text();N.ok?_(null,T):_(new Error(`${N.status} ${N.statusText}: ${T}`))}catch(S){S instanceof Error&&_(S)}},{})}function $M(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(o,l)=>{if(o){s(o);return}r(l)})})}function qM(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(o=>n.request(o.methodName,o.args));n.request(s,(o,l)=>{if(o){r(o);return}t(l)})})}const KM=Ye(NM),VM=Ye(RM),HM=Ye(CM),GM=Ye(jM),YM=Ye(LM),ZM=Ye(BM),QM=Ye(ce()),JM=nr(be({total:ce(),circulating:ce(),nonCirculating:ce(),nonCirculatingAccounts:Ae(Yt)})),q0=be({amount:Ee(),uiAmount:Me(ce()),decimals:ce(),uiAmountString:Ue(Ee())}),XM=nr(Ae(be({address:Yt,amount:Ee(),uiAmount:Me(ce()),decimals:ce(),uiAmountString:Ue(Ee())}))),eI=nr(Ae(be({pubkey:Yt,account:be({executable:Qn(),owner:Yt,lamports:ce(),data:ng,rentEpoch:ce()})}))),K0=be({program:Ee(),parsed:ba(),space:ce()}),tI=nr(Ae(be({pubkey:Yt,account:be({executable:Qn(),owner:Yt,lamports:ce(),data:K0,rentEpoch:ce()})}))),rI=nr(Ae(be({lamports:ce(),address:Yt}))),Ul=be({executable:Qn(),owner:Yt,lamports:ce(),data:ng,rentEpoch:ce()}),nI=be({pubkey:Yt,account:Ul}),iI=Ql(Zr([Zp(Ze.Buffer),K0]),Zr([Lb,K0]),n=>Array.isArray(n)?ke(n,ng):n),V0=be({executable:Qn(),owner:Yt,lamports:ce(),data:iI,rentEpoch:ce()}),sI=be({pubkey:Yt,account:V0}),oI=be({state:Zr([Gt("active"),Gt("inactive"),Gt("activating"),Gt("deactivating")]),active:ce(),inactive:ce()}),aI=Ye(Ae(be({signature:Ee(),slot:ce(),err:oo,memo:Me(Ee()),blockTime:Ue(Me(ce()))}))),lI=Ye(Ae(be({signature:Ee(),slot:ce(),err:oo,memo:Me(Ee()),blockTime:Ue(Me(ce()))}))),cI=be({subscription:ce(),result:Ad(Ul)}),uI=be({pubkey:Yt,account:Ul}),dI=be({subscription:ce(),result:Ad(uI)}),hI=be({parent:ce(),slot:ce(),root:ce()}),fI=be({subscription:ce(),result:hI}),pI=Zr([be({type:Zr([Gt("firstShredReceived"),Gt("completed"),Gt("optimisticConfirmation"),Gt("root")]),slot:ce(),timestamp:ce()}),be({type:Gt("createdBank"),parent:ce(),slot:ce(),timestamp:ce()}),be({type:Gt("frozen"),slot:ce(),timestamp:ce(),stats:be({numTransactionEntries:ce(),numSuccessfulTransactions:ce(),numFailedTransactions:ce(),maxTransactionsPerEntry:ce()})}),be({type:Gt("dead"),slot:ce(),timestamp:ce(),err:Ee()})]),gI=be({subscription:ce(),result:pI}),mI=be({subscription:ce(),result:Ad(Zr([OM,PM]))}),yI=be({subscription:ce(),result:ce()}),wI=be({pubkey:Ee(),gossip:Me(Ee()),tpu:Me(Ee()),rpc:Me(Ee()),version:Me(Ee())}),Qw=be({votePubkey:Ee(),nodePubkey:Ee(),activatedStake:ce(),epochVoteAccount:Qn(),epochCredits:Ae(Qp([ce(),ce(),ce()])),commission:ce(),lastVote:ce(),rootSlot:Me(ce())}),vI=Ye(be({current:Ae(Qw),delinquent:Ae(Qw)})),bI=Zr([Gt("processed"),Gt("confirmed"),Gt("finalized")]),xI=be({slot:ce(),confirmations:Me(ce()),err:oo,confirmationStatus:Ue(bI)}),_I=nr(Ae(Me(xI))),SI=Ye(ce()),Ob=be({accountKey:Yt,writableIndexes:Ae(ce()),readonlyIndexes:Ae(ce())}),ig=be({signatures:Ae(Ee()),message:be({accountKeys:Ae(Ee()),header:be({numRequiredSignatures:ce(),numReadonlySignedAccounts:ce(),numReadonlyUnsignedAccounts:ce()}),instructions:Ae(be({accounts:Ae(ce()),data:Ee(),programIdIndex:ce()})),recentBlockhash:Ee(),addressTableLookups:Ue(Ae(Ob))})}),Pb=be({pubkey:Yt,signer:Qn(),writable:Qn(),source:Ue(Zr([Gt("transaction"),Gt("lookupTable")]))}),Ub=be({accountKeys:Ae(Pb),signatures:Ae(Ee())}),Db=be({parsed:ba(),program:Ee(),programId:Yt}),zb=be({accounts:Ae(Yt),data:Ee(),programId:Yt}),EI=Zr([zb,Db]),kI=Zr([be({parsed:ba(),program:Ee(),programId:Ee()}),be({accounts:Ae(Ee()),data:Ee(),programId:Ee()})]),Fb=Ql(EI,kI,n=>"accounts"in n?ke(n,zb):ke(n,Db)),Wb=be({signatures:Ae(Ee()),message:be({accountKeys:Ae(Pb),instructions:Ae(Fb),recentBlockhash:Ee(),addressTableLookups:Ue(Me(Ae(Ob)))})}),sd=be({accountIndex:ce(),mint:Ee(),owner:Ue(Ee()),programId:Ue(Ee()),uiTokenAmount:q0}),$b=be({writable:Ae(Yt),readonly:Ae(Yt)}),Md=be({err:oo,fee:ce(),innerInstructions:Ue(Me(Ae(be({index:ce(),instructions:Ae(be({accounts:Ae(ce()),data:Ee(),programIdIndex:ce()}))})))),preBalances:Ae(ce()),postBalances:Ae(ce()),logMessages:Ue(Me(Ae(Ee()))),preTokenBalances:Ue(Me(Ae(sd))),postTokenBalances:Ue(Me(Ae(sd))),loadedAddresses:Ue($b),computeUnitsConsumed:Ue(ce()),costUnits:Ue(ce())}),sg=be({err:oo,fee:ce(),innerInstructions:Ue(Me(Ae(be({index:ce(),instructions:Ae(Fb)})))),preBalances:Ae(ce()),postBalances:Ae(ce()),logMessages:Ue(Me(Ae(Ee()))),preTokenBalances:Ue(Me(Ae(sd))),postTokenBalances:Ue(Me(Ae(sd))),loadedAddresses:Ue($b),computeUnitsConsumed:Ue(ce()),costUnits:Ue(ce())}),xa=Zr([Gt(0),Gt("legacy")]),ao=be({pubkey:Ee(),lamports:ce(),postBalance:Me(ce()),rewardType:Me(Ee()),commission:Ue(Me(ce()))}),AI=Ye(Me(be({blockhash:Ee(),previousBlockhash:Ee(),parentSlot:ce(),transactions:Ae(be({transaction:ig,meta:Me(Md),version:Ue(xa)})),rewards:Ue(Ae(ao)),blockTime:Me(ce()),blockHeight:Me(ce())}))),MI=Ye(Me(be({blockhash:Ee(),previousBlockhash:Ee(),parentSlot:ce(),rewards:Ue(Ae(ao)),blockTime:Me(ce()),blockHeight:Me(ce())}))),II=Ye(Me(be({blockhash:Ee(),previousBlockhash:Ee(),parentSlot:ce(),transactions:Ae(be({transaction:Ub,meta:Me(Md),version:Ue(xa)})),rewards:Ue(Ae(ao)),blockTime:Me(ce()),blockHeight:Me(ce())}))),NI=Ye(Me(be({blockhash:Ee(),previousBlockhash:Ee(),parentSlot:ce(),transactions:Ae(be({transaction:Wb,meta:Me(sg),version:Ue(xa)})),rewards:Ue(Ae(ao)),blockTime:Me(ce()),blockHeight:Me(ce())}))),TI=Ye(Me(be({blockhash:Ee(),previousBlockhash:Ee(),parentSlot:ce(),transactions:Ae(be({transaction:Ub,meta:Me(sg),version:Ue(xa)})),rewards:Ue(Ae(ao)),blockTime:Me(ce()),blockHeight:Me(ce())}))),CI=Ye(Me(be({blockhash:Ee(),previousBlockhash:Ee(),parentSlot:ce(),rewards:Ue(Ae(ao)),blockTime:Me(ce()),blockHeight:Me(ce())}))),RI=Ye(Me(be({blockhash:Ee(),previousBlockhash:Ee(),parentSlot:ce(),transactions:Ae(be({transaction:ig,meta:Me(Md)})),rewards:Ue(Ae(ao)),blockTime:Me(ce())}))),Jw=Ye(Me(be({blockhash:Ee(),previousBlockhash:Ee(),parentSlot:ce(),signatures:Ae(Ee()),blockTime:Me(ce())}))),Hf=Ye(Me(be({slot:ce(),meta:Me(Md),blockTime:Ue(Me(ce())),transaction:ig,version:Ue(xa)}))),hu=Ye(Me(be({slot:ce(),transaction:Wb,meta:Me(sg),blockTime:Ue(Me(ce())),version:Ue(xa)}))),jI=nr(be({blockhash:Ee(),lastValidBlockHeight:ce()})),LI=nr(Qn()),BI=be({slot:ce(),numTransactions:ce(),numSlots:ce(),samplePeriodSecs:ce()}),OI=Ye(Ae(BI)),PI=nr(Me(be({feeCalculator:be({lamportsPerSignature:ce()})}))),UI=Ye(Ee()),DI=Ye(Ee()),zI=be({err:oo,logs:Ae(Ee()),signature:Ee()}),FI=be({result:Ad(zI),subscription:ce()}),WI={"solana-client":"js/1.0.0-maintenance"};class qb{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const p={};return async w=>{const{commitment:_,config:k}=bt(w),S=this._buildArgs([],_,void 0,k),N=Vw(S);return p[N]=p[N]??(async()=>{try{const C=await this._rpcRequest("getBlockHeight",S),T=ke(C,Ye(ce()));if("error"in T)throw new Be(T.error,"failed to get block height information");return T.result}finally{delete p[N]}})(),await p[N]}})();let r,s,o,l,u,d;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,o=t.fetch,l=t.fetchMiddleware,u=t.disableRetryOnRateLimit,d=t.httpAgent),this._rpcEndpoint=MM(e),this._rpcWsEndpoint=r||kM(e),this._rpcClient=WM(e,s,o,l,u,d),this._rpcRequest=$M(this._rpcClient),this._rpcBatchRequest=qM(this._rpcClient),this._rpcWebSocket=new xM(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=bt(t),o=this._buildArgs([e.toBase58()],r,void 0,s),l=await this._rpcRequest("getBalance",o),u=ke(l,nr(ce()));if("error"in u)throw new Be(u.error,`failed to get balance for ${e.toBase58()}`);return u.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=ke(t,Ye(Me(ce())));if("error"in r)throw new Be(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=ke(e,Ye(ce()));if("error"in t)throw new Be(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=ke(e,QM);if("error"in t)throw new Be(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=ke(r,JM);if("error"in s)throw new Be(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),o=ke(s,nr(q0));if("error"in o)throw new Be(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),o=ke(s,nr(q0));if("error"in o)throw new Be(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:o}=bt(r);let l=[e.toBase58()];"mint"in t?l.push({mint:t.mint.toBase58()}):l.push({programId:t.programId.toBase58()});const u=this._buildArgs(l,s,"base64",o),d=await this._rpcRequest("getTokenAccountsByOwner",u),p=ke(d,eI);if("error"in p)throw new Be(p.error,`failed to get token accounts owned by account ${e.toBase58()}`);return p.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const o=this._buildArgs(s,r,"jsonParsed"),l=await this._rpcRequest("getTokenAccountsByOwner",o),u=ke(l,tI);if("error"in u)throw new Be(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),o=ke(s,rI);if("error"in o)throw new Be(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),o=ke(s,XM);if("error"in o)throw new Be(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=bt(t),o=this._buildArgs([e.toBase58()],r,"base64",s),l=await this._rpcRequest("getAccountInfo",o),u=ke(l,nr(Me(Ul)));if("error"in u)throw new Be(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=bt(t),o=this._buildArgs([e.toBase58()],r,"jsonParsed",s),l=await this._rpcRequest("getAccountInfo",o),u=ke(l,nr(Me(V0)));if("error"in u)throw new Be(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=bt(t),o=e.map(p=>p.toBase58()),l=this._buildArgs([o],r,"jsonParsed",s),u=await this._rpcRequest("getMultipleAccounts",l),d=ke(u,nr(Ae(Me(V0))));if("error"in d)throw new Be(d.error,`failed to get info for accounts ${o}`);return d.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=bt(t),o=e.map(p=>p.toBase58()),l=this._buildArgs([o],r,"base64",s),u=await this._rpcRequest("getMultipleAccounts",l),d=ke(u,nr(Ae(Me(Ul))));if("error"in d)throw new Be(d.error,`failed to get info for accounts ${o}`);return d.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:o}=bt(t),l=this._buildArgs([e.toBase58()],s,void 0,{...o,epoch:r??(o==null?void 0:o.epoch)}),u=await this._rpcRequest("getStakeActivation",l),d=ke(u,Ye(oI));if("error"in d)throw new Be(d.error,`failed to get Stake Activation ${e.toBase58()}`);return d.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=bt(t),{encoding:o,...l}=s||{},u=this._buildArgs([e.toBase58()],r,o||"base64",{...l,...l.filters?{filters:Yw(l.filters)}:null}),d=await this._rpcRequest("getProgramAccounts",u),p=Ae(nI),w=l.withContext===!0?ke(d,nr(p)):ke(d,Ye(p));if("error"in w)throw new Be(w.error,`failed to get accounts owned by program ${e.toBase58()}`);return w.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=bt(t),o=this._buildArgs([e.toBase58()],r,"jsonParsed",s),l=await this._rpcRequest("getProgramAccounts",o),u=ke(l,Ye(Ae(sI)));if("error"in u)throw new Be(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async confirmTransaction(e,t){var o;let r;if(typeof e=="string")r=e;else{const l=e;if((o=l.abortSignal)!=null&&o.aborted)return Promise.reject(l.abortSignal.reason);r=l.signature}let s;try{s=Cr.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Pt(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,o=!1;const l=new Promise((d,p)=>{try{r=this.onSignature(t,(_,k)=>{r=void 0;const S={context:k,value:_};d({__type:Ji.PROCESSED,response:S})},e);const w=new Promise(_=>{r==null?_():s=this._onSubscriptionStateChange(r,k=>{k==="subscribed"&&_()})});(async()=>{if(await w,o)return;const _=await this.getSignatureStatus(t);if(o||_==null)return;const{context:k,value:S}=_;if(S!=null)if(S!=null&&S.err)p(S.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(S.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(S.confirmationStatus==="processed"||S.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,d({__type:Ji.PROCESSED,response:{context:k,value:S}})}})()}catch(w){p(w)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:l}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let o=!1;const l=new Promise(_=>{const k=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let S=await k();if(!o){for(;S<=r;)if(await Zo(1e3),o||(S=await k(),o))return;_({__type:Ji.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:u,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),p=this.getCancellationPromise(t);let w;try{const _=await Promise.race([p,d,l]);if(_.__type===Ji.PROCESSED)w=_.response;else throw new Nb(s)}finally{o=!0,u()}return w}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:o,signature:l}}){let u=!1;const d=new Promise(S=>{let N=o,C=null;const T=async()=>{try{const{context:z,value:F}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return C=z.slot,F==null?void 0:F.nonce}catch{return N}};(async()=>{if(N=await T(),!u)for(;;){if(o!==N){S({__type:Ji.NONCE_INVALID,slotInWhichNonceDidAdvance:C});return}if(await Zo(2e3),u||(N=await T(),u))return}})()}),{abortConfirmation:p,confirmationPromise:w}=this.getTransactionConfirmationPromise({commitment:e,signature:l}),_=this.getCancellationPromise(t);let k;try{const S=await Promise.race([_,w,d]);if(S.__type===Ji.PROCESSED)k=S.response;else{let N;for(;;){const C=await this.getSignatureStatus(l);if(C==null)break;if(C.context.slot<(S.slotInWhichNonceDidAdvance??r)){await Zo(400);continue}N=C;break}if(N!=null&&N.value){const C=e||"finalized",{confirmationStatus:T}=N.value;switch(C){case"processed":case"recent":if(T!=="processed"&&T!=="confirmed"&&T!=="finalized")throw new vl(l);break;case"confirmed":case"single":case"singleGossip":if(T!=="confirmed"&&T!=="finalized")throw new vl(l);break;case"finalized":case"max":case"root":if(T!=="finalized")throw new vl(l);break;default:}k={context:N.context,value:{err:N.value.err}}}else throw new vl(l)}}finally{u=!0,p()}return k}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(d=>{let p=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{p=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>d({__type:Ji.TIMED_OUT,timeoutMs:p}),p)}),{abortConfirmation:o,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let u;try{const d=await Promise.race([l,s]);if(d.__type===Ji.PROCESSED)u=d.response;else throw new Tb(t,d.timeoutMs/1e3)}finally{clearTimeout(r),o()}return u}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=ke(e,Ye(Ae(wI)));if("error"in t)throw new Be(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=ke(r,vI);if("error"in s)throw new Be(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=bt(e),s=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getSlot",s),l=ke(o,Ye(ce()));if("error"in l)throw new Be(l.error,"failed to get slot");return l.result}async getSlotLeader(e){const{commitment:t,config:r}=bt(e),s=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getSlotLeader",s),l=ke(o,Ye(Ee()));if("error"in l)throw new Be(l.error,"failed to get slot leader");return l.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),o=ke(s,Ye(Ae(Yt)));if("error"in o)throw new Be(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Pt(s.length===1);const o=s[0];return{context:r,value:o}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),o=ke(s,_I);if("error"in o)throw new Be(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){const{commitment:t,config:r}=bt(e),s=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getTransactionCount",s),l=ke(o,Ye(ce()));if("error"in l)throw new Be(l.error,"failed to get transaction count");return l.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=ke(r,KM);if("error"in s)throw new Be(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:o}=bt(r),l=this._buildArgs([e.map(p=>p.toBase58())],s,void 0,{...o,epoch:t??(o==null?void 0:o.epoch)}),u=await this._rpcRequest("getInflationReward",l),d=ke(u,TM);if("error"in d)throw new Be(d.error,"failed to get inflation reward");return d.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=ke(e,VM);if("error"in t)throw new Be(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=bt(e),s=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getEpochInfo",s),l=ke(o,GM);if("error"in l)throw new Be(l.error,"failed to get epoch info");return l.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=ke(e,YM);if("error"in t)throw new Be(t.error,"failed to get epoch schedule");const r=t.result;return new vM(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=ke(e,ZM);if("error"in t)throw new Be(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=ke(s,SI);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){const{context:t,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:t,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=ke(t,OI);if("error"in r)throw new Be(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=ke(s,PI);if("error"in o)throw new Be(o.error,"failed to get fee calculator");const{context:l,value:u}=o.result;return{context:l,value:u!==null?u.feeCalculator:null}}async getFeeForMessage(e,t){const r=Nr(e.serialize()).toString("base64"),s=this._buildArgs([r],t),o=await this._rpcRequest("getFeeForMessage",s),l=ke(o,nr(Me(ce())));if("error"in l)throw new Be(l.error,"failed to get fee for message");if(l.result===null)throw new Error("invalid blockhash");return l.result}async getRecentPrioritizationFees(e){var l;const t=(l=e==null?void 0:e.lockedWritableAccounts)==null?void 0:l.map(u=>u.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),o=ke(s,HM);if("error"in o)throw new Be(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=bt(e),s=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getLatestBlockhash",s),l=ke(o,jI);if("error"in l)throw new Be(l.error,"failed to get latest blockhash");return l.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=bt(t),o=this._buildArgs([e],r,void 0,s),l=await this._rpcRequest("isBlockhashValid",o),u=ke(l,LI);if("error"in u)throw new Be(u.error,"failed to determine if the blockhash `"+e+"`is valid");return u.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=ke(e,Ye(UM));if("error"in t)throw new Be(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=ke(e,Ye(Ee()));if("error"in t)throw new Be(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=bt(t),o=this._buildArgsAtLeastConfirmed([e],r,void 0,s),l=await this._rpcRequest("getBlock",o);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const u=ke(l,II);if("error"in u)throw u.error;return u.result}case"none":{const u=ke(l,MI);if("error"in u)throw u.error;return u.result}default:{const u=ke(l,AI);if("error"in u)throw u.error;const{result:d}=u;return d?{...d,transactions:d.transactions.map(({transaction:p,meta:w,version:_})=>({meta:w,transaction:{...p,message:Vf(_,p.message)},version:_}))}:null}}}catch(u){throw new Be(u,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=bt(t),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),l=await this._rpcRequest("getBlock",o);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const u=ke(l,TI);if("error"in u)throw u.error;return u.result}case"none":{const u=ke(l,CI);if("error"in u)throw u.error;return u.result}default:{const u=ke(l,NI);if("error"in u)throw u.error;return u.result}}}catch(u){throw new Be(u,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:u,...d}=e;r=u,t=d}const s=this._buildArgs([],r,"base64",t),o=await this._rpcRequest("getBlockProduction",s),l=ke(o,FM);if("error"in l)throw new Be(l.error,"failed to get block production information");return l.result}async getTransaction(e,t){const{commitment:r,config:s}=bt(t),o=this._buildArgsAtLeastConfirmed([e],r,void 0,s),l=await this._rpcRequest("getTransaction",o),u=ke(l,Hf);if("error"in u)throw new Be(u.error,"failed to get transaction");const d=u.result;return d&&{...d,transaction:{...d.transaction,message:Vf(d.version,d.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=bt(t),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),l=await this._rpcRequest("getTransaction",o),u=ke(l,hu);if("error"in u)throw new Be(u.error,"failed to get transaction");return u.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=bt(t),o=e.map(d=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([d],r,"jsonParsed",s)}));return(await this._rpcBatchRequest(o)).map(d=>{const p=ke(d,hu);if("error"in p)throw new Be(p.error,"failed to get transactions");return p.result})}async getTransactions(e,t){const{commitment:r,config:s}=bt(t),o=e.map(d=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([d],r,void 0,s)}));return(await this._rpcBatchRequest(o)).map(d=>{const p=ke(d,Hf);if("error"in p)throw new Be(p.error,"failed to get transactions");const w=p.result;return w&&{...w,transaction:{...w.transaction,message:Vf(w.version,w.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getBlock",r),o=ke(s,RI);if("error"in o)throw new Be(o.error,"failed to get confirmed block");const l=o.result;if(!l)throw new Error("Confirmed block "+e+" not found");const u={...l,transactions:l.transactions.map(({transaction:d,meta:p})=>{const w=new xi(d.message);return{meta:p,transaction:{...d,message:w}}})};return{...u,transactions:u.transactions.map(({transaction:d,meta:p})=>({meta:p,transaction:Kr.populate(d.message,d.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),o=await this._rpcRequest("getBlocks",s),l=ke(o,Ye(Ae(ce())));if("error"in l)throw new Be(l.error,"failed to get blocks");return l.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),o=ke(s,Jw);if("error"in o)throw new Be(o.error,"failed to get block");const l=o.result;if(!l)throw new Error("Block "+e+" not found");return l}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),o=ke(s,Jw);if("error"in o)throw new Be(o.error,"failed to get confirmed block");const l=o.result;if(!l)throw new Error("Confirmed block "+e+" not found");return l}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getTransaction",r),o=ke(s,Hf);if("error"in o)throw new Be(o.error,"failed to get transaction");const l=o.result;if(!l)return l;const u=new xi(l.transaction.message),d=l.transaction.signatures;return{...l,transaction:Kr.populate(u,d)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getTransaction",r),o=ke(s,hu);if("error"in o)throw new Be(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,t){const r=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],t,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(l=>{const u=ke(l,hu);if("error"in u)throw new Be(u.error,"failed to get confirmed transactions");return u.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},o=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<o));)try{const d=await this.getConfirmedBlockSignatures(t,"finalized");d.signatures.length>0&&(s.until=d.signatures[d.signatures.length-1].toString())}catch(d){if(d instanceof Error&&d.message.includes("skipped"))continue;throw d}let l=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>l));)try{const d=await this.getConfirmedBlockSignatures(r);d.signatures.length>0&&(s.before=d.signatures[d.signatures.length-1].toString())}catch(d){if(d instanceof Error&&d.message.includes("skipped"))continue;throw d}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(d=>d.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),l=ke(o,aI);if("error"in l)throw new Be(l.error,"failed to get confirmed signatures for address");return l.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),o=await this._rpcRequest("getSignaturesForAddress",s),l=ke(o,lI);if("error"in l)throw new Be(l.error,"failed to get signatures for address");return l.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let o=null;return s!==null&&(o=new Gw({key:e,state:Gw.deserialize(s.data)})),{context:r,value:o}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let o=null;return s!==null&&(o=rg.fromAccountData(s.data)),{context:r,value:o}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=ke(r,UI);if("error"in s)throw new Be(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Zo(100);const r=Date.now()-this._blockhashInfo.lastFetch>=AM;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await Zo(fM/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=bt(e),s=this._buildArgs([],t,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",s),l=ke(o,nr(ce()));if("error"in l)throw new Be(l.error,"failed to get stake minimum delegation");return l.result}async simulateTransaction(e,t,r){if("message"in e){const C=e.serialize(),T=Ze.Buffer.from(C).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const z=t||{};z.encoding="base64","commitment"in z||(z.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(z.innerInstructions=t.innerInstructions);const F=[T,z],U=await this._rpcRequest("simulateTransaction",F),G=ke(U,Zw);if("error"in G)throw new Error("failed to simulate transaction: "+G.error.message);return G.result}let s;if(e instanceof Kr){let N=e;s=new Kr,s.feePayer=N.feePayer,s.instructions=e.instructions,s.nonceInfo=N.nonceInfo,s.signatures=N.signatures}else s=Kr.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const o=t;if(s.nonceInfo&&o)s.sign(...o);else{let N=this._disableBlockhashCaching;for(;;){const C=await this._blockhashWithExpiryBlockHeight(N);if(s.lastValidBlockHeight=C.lastValidBlockHeight,s.recentBlockhash=C.blockhash,!o)break;if(s.sign(...o),!s.signature)throw new Error("!signature");const T=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(T)&&!this._blockhashInfo.transactionSignatures.includes(T)){this._blockhashInfo.simulatedSignatures.push(T);break}else N=!0}}const l=s._compile(),u=l.serialize(),p=s._serialize(u).toString("base64"),w={encoding:"base64",commitment:this.commitment};if(r){const N=(Array.isArray(r)?r:l.nonProgramIds()).map(C=>C.toBase58());w.accounts={encoding:"base64",addresses:N}}o&&(w.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(w.innerInstructions=t.innerInstructions);const _=[p,w],k=await this._rpcRequest("simulateTransaction",_),S=ke(k,Zw);if("error"in S){let N;if("data"in S.error&&(N=S.error.data.logs,N&&Array.isArray(N))){const C=`
    `,T=C+N.join(C);console.error(S.error.message,T)}throw new $w({action:"simulate",signature:"",transactionMessage:S.error.message,logs:N})}return S.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const l=e.serialize();return await this.sendRawTransaction(l,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let l=this._disableBlockhashCaching;for(;;){const u=await this._blockhashWithExpiryBlockHeight(l);if(e.lastValidBlockHeight=u.lastValidBlockHeight,e.recentBlockhash=u.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const d=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(d))l=!0;else{this._blockhashInfo.transactionSignatures.push(d);break}}}const o=e.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(e,t){const r=Nr(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,o=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),o&&(r.preflightCommitment=o);const l=[e,r],u=await this._rpcRequest("sendTransaction",l),d=ke(u,DI);if("error"in d){let p;throw"data"in d.error&&(p=d.error.data.logs),new $w({action:s?"send":"simulate",signature:"",transactionMessage:d.error.message,logs:p})}return d.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const o=this._subscriptionStateChangeCallbacksByHash[e];o&&o.forEach(l=>{try{l(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){var o;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=(o=this._subscriptionStateChangeCallbacksByHash)[r]||(o[r]=new Set);return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:l}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const u=await this._rpcWebSocket.call(l,o);this._setSubscription(r,{...s,serverSubscriptionId:u,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[u]=s.callbacks,await this._updateSubscriptions()}catch(u){if(console.error(`Received ${u instanceof Error?"":"JSON-RPC "}error calling \`${l}\``,{args:o,error:u}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:l}=s;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(l,[o])}catch(u){if(u instanceof Error&&console.error(`${l} error:`,u.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=ke(e,cI);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=Vw([e.method,t]),o=this._subscriptionsByHash[s];return o===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const l=this._subscriptionsByHash[s];Pt(l!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),l.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:o}=bt(r),l=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},l)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=ke(e,dI);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:o,config:l}=bt(r),u=this._buildArgs([e.toBase58()],o||this._commitment||"finalized","base64",l||(s?{filters:Yw(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},u)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=ke(e,FI);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=ke(e,fI);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=ke(e,gI);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const o=t||this._commitment;if(o||r||s){let l={};r&&(l.encoding=r),o&&(l.commitment=o),s&&(l=Object.assign(l,s)),e.push(l)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const o=t||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=ke(e,mI);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(l,u)=>{if(l.type==="status"){t(l.result,u);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return o}onSignatureWithOptions(e,t,r){const{commitment:s,...o}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},l=this._buildArgs([e],s,void 0,o),u=this._makeSubscription({callback:(d,p)=>{t(d,p);try{this.removeSignatureListener(u)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},l);return u}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=ke(e,yI);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:Z.struct([Z.u32("instruction"),ma("recentSlot"),Z.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Z.struct([Z.u32("instruction")])},ExtendLookupTable:{index:2,layout:Z.struct([Z.u32("instruction"),ma(),Z.seq(Xe(),Z.offset(Z.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Z.struct([Z.u32("instruction")])},CloseLookupTable:{index:4,layout:Z.struct([Z.u32("instruction")])}});new Pe("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:Z.struct([Z.u8("instruction"),Z.u32("units"),Z.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:Z.struct([Z.u8("instruction"),Z.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:Z.struct([Z.u8("instruction"),Z.u32("units")])},SetComputeUnitPrice:{index:3,layout:Z.struct([Z.u8("instruction"),ma("microLamports")])}});new Pe("ComputeBudget111111111111111111111111111111");Z.struct([Z.u8("numSignatures"),Z.u8("padding"),Z.u16("signatureOffset"),Z.u16("signatureInstructionIndex"),Z.u16("publicKeyOffset"),Z.u16("publicKeyInstructionIndex"),Z.u16("messageDataOffset"),Z.u16("messageDataSize"),Z.u16("messageInstructionIndex")]);new Pe("Ed25519SigVerify111111111111111111111111111");XA.utils.isValidPrivateKey;Z.struct([Z.u8("numSignatures"),Z.u16("signatureOffset"),Z.u8("signatureInstructionIndex"),Z.u16("ethAddressOffset"),Z.u8("ethAddressInstructionIndex"),Z.u16("messageDataOffset"),Z.u16("messageDataSize"),Z.u8("messageInstructionIndex"),Z.blob(20,"ethAddress"),Z.blob(64,"signature"),Z.u8("recoveryId")]);new Pe("KeccakSecp256k11111111111111111111111111111");var Kb;new Pe("StakeConfig11111111111111111111111111111111");class Vb{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}Kb=Vb;Vb.default=new Kb(0,0,Pe.default);Object.freeze({Initialize:{index:0,layout:Z.struct([Z.u32("instruction"),sM(),oM()])},Authorize:{index:1,layout:Z.struct([Z.u32("instruction"),Xe("newAuthorized"),Z.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:Z.struct([Z.u32("instruction")])},Split:{index:3,layout:Z.struct([Z.u32("instruction"),Z.ns64("lamports")])},Withdraw:{index:4,layout:Z.struct([Z.u32("instruction"),Z.ns64("lamports")])},Deactivate:{index:5,layout:Z.struct([Z.u32("instruction")])},Merge:{index:7,layout:Z.struct([Z.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:Z.struct([Z.u32("instruction"),Xe("newAuthorized"),Z.u32("stakeAuthorizationType"),sa("authoritySeed"),Xe("authorityOwner")])}});new Pe("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:Z.struct([Z.u32("instruction"),aM()])},Authorize:{index:1,layout:Z.struct([Z.u32("instruction"),Xe("newAuthorized"),Z.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:Z.struct([Z.u32("instruction"),Z.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:Z.struct([Z.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:Z.struct([Z.u32("instruction"),lM()])}});new Pe("Vote111111111111111111111111111111111111111");new Pe("Va1idator1nfo111111111111111111111111111111");be({name:Ee(),website:Ue(Ee()),details:Ue(Ee()),iconUrl:Ue(Ee()),keybaseUsername:Ue(Ee())});new Pe("Vote111111111111111111111111111111111111111");Z.struct([Xe("nodePubkey"),Xe("authorizedWithdrawer"),Z.u8("commission"),Z.nu64(),Z.seq(Z.struct([Z.nu64("slot"),Z.u32("confirmationCount")]),Z.offset(Z.u32(),-8),"votes"),Z.u8("rootSlotValid"),Z.nu64("rootSlot"),Z.nu64(),Z.seq(Z.struct([Z.nu64("epoch"),Xe("authorizedVoter")]),Z.offset(Z.u32(),-8),"authorizedVoters"),Z.struct([Z.seq(Z.struct([Xe("authorizedPubkey"),Z.nu64("epochOfLastAuthorizedSwitch"),Z.nu64("targetEpoch")]),32,"buf"),Z.nu64("idx"),Z.u8("isEmpty")],"priorVoters"),Z.nu64(),Z.seq(Z.struct([Z.nu64("epoch"),Z.nu64("credits"),Z.nu64("prevCredits")]),Z.offset(Z.u32(),-8),"epochCredits"),Z.struct([Z.nu64("slot"),Z.nu64("timestamp")],"lastTimestamp")]);const Xw={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function $I(n,e){const t="https";if(!n)return Xw[t].devnet;const r=Xw[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}const Ml=1e9,Hb=ie.createContext({});function og(){return ie.useContext(Hb)}const qI=({children:n,endpoint:e,config:t={commitment:"confirmed"}})=>{const r=ie.useMemo(()=>new qb(e,t),[e,t]);return _e.createElement(Hb.Provider,{value:{connection:r}},n)};class _r extends Error{constructor(e,t){super(e),this.error=t}}class Js extends _r{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class KI extends _r{constructor(){super(...arguments),this.name="WalletLoadError"}}class oa extends _r{constructor(){super(...arguments),this.name="WalletConfigError"}}class Xs extends _r{constructor(){super(...arguments),this.name="WalletConnectionError"}}class ag extends _r{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class lg extends _r{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Ws extends _r{constructor(){super(...arguments),this.name="WalletAccountError"}}class ya extends _r{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class ir extends _r{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class wi extends _r{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class zn extends _r{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Id extends _r{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class ev extends _r{constructor(){super(...arguments),this.name="WalletSignInError"}}var Qe;(function(n){n.Installed="Installed",n.NotDetected="NotDetected",n.Loadable="Loadable",n.Unsupported="Unsupported"})(Qe||(Qe={}));class Gb extends Jp{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,t,r={}){const s=this.publicKey;if(!s)throw new ir;return e.feePayer=e.feePayer||s,e.recentBlockhash=e.recentBlockhash||(await t.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function Yb(n){if(typeof window>"u"||typeof document>"u")return;const e=[];function t(){if(n())for(const o of e)o()}const r=setInterval(t,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",t,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",t))),document.readyState!=="complete"&&(window.addEventListener("load",t,{once:!0}),e.push(()=>window.removeEventListener("load",t))),t()}function H0(){if(!navigator)return!1;const n=navigator.userAgent.toLowerCase(),e=n.includes("iphone")||n.includes("ipad"),t=n.includes("safari");return e&&t}function vi(n){return"version"in n}class VI extends Gb{async sendTransaction(e,t,r={}){let s=!0;try{if(vi(e)){if(!this.supportedTransactionVersions)throw new wi("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new wi(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const o=e.serialize();return await t.sendRawTransaction(o,r)}catch(o){throw o instanceof zn?(s=!1,o):new wi(o==null?void 0:o.message,o)}}else try{const{signers:o,...l}=r;e=await this.prepareTransaction(e,t,l),o!=null&&o.length&&e.partialSign(...o),e=await this.signTransaction(e);const u=e.serialize();return await t.sendRawTransaction(u,l)}catch(o){throw o instanceof zn?(s=!1,o):new wi(o==null?void 0:o.message,o)}}catch(o){throw s&&this.emit("error",o),o}}async signAllTransactions(e){for(const r of e)if(vi(r)){if(!this.supportedTransactionVersions)throw new zn("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new zn(`Signing transaction version ${r.version} isn't supported by this wallet`)}const t=[];for(const r of e)t.push(await this.signTransaction(r));return t}}class cg extends VI{}class HI extends cg{}const Yr="solana:signAndSendTransaction",Zs="solana:signIn",gi="solana:signMessage",Ut="solana:signTransaction",Nd="standard:connect",od="standard:disconnect",Td="standard:events";function GI(n){return Nd in n.features&&Td in n.features&&(Yr in n.features||Ut in n.features)}var G0;(function(n){n.Mainnet="mainnet-beta",n.Testnet="testnet",n.Devnet="devnet"})(G0||(G0={}));class tv extends _r{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const YI=[],Cd={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){On("call","select")},connect(){return Promise.reject(On("call","connect"))},disconnect(){return Promise.reject(On("call","disconnect"))},sendTransaction(){return Promise.reject(On("call","sendTransaction"))},signTransaction(){return Promise.reject(On("call","signTransaction"))},signAllTransactions(){return Promise.reject(On("call","signAllTransactions"))},signMessage(){return Promise.reject(On("call","signMessage"))},signIn(){return Promise.reject(On("call","signIn"))}};Object.defineProperty(Cd,"wallets",{get(){return On("read","wallets"),YI}});Object.defineProperty(Cd,"wallet",{get(){return On("read","wallet"),null}});Object.defineProperty(Cd,"publicKey",{get(){return On("read","publicKey"),null}});function On(n,e){const t=new Error(`You have tried to ${n} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(t),t}const Zb=ie.createContext(Cd);function Rd(){return ie.useContext(Zb)}function ZI(n,e){const t=ie.useState(()=>{try{const o=localStorage.getItem(n);if(o)return JSON.parse(o)}catch(o){typeof window<"u"&&console.error(o)}return e}),r=t[0],s=ie.useRef(!0);return ie.useEffect(()=>{if(s.current){s.current=!1;return}try{r===null?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(r))}catch(o){typeof window<"u"&&console.error(o)}},[r,n]),t}var qo={},Gf,rv;function QI(){return rv||(rv=1,Gf=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Gf}var Yf={},Xi={},nv;function lo(){if(nv)return Xi;nv=1;let n;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Xi.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Xi.getSymbolTotalCodewords=function(r){return e[r]},Xi.getBCHDigit=function(t){let r=0;for(;t!==0;)r++,t>>>=1;return r},Xi.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');n=r},Xi.isKanjiModeEnabled=function(){return typeof n<"u"},Xi.toSJIS=function(r){return n(r)},Xi}var Zf={},iv;function ug(){return iv||(iv=1,(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,s){if(n.isValid(r))return r;try{return e(r)}catch{return s}}})(Zf)),Zf}var Qf,sv;function JI(){if(sv)return Qf;sv=1;function n(){this.buffer=[],this.length=0}return n.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},Qf=n,Qf}var Jf,ov;function XI(){if(ov)return Jf;ov=1;function n(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return n.prototype.set=function(e,t,r,s){const o=e*this.size+t;this.data[o]=r,s&&(this.reservedBit[o]=!0)},n.prototype.get=function(e,t){return this.data[e*this.size+t]},n.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},n.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},Jf=n,Jf}var Xf={},av;function eN(){return av||(av=1,(function(n){const e=lo().getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,o=e(r),l=o===145?26:Math.ceil((o-13)/(2*s-2))*2,u=[o-7];for(let d=1;d<s-1;d++)u[d]=u[d-1]-l;return u.push(6),u.reverse()},n.getPositions=function(r){const s=[],o=n.getRowColCoords(r),l=o.length;for(let u=0;u<l;u++)for(let d=0;d<l;d++)u===0&&d===0||u===0&&d===l-1||u===l-1&&d===0||s.push([o[u],o[d]]);return s}})(Xf)),Xf}var e0={},lv;function tN(){if(lv)return e0;lv=1;const n=lo().getSymbolSize,e=7;return e0.getPositions=function(r){const s=n(r);return[[0,0],[s-e,0],[0,s-e]]},e0}var t0={},cv;function rN(){return cv||(cv=1,(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},n.from=function(s){return n.isValid(s)?parseInt(s,10):void 0},n.getPenaltyN1=function(s){const o=s.size;let l=0,u=0,d=0,p=null,w=null;for(let _=0;_<o;_++){u=d=0,p=w=null;for(let k=0;k<o;k++){let S=s.get(_,k);S===p?u++:(u>=5&&(l+=e.N1+(u-5)),p=S,u=1),S=s.get(k,_),S===w?d++:(d>=5&&(l+=e.N1+(d-5)),w=S,d=1)}u>=5&&(l+=e.N1+(u-5)),d>=5&&(l+=e.N1+(d-5))}return l},n.getPenaltyN2=function(s){const o=s.size;let l=0;for(let u=0;u<o-1;u++)for(let d=0;d<o-1;d++){const p=s.get(u,d)+s.get(u,d+1)+s.get(u+1,d)+s.get(u+1,d+1);(p===4||p===0)&&l++}return l*e.N2},n.getPenaltyN3=function(s){const o=s.size;let l=0,u=0,d=0;for(let p=0;p<o;p++){u=d=0;for(let w=0;w<o;w++)u=u<<1&2047|s.get(p,w),w>=10&&(u===1488||u===93)&&l++,d=d<<1&2047|s.get(w,p),w>=10&&(d===1488||d===93)&&l++}return l*e.N3},n.getPenaltyN4=function(s){let o=0;const l=s.data.length;for(let d=0;d<l;d++)o+=s.data[d];return Math.abs(Math.ceil(o*100/l/5)-10)*e.N4};function t(r,s,o){switch(r){case n.Patterns.PATTERN000:return(s+o)%2===0;case n.Patterns.PATTERN001:return s%2===0;case n.Patterns.PATTERN010:return o%3===0;case n.Patterns.PATTERN011:return(s+o)%3===0;case n.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(o/3))%2===0;case n.Patterns.PATTERN101:return s*o%2+s*o%3===0;case n.Patterns.PATTERN110:return(s*o%2+s*o%3)%2===0;case n.Patterns.PATTERN111:return(s*o%3+(s+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(s,o){const l=o.size;for(let u=0;u<l;u++)for(let d=0;d<l;d++)o.isReserved(d,u)||o.xor(d,u,t(s,d,u))},n.getBestMask=function(s,o){const l=Object.keys(n.Patterns).length;let u=0,d=1/0;for(let p=0;p<l;p++){o(p),n.applyMask(p,s);const w=n.getPenaltyN1(s)+n.getPenaltyN2(s)+n.getPenaltyN3(s)+n.getPenaltyN4(s);n.applyMask(p,s),w<d&&(d=w,u=p)}return u}})(t0)),t0}var fu={},uv;function Qb(){if(uv)return fu;uv=1;const n=ug(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return fu.getBlocksCount=function(s,o){switch(o){case n.L:return e[(s-1)*4+0];case n.M:return e[(s-1)*4+1];case n.Q:return e[(s-1)*4+2];case n.H:return e[(s-1)*4+3];default:return}},fu.getTotalCodewordsCount=function(s,o){switch(o){case n.L:return t[(s-1)*4+0];case n.M:return t[(s-1)*4+1];case n.Q:return t[(s-1)*4+2];case n.H:return t[(s-1)*4+3];default:return}},fu}var r0={},ml={},dv;function nN(){if(dv)return ml;dv=1;const n=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let s=0;s<255;s++)n[s]=r,e[r]=s,r<<=1,r&256&&(r^=285);for(let s=255;s<512;s++)n[s]=n[s-255]})(),ml.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},ml.exp=function(r){return n[r]},ml.mul=function(r,s){return r===0||s===0?0:n[e[r]+e[s]]},ml}var hv;function iN(){return hv||(hv=1,(function(n){const e=nN();n.mul=function(r,s){const o=new Uint8Array(r.length+s.length-1);for(let l=0;l<r.length;l++)for(let u=0;u<s.length;u++)o[l+u]^=e.mul(r[l],s[u]);return o},n.mod=function(r,s){let o=new Uint8Array(r);for(;o.length-s.length>=0;){const l=o[0];for(let d=0;d<s.length;d++)o[d]^=e.mul(s[d],l);let u=0;for(;u<o.length&&o[u]===0;)u++;o=o.slice(u)}return o},n.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let o=0;o<r;o++)s=n.mul(s,new Uint8Array([1,e.exp(o)]));return s}})(r0)),r0}var n0,fv;function sN(){if(fv)return n0;fv=1;const n=iN();function e(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=n.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(r.length+this.degree);s.set(r);const o=n.mod(s,this.genPoly),l=this.degree-o.length;if(l>0){const u=new Uint8Array(this.degree);return u.set(o,l),u}return o},n0=e,n0}var i0={},s0={},o0={},pv;function Jb(){return pv||(pv=1,o0.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),o0}var Yn={},gv;function Xb(){if(gv)return Yn;gv=1;const n="[0-9]+",e="[A-Z $%*+\\-./:]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+`)(?:.|[\r
]))+`;Yn.KANJI=new RegExp(t,"g"),Yn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Yn.BYTE=new RegExp(r,"g"),Yn.NUMERIC=new RegExp(n,"g"),Yn.ALPHANUMERIC=new RegExp(e,"g");const s=new RegExp("^"+t+"$"),o=new RegExp("^"+n+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Yn.testKanji=function(d){return s.test(d)},Yn.testNumeric=function(d){return o.test(d)},Yn.testAlphanumeric=function(d){return l.test(d)},Yn}var mv;function co(){return mv||(mv=1,(function(n){const e=Jb(),t=Xb();n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(o,l){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?o.ccBits[0]:l<27?o.ccBits[1]:o.ccBits[2]},n.getBestModeForData=function(o){return t.testNumeric(o)?n.NUMERIC:t.testAlphanumeric(o)?n.ALPHANUMERIC:t.testKanji(o)?n.KANJI:n.BYTE},n.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},n.isValid=function(o){return o&&o.bit&&o.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+s)}}n.from=function(o,l){if(n.isValid(o))return o;try{return r(o)}catch{return l}}})(s0)),s0}var yv;function oN(){return yv||(yv=1,(function(n){const e=lo(),t=Qb(),r=ug(),s=co(),o=Jb(),l=7973,u=e.getBCHDigit(l);function d(k,S,N){for(let C=1;C<=40;C++)if(S<=n.getCapacity(C,N,k))return C}function p(k,S){return s.getCharCountIndicator(k,S)+4}function w(k,S){let N=0;return k.forEach(function(C){const T=p(C.mode,S);N+=T+C.getBitsLength()}),N}function _(k,S){for(let N=1;N<=40;N++)if(w(k,N)<=n.getCapacity(N,S,s.MIXED))return N}n.from=function(S,N){return o.isValid(S)?parseInt(S,10):N},n.getCapacity=function(S,N,C){if(!o.isValid(S))throw new Error("Invalid QR Code version");typeof C>"u"&&(C=s.BYTE);const T=e.getSymbolTotalCodewords(S),z=t.getTotalCodewordsCount(S,N),F=(T-z)*8;if(C===s.MIXED)return F;const U=F-p(C,S);switch(C){case s.NUMERIC:return Math.floor(U/10*3);case s.ALPHANUMERIC:return Math.floor(U/11*2);case s.KANJI:return Math.floor(U/13);case s.BYTE:default:return Math.floor(U/8)}},n.getBestVersionForData=function(S,N){let C;const T=r.from(N,r.M);if(Array.isArray(S)){if(S.length>1)return _(S,T);if(S.length===0)return 1;C=S[0]}else C=S;return d(C.mode,C.getLength(),T)},n.getEncodedBits=function(S){if(!o.isValid(S)||S<7)throw new Error("Invalid QR Code version");let N=S<<12;for(;e.getBCHDigit(N)-u>=0;)N^=l<<e.getBCHDigit(N)-u;return S<<12|N}})(i0)),i0}var a0={},wv;function aN(){if(wv)return a0;wv=1;const n=lo(),e=1335,t=21522,r=n.getBCHDigit(e);return a0.getEncodedBits=function(o,l){const u=o.bit<<3|l;let d=u<<10;for(;n.getBCHDigit(d)-r>=0;)d^=e<<n.getBCHDigit(d)-r;return(u<<10|d)^t},a0}var l0={},c0,vv;function lN(){if(vv)return c0;vv=1;const n=co();function e(t){this.mode=n.NUMERIC,this.data=t.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let s,o,l;for(s=0;s+3<=this.data.length;s+=3)o=this.data.substr(s,3),l=parseInt(o,10),r.put(l,10);const u=this.data.length-s;u>0&&(o=this.data.substr(s),l=parseInt(o,10),r.put(l,u*3+1))},c0=e,c0}var u0,bv;function cN(){if(bv)return u0;bv=1;const n=co(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(r){this.mode=n.ALPHANUMERIC,this.data=r}return t.getBitsLength=function(s){return 11*Math.floor(s/2)+6*(s%2)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(s){let o;for(o=0;o+2<=this.data.length;o+=2){let l=e.indexOf(this.data[o])*45;l+=e.indexOf(this.data[o+1]),s.put(l,11)}this.data.length%2&&s.put(e.indexOf(this.data[o]),6)},u0=t,u0}var d0,xv;function uN(){if(xv)return d0;xv=1;const n=co();function e(t){this.mode=n.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){for(let r=0,s=this.data.length;r<s;r++)t.put(this.data[r],8)},d0=e,d0}var h0,_v;function dN(){if(_v)return h0;_v=1;const n=co(),e=lo();function t(r){this.mode=n.KANJI,this.data=r}return t.getBitsLength=function(s){return s*13},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let s;for(s=0;s<this.data.length;s++){let o=e.toSJIS(this.data[s]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[s]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),r.put(o,13)}},h0=t,h0}var f0={exports:{}},Sv;function hN(){return Sv||(Sv=1,(function(n){var e={single_source_shortest_paths:function(t,r,s){var o={},l={};l[r]=0;var u=e.PriorityQueue.make();u.push(r,0);for(var d,p,w,_,k,S,N,C,T;!u.empty();){d=u.pop(),p=d.value,_=d.cost,k=t[p]||{};for(w in k)k.hasOwnProperty(w)&&(S=k[w],N=_+S,C=l[w],T=typeof l[w]>"u",(T||C>N)&&(l[w]=N,u.push(w,N),o[w]=p))}if(typeof s<"u"&&typeof l[s]>"u"){var z=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(z)}return o},extract_shortest_path_from_predecessor_list:function(t,r){for(var s=[],o=r;o;)s.push(o),t[o],o=t[o];return s.reverse(),s},find_path:function(t,r,s){var o=e.single_source_shortest_paths(t,r,s);return e.extract_shortest_path_from_predecessor_list(o,s)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,s={},o;t=t||{};for(o in r)r.hasOwnProperty(o)&&(s[o]=r[o]);return s.queue=[],s.sorter=t.sorter||r.default_sorter,s},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var s={value:t,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e})(f0)),f0.exports}var Ev;function fN(){return Ev||(Ev=1,(function(n){const e=co(),t=lN(),r=cN(),s=uN(),o=dN(),l=Xb(),u=lo(),d=hN();function p(z){return unescape(encodeURIComponent(z)).length}function w(z,F,U){const G=[];let te;for(;(te=z.exec(U))!==null;)G.push({data:te[0],index:te.index,mode:F,length:te[0].length});return G}function _(z){const F=w(l.NUMERIC,e.NUMERIC,z),U=w(l.ALPHANUMERIC,e.ALPHANUMERIC,z);let G,te;return u.isKanjiModeEnabled()?(G=w(l.BYTE,e.BYTE,z),te=w(l.KANJI,e.KANJI,z)):(G=w(l.BYTE_KANJI,e.BYTE,z),te=[]),F.concat(U,G,te).sort(function(de,le){return de.index-le.index}).map(function(de){return{data:de.data,mode:de.mode,length:de.length}})}function k(z,F){switch(F){case e.NUMERIC:return t.getBitsLength(z);case e.ALPHANUMERIC:return r.getBitsLength(z);case e.KANJI:return o.getBitsLength(z);case e.BYTE:return s.getBitsLength(z)}}function S(z){return z.reduce(function(F,U){const G=F.length-1>=0?F[F.length-1]:null;return G&&G.mode===U.mode?(F[F.length-1].data+=U.data,F):(F.push(U),F)},[])}function N(z){const F=[];for(let U=0;U<z.length;U++){const G=z[U];switch(G.mode){case e.NUMERIC:F.push([G,{data:G.data,mode:e.ALPHANUMERIC,length:G.length},{data:G.data,mode:e.BYTE,length:G.length}]);break;case e.ALPHANUMERIC:F.push([G,{data:G.data,mode:e.BYTE,length:G.length}]);break;case e.KANJI:F.push([G,{data:G.data,mode:e.BYTE,length:p(G.data)}]);break;case e.BYTE:F.push([{data:G.data,mode:e.BYTE,length:p(G.data)}])}}return F}function C(z,F){const U={},G={start:{}};let te=["start"];for(let X=0;X<z.length;X++){const de=z[X],le=[];for(let K=0;K<de.length;K++){const V=de[K],Y=""+X+K;le.push(Y),U[Y]={node:V,lastCount:0},G[Y]={};for(let Q=0;Q<te.length;Q++){const I=te[Q];U[I]&&U[I].node.mode===V.mode?(G[I][Y]=k(U[I].lastCount+V.length,V.mode)-k(U[I].lastCount,V.mode),U[I].lastCount+=V.length):(U[I]&&(U[I].lastCount=V.length),G[I][Y]=k(V.length,V.mode)+4+e.getCharCountIndicator(V.mode,F))}}te=le}for(let X=0;X<te.length;X++)G[te[X]].end=0;return{map:G,table:U}}function T(z,F){let U;const G=e.getBestModeForData(z);if(U=e.from(F,G),U!==e.BYTE&&U.bit<G.bit)throw new Error('"'+z+'" cannot be encoded with mode '+e.toString(U)+`.
 Suggested mode is: `+e.toString(G));switch(U===e.KANJI&&!u.isKanjiModeEnabled()&&(U=e.BYTE),U){case e.NUMERIC:return new t(z);case e.ALPHANUMERIC:return new r(z);case e.KANJI:return new o(z);case e.BYTE:return new s(z)}}n.fromArray=function(F){return F.reduce(function(U,G){return typeof G=="string"?U.push(T(G,null)):G.data&&U.push(T(G.data,G.mode)),U},[])},n.fromString=function(F,U){const G=_(F,u.isKanjiModeEnabled()),te=N(G),X=C(te,U),de=d.find_path(X.map,"start","end"),le=[];for(let K=1;K<de.length-1;K++)le.push(X.table[de[K]].node);return n.fromArray(S(le))},n.rawSplit=function(F){return n.fromArray(_(F,u.isKanjiModeEnabled()))}})(l0)),l0}var kv;function pN(){if(kv)return Yf;kv=1;const n=lo(),e=ug(),t=JI(),r=XI(),s=eN(),o=tN(),l=rN(),u=Qb(),d=sN(),p=oN(),w=aN(),_=co(),k=fN();function S(X,de){const le=X.size,K=o.getPositions(de);for(let V=0;V<K.length;V++){const Y=K[V][0],Q=K[V][1];for(let I=-1;I<=7;I++)if(!(Y+I<=-1||le<=Y+I))for(let f=-1;f<=7;f++)Q+f<=-1||le<=Q+f||(I>=0&&I<=6&&(f===0||f===6)||f>=0&&f<=6&&(I===0||I===6)||I>=2&&I<=4&&f>=2&&f<=4?X.set(Y+I,Q+f,!0,!0):X.set(Y+I,Q+f,!1,!0))}}function N(X){const de=X.size;for(let le=8;le<de-8;le++){const K=le%2===0;X.set(le,6,K,!0),X.set(6,le,K,!0)}}function C(X,de){const le=s.getPositions(de);for(let K=0;K<le.length;K++){const V=le[K][0],Y=le[K][1];for(let Q=-2;Q<=2;Q++)for(let I=-2;I<=2;I++)Q===-2||Q===2||I===-2||I===2||Q===0&&I===0?X.set(V+Q,Y+I,!0,!0):X.set(V+Q,Y+I,!1,!0)}}function T(X,de){const le=X.size,K=p.getEncodedBits(de);let V,Y,Q;for(let I=0;I<18;I++)V=Math.floor(I/3),Y=I%3+le-8-3,Q=(K>>I&1)===1,X.set(V,Y,Q,!0),X.set(Y,V,Q,!0)}function z(X,de,le){const K=X.size,V=w.getEncodedBits(de,le);let Y,Q;for(Y=0;Y<15;Y++)Q=(V>>Y&1)===1,Y<6?X.set(Y,8,Q,!0):Y<8?X.set(Y+1,8,Q,!0):X.set(K-15+Y,8,Q,!0),Y<8?X.set(8,K-Y-1,Q,!0):Y<9?X.set(8,15-Y-1+1,Q,!0):X.set(8,15-Y-1,Q,!0);X.set(K-8,8,1,!0)}function F(X,de){const le=X.size;let K=-1,V=le-1,Y=7,Q=0;for(let I=le-1;I>0;I-=2)for(I===6&&I--;;){for(let f=0;f<2;f++)if(!X.isReserved(V,I-f)){let v=!1;Q<de.length&&(v=(de[Q]>>>Y&1)===1),X.set(V,I-f,v),Y--,Y===-1&&(Q++,Y=7)}if(V+=K,V<0||le<=V){V-=K,K=-K;break}}}function U(X,de,le){const K=new t;le.forEach(function(f){K.put(f.mode.bit,4),K.put(f.getLength(),_.getCharCountIndicator(f.mode,X)),f.write(K)});const V=n.getSymbolTotalCodewords(X),Y=u.getTotalCodewordsCount(X,de),Q=(V-Y)*8;for(K.getLengthInBits()+4<=Q&&K.put(0,4);K.getLengthInBits()%8!==0;)K.putBit(0);const I=(Q-K.getLengthInBits())/8;for(let f=0;f<I;f++)K.put(f%2?17:236,8);return G(K,X,de)}function G(X,de,le){const K=n.getSymbolTotalCodewords(de),V=u.getTotalCodewordsCount(de,le),Y=K-V,Q=u.getBlocksCount(de,le),I=K%Q,f=Q-I,v=Math.floor(K/Q),R=Math.floor(Y/Q),P=R+1,B=v-R,D=new d(B);let $=0;const M=new Array(Q),g=new Array(Q);let y=0;const j=new Uint8Array(X.buffer);for(let ye=0;ye<Q;ye++){const qe=ye<f?R:P;M[ye]=j.slice($,$+qe),g[ye]=D.encode(M[ye]),$+=qe,y=Math.max(y,qe)}const W=new Uint8Array(K);let J=0,se,ge;for(se=0;se<y;se++)for(ge=0;ge<Q;ge++)se<M[ge].length&&(W[J++]=M[ge][se]);for(se=0;se<B;se++)for(ge=0;ge<Q;ge++)W[J++]=g[ge][se];return W}function te(X,de,le,K){let V;if(Array.isArray(X))V=k.fromArray(X);else if(typeof X=="string"){let v=de;if(!v){const R=k.rawSplit(X);v=p.getBestVersionForData(R,le)}V=k.fromString(X,v||40)}else throw new Error("Invalid data");const Y=p.getBestVersionForData(V,le);if(!Y)throw new Error("The amount of data is too big to be stored in a QR Code");if(!de)de=Y;else if(de<Y)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+Y+`.
`);const Q=U(de,le,V),I=n.getSymbolSize(de),f=new r(I);return S(f,de),N(f),C(f,de),z(f,le,0),de>=7&&T(f,de),F(f,Q),isNaN(K)&&(K=l.getBestMask(f,z.bind(null,f,le))),l.applyMask(K,f),z(f,le,K),{modules:f,version:de,errorCorrectionLevel:le,maskPattern:K,segments:V}}return Yf.create=function(de,le){if(typeof de>"u"||de==="")throw new Error("No input text");let K=e.M,V,Y;return typeof le<"u"&&(K=e.from(le.errorCorrectionLevel,e.M),V=p.from(le.version),Y=l.from(le.maskPattern),le.toSJISFunc&&n.setToSJISFunction(le.toSJISFunc)),te(de,V,K,Y)},Yf}var p0={},g0={},Av;function ex(){return Av||(Av=1,(function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let r=t.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+t);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,l=r.scale||4;return{width:o,scale:o?4:l,margin:s,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},n.getImageWidth=function(r,s){const o=n.getScale(r,s);return Math.floor((r+s.margin*2)*o)},n.qrToImageData=function(r,s,o){const l=s.modules.size,u=s.modules.data,d=n.getScale(l,o),p=Math.floor((l+o.margin*2)*d),w=o.margin*d,_=[o.color.light,o.color.dark];for(let k=0;k<p;k++)for(let S=0;S<p;S++){let N=(k*p+S)*4,C=o.color.light;if(k>=w&&S>=w&&k<p-w&&S<p-w){const T=Math.floor((k-w)/d),z=Math.floor((S-w)/d);C=_[u[T*l+z]?1:0]}r[N++]=C.r,r[N++]=C.g,r[N++]=C.b,r[N]=C.a}}})(g0)),g0}var Mv;function gN(){return Mv||(Mv=1,(function(n){const e=ex();function t(s,o,l){s.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=l,o.width=l,o.style.height=l+"px",o.style.width=l+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(o,l,u){let d=u,p=l;typeof d>"u"&&(!l||!l.getContext)&&(d=l,l=void 0),l||(p=r()),d=e.getOptions(d);const w=e.getImageWidth(o.modules.size,d),_=p.getContext("2d"),k=_.createImageData(w,w);return e.qrToImageData(k.data,o,d),t(_,p,w),_.putImageData(k,0,0),p},n.renderToDataURL=function(o,l,u){let d=u;typeof d>"u"&&(!l||!l.getContext)&&(d=l,l=void 0),d||(d={});const p=n.render(o,l,d),w=d.type||"image/png",_=d.rendererOpts||{};return p.toDataURL(w,_.quality)}})(p0)),p0}var m0={},Iv;function mN(){if(Iv)return m0;Iv=1;const n=ex();function e(s,o){const l=s.a/255,u=o+'="'+s.hex+'"';return l<1?u+" "+o+'-opacity="'+l.toFixed(2).slice(1)+'"':u}function t(s,o,l){let u=s+o;return typeof l<"u"&&(u+=" "+l),u}function r(s,o,l){let u="",d=0,p=!1,w=0;for(let _=0;_<s.length;_++){const k=Math.floor(_%o),S=Math.floor(_/o);!k&&!p&&(p=!0),s[_]?(w++,_>0&&k>0&&s[_-1]||(u+=p?t("M",k+l,.5+S+l):t("m",d,0),d=0,p=!1),k+1<o&&s[_+1]||(u+=t("h",w),w=0)):d++}return u}return m0.render=function(o,l,u){const d=n.getOptions(l),p=o.modules.size,w=o.modules.data,_=p+d.margin*2,k=d.color.light.a?"<path "+e(d.color.light,"fill")+' d="M0 0h'+_+"v"+_+'H0z"/>':"",S="<path "+e(d.color.dark,"stroke")+' d="'+r(w,p,d.margin)+'"/>',N='viewBox="0 0 '+_+" "+_+'"',T='<svg xmlns="http://www.w3.org/2000/svg" '+(d.width?'width="'+d.width+'" height="'+d.width+'" ':"")+N+' shape-rendering="crispEdges">'+k+S+`</svg>
`;return typeof u=="function"&&u(null,T),T},m0}var Nv;function yN(){if(Nv)return qo;Nv=1;const n=QI(),e=pN(),t=gN(),r=mN();function s(o,l,u,d,p){const w=[].slice.call(arguments,1),_=w.length,k=typeof w[_-1]=="function";if(!k&&!n())throw new Error("Callback required as last argument");if(k){if(_<2)throw new Error("Too few arguments provided");_===2?(p=u,u=l,l=d=void 0):_===3&&(l.getContext&&typeof p>"u"?(p=d,d=void 0):(p=d,d=u,u=l,l=void 0))}else{if(_<1)throw new Error("Too few arguments provided");return _===1?(u=l,l=d=void 0):_===2&&!l.getContext&&(d=u,u=l,l=void 0),new Promise(function(S,N){try{const C=e.create(u,d);S(o(C,l,d))}catch(C){N(C)}})}try{const S=e.create(u,d);p(null,o(S,l,d))}catch(S){p(S)}}return qo.create=e.create,qo.toCanvas=s.bind(null,t.render),qo.toDataURL=s.bind(null,t.renderToDataURL),qo.toString=s.bind(null,function(o,l,u){return r.render(o,u)}),qo}yN();function y0(n){switch(n){case"processed":case"confirmed":case"finalized":case void 0:return n;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const Dl="solana:mainnet",tx="solana:devnet",rx="solana:testnet",wN="solana:localnet",vN="https://api.mainnet-beta.solana.com";function bN(n){return n.includes(vN)?Dl:/\bdevnet\b/i.test(n)?tx:/\btestnet\b/i.test(n)?rx:/\blocalhost\b/i.test(n)||/\b127\.0\.0\.1\b/.test(n)?wN:Dl}function xN(n){let e=`${n.domain} wants you to sign in with your Solana account:
`;e+=`${n.address}`,n.statement&&(e+=`

${n.statement}`);const t=[];if(n.uri&&t.push(`URI: ${n.uri}`),n.version&&t.push(`Version: ${n.version}`),n.chainId&&t.push(`Chain ID: ${n.chainId}`),n.nonce&&t.push(`Nonce: ${n.nonce}`),n.issuedAt&&t.push(`Issued At: ${n.issuedAt}`),n.expirationTime&&t.push(`Expiration Time: ${n.expirationTime}`),n.notBefore&&t.push(`Not Before: ${n.notBefore}`),n.requestId&&t.push(`Request ID: ${n.requestId}`),n.resources){t.push("Resources:");for(const r of n.resources)t.push(`- ${r}`)}return t.length&&(e+=`

${t.join(`
`)}`),e}function _N(n){return Object.freeze({...n,decode:(e,t=0)=>n.read(e,t)[0]})}var SN=n=>_N({read(e,t){const r=t===0?e:e.slice(t);if(r.length===0)return["",0];let s=r.findIndex(d=>d!==0);s=s===-1?r.length:s;const o=n[0].repeat(s);if(s===r.length)return[o,e.length];const l=r.slice(s).reduce((d,p)=>d*256n+BigInt(p),0n),u=EN(l,n);return[o+u,e.length]}});function EN(n,e){const t=BigInt(e.length),r=[];for(;n>0n;)r.unshift(e[Number(n%t)]),n/=t;return r.join("")}var kN="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",AN=()=>SN(kN);const _i={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class Si extends Error{constructor(...e){const[t,r,s]=e;super(r),this.code=t,this.data=s,this.name="SolanaMobileWalletAdapterError"}}class nx extends Error{constructor(...e){const[t,r,s,o]=e;super(s),this.code=r,this.data=o,this.jsonRpcMessageId=t,this.name="SolanaMobileWalletAdapterProtocolError"}}function dr(n,e,t,r){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(w){try{p(r.next(w))}catch(_){l(_)}}function d(w){try{p(r.throw(w))}catch(_){l(_)}}function p(w){w.done?o(w.value):s(w.value).then(u,d)}p((r=r.apply(n,[])).next())})}function MN(n){return window.btoa(n)}function Tv(n,e){return window.btoa(String.fromCharCode.call(null,...n))}function ix(n){return new Uint8Array(window.atob(n).split("").map(e=>e.charCodeAt(0)))}function w0(n,e){return dr(this,void 0,void 0,function*(){const t=yield crypto.subtle.exportKey("raw",n),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,t),s=new Uint8Array(t.byteLength+r.byteLength);return s.set(new Uint8Array(t),0),s.set(new Uint8Array(r),t.byteLength),s})}function IN(n){return xN(n)}function NN(n){return MN(IN(n)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const TN="solana:signTransactions",Cv="solana:cloneAuthorization";function CN(n){return AN().decode(n)}function RN(n){return CN(ix(n))}function jN(n,e){return new Proxy({},{get(t,r){return r==="then"?null:(t[r]==null&&(t[r]=function(s){return dr(this,void 0,void 0,function*(){const{method:o,params:l}=LN(r,s,n),u=yield e(o,l);return o==="authorize"&&l.sign_in_payload&&!u.sign_in_result&&(u.sign_in_result=yield ON(l.sign_in_payload,u,e)),BN(r,u,n)})}),t[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function LN(n,e,t){let r=e,s=n.toString().replace(/[A-Z]/g,o=>`_${o.toLowerCase()}`).toLowerCase();switch(n){case"authorize":{let{chain:o}=r;if(t==="legacy"){switch(o){case"solana:testnet":{o="testnet";break}case"solana:devnet":{o="devnet";break}case"solana:mainnet":{o="mainnet-beta";break}default:o=r.cluster}r.cluster=o}else{switch(o){case"testnet":case"devnet":{o=`solana:${o}`;break}case"mainnet-beta":{o="solana:mainnet";break}}r.chain=o}}case"reauthorize":{const{auth_token:o,identity:l}=r;if(o)switch(t){case"legacy":{s="reauthorize",r={auth_token:o,identity:l};break}default:{s="authorize";break}}break}}return{method:s,params:r}}function BN(n,e,t){switch(n){case"getCapabilities":{const r=e;switch(t){case"legacy":{const s=[TN];return r.supports_clone_authorization===!0&&s.push(Cv),Object.assign(Object.assign({},r),{features:s})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(Cv)})}}}return e}function ON(n,e,t){var r;return dr(this,void 0,void 0,function*(){const s=(r=n.domain)!==null&&r!==void 0?r:window.location.host,o=e.accounts[0].address,l=NN(Object.assign(Object.assign({},n),{domain:s,address:RN(o)})),u=yield t("sign_messages",{addresses:[o],payloads:[l]}),d=ix(u.signed_payloads[0]),p=Tv(d.slice(0,d.length-64)),w=Tv(d.slice(d.length-64));return{address:o,signed_message:p.length==0?l:p,signature:w}})}const $s=4;function PN(n){if(n>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer($s);return new DataView(e).setUint32(0,n,!1),new Uint8Array(e)}const Y0=12,sx=65;function UN(n,e,t){return dr(this,void 0,void 0,function*(){const r=PN(e),s=new Uint8Array(Y0);crypto.getRandomValues(s);const o=yield crypto.subtle.encrypt(ax(r,s),t,new TextEncoder().encode(n)),l=new Uint8Array(r.byteLength+s.byteLength+o.byteLength);return l.set(new Uint8Array(r),0),l.set(new Uint8Array(s),r.byteLength),l.set(new Uint8Array(o),r.byteLength+s.byteLength),l})}function ox(n,e){return dr(this,void 0,void 0,function*(){const t=n.slice(0,$s),r=n.slice($s,$s+Y0),s=n.slice($s+Y0),o=yield crypto.subtle.decrypt(ax(t,r),e,s);return DN().decode(o)})}function ax(n,e){return{additionalData:n,iv:e,name:"AES-GCM",tagLength:128}}let v0;function DN(){return v0===void 0&&(v0=new TextDecoder("utf-8")),v0}function zN(){return dr(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function b0(){return dr(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function FN(n){let e="";const t=new Uint8Array(n),r=t.byteLength;for(let s=0;s<r;s++)e+=String.fromCharCode(t[s]);return window.btoa(e)}function WN(){return lx(49152+Math.floor(Math.random()*16384))}function lx(n){if(n<49152||n>65535)throw new Si(_i.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${n} given.`,{port:n});return n}function $N(n){return n.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const qN="solana-wallet";function Rv(n){return n.replace(/(^\/+|\/+$)/g,"").split("/")}function KN(n,e){let t=null;if(e){try{t=new URL(e)}catch{}if((t==null?void 0:t.protocol)!=="https:")throw new Si(_i.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}t||(t=new URL(`${qN}:/`));const r=n.startsWith("/")?n:[...Rv(t.pathname),...Rv(n)].join("/");return new URL(r,t)}function VN(n,e,t,r=["v1"]){return dr(this,void 0,void 0,function*(){const s=lx(e),o=yield crypto.subtle.exportKey("raw",n),l=FN(o),u=KN("v1/associate/local",t);return u.searchParams.set("association",$N(l)),u.searchParams.set("port",`${s}`),r.forEach(d=>{u.searchParams.set("v",d)}),u})}function HN(n,e){return dr(this,void 0,void 0,function*(){const t=JSON.stringify(n),r=n.id;return UN(t,r,e)})}function GN(n,e){return dr(this,void 0,void 0,function*(){const t=yield ox(n,e),r=JSON.parse(t);if(Object.hasOwnProperty.call(r,"error"))throw new nx(r.id,r.error.code,r.error.message);return r})}function YN(n,e,t){return dr(this,void 0,void 0,function*(){const[r,s]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",n.slice(0,sx),{name:"ECDH",namedCurve:"P-256"},!1,[])]),o=yield crypto.subtle.deriveBits({name:"ECDH",public:s},t,256),l=yield crypto.subtle.importKey("raw",o,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},l,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function ZN(n,e){return dr(this,void 0,void 0,function*(){const t=yield ox(n,e),r=JSON.parse(t);let s="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":s="v1";break;case"legacy":s="legacy";break;default:throw new Si(_i.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:s}})}const ad={Firefox:0,Other:1};function QN(){return navigator.userAgent.indexOf("Firefox/")!==-1?ad.Firefox:ad.Other}function JN(){return new Promise((n,e)=>{function t(){clearTimeout(s),window.removeEventListener("blur",r)}function r(){t(),n()}window.addEventListener("blur",r);const s=setTimeout(()=>{t(),e()},3e3)})}let yl=null;function XN(n){yl==null&&(yl=document.createElement("iframe"),yl.style.display="none",document.body.appendChild(yl)),yl.contentWindow.location.href=n.toString()}function e4(n){return dr(this,void 0,void 0,function*(){if(n.protocol==="https:")window.location.assign(n);else try{const e=QN();switch(e){case ad.Firefox:XN(n);break;case ad.Other:{const t=JN();window.location.assign(n),yield t;break}default:}}catch{throw new Si(_i.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function t4(n,e){return dr(this,void 0,void 0,function*(){const t=WN(),r=yield VN(n,t,e);return yield e4(r),t})}const jv={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},r4="com.solana.mobilewalletadapter.v1";function n4(){if(typeof window>"u"||window.isSecureContext!==!0)throw new Si(_i.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function i4(n){let e;try{e=new URL(n)}catch{throw new Si(_i.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new Si(_i.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function Lv(n){return new DataView(n).getUint32(0,!1)}function s4(n,e){return dr(this,void 0,void 0,function*(){n4();const t=yield zN(),s=`ws://localhost:${yield t4(t.publicKey,e==null?void 0:e.baseUri)}/solana-wallet`;let o;const l=(()=>{const w=[...jv.retryDelayScheduleMs];return()=>w.length>1?w.shift():w[0]})();let u=1,d=0,p={__type:"disconnected"};return new Promise((w,_)=>{let k;const S={},N=()=>dr(this,void 0,void 0,function*(){if(p.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${p.__type}\`.`);return}k.removeEventListener("open",N);const{associationKeypair:te}=p,X=yield b0();k.send(yield w0(X.publicKey,te.privateKey)),p={__type:"hello_req_sent",associationPublicKey:te.publicKey,ecdhPrivateKey:X.privateKey}}),C=te=>{te.wasClean?p={__type:"disconnected"}:_(new Si(_i.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${te.code}: ${te.reason}).`,{closeEvent:te})),F()},T=te=>dr(this,void 0,void 0,function*(){F(),Date.now()-o>=jv.timeoutMs?_(new Si(_i.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${s}.`)):(yield new Promise(X=>{const de=l();U=window.setTimeout(X,de)}),G())}),z=te=>dr(this,void 0,void 0,function*(){const X=yield te.data.arrayBuffer();switch(p.__type){case"connecting":if(X.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const de=yield b0();k.send(yield w0(de.publicKey,t.privateKey)),p={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:de.privateKey};break;case"connected":try{const le=X.slice(0,$s),K=Lv(le);if(K!==d+1)throw new Error("Encrypted message has invalid sequence number");d=K;const V=yield GN(X,p.sharedSecret),Y=S[V.id];delete S[V.id],Y.resolve(V.result)}catch(le){if(le instanceof nx){const K=S[le.jsonRpcMessageId];delete S[le.jsonRpcMessageId],K.reject(le)}else throw le}break;case"hello_req_sent":{if(X.byteLength===0){const Q=yield b0();k.send(yield w0(Q.publicKey,t.privateKey)),p={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:Q.privateKey};break}const le=yield YN(X,p.associationPublicKey,p.ecdhPrivateKey),K=X.slice(sx),V=K.byteLength!==0?yield dr(this,void 0,void 0,function*(){const Q=K.slice(0,$s),I=Lv(Q);if(I!==d+1)throw new Error("Encrypted message has invalid sequence number");return d=I,ZN(K,le)}):{protocol_version:"legacy"};p={__type:"connected",sharedSecret:le,sessionProperties:V};const Y=jN(V.protocol_version,(Q,I)=>dr(this,void 0,void 0,function*(){const f=u++;return k.send(yield HN({id:f,jsonrpc:"2.0",method:Q,params:I??{}},le)),new Promise((v,R)=>{S[f]={resolve(P){switch(Q){case"authorize":case"reauthorize":{const{wallet_uri_base:B}=P;if(B!=null)try{i4(B)}catch(D){R(D);return}break}}v(P)},reject:R}})}));try{w(yield n(Y))}catch(Q){_(Q)}finally{F(),k.close()}break}}});let F,U;const G=()=>{F&&F(),p={__type:"connecting",associationKeypair:t},o===void 0&&(o=Date.now()),k=new WebSocket(s,[r4]),k.addEventListener("open",N),k.addEventListener("close",C),k.addEventListener("error",T),k.addEventListener("message",z),F=()=>{window.clearTimeout(U),k.removeEventListener("open",N),k.removeEventListener("close",C),k.removeEventListener("error",T),k.removeEventListener("message",z)}};G()})})}var x0,Bv;function o4(){if(Bv)return x0;Bv=1;function n(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var s=0;s<e.length;s++){var o=e.charAt(s),l=o.charCodeAt(0);if(t[l]!==255)throw new TypeError(o+" is ambiguous");t[l]=s}var u=e.length,d=e.charAt(0),p=Math.log(u)/Math.log(256),w=Math.log(256)/Math.log(u);function _(N){if(N instanceof Uint8Array||(ArrayBuffer.isView(N)?N=new Uint8Array(N.buffer,N.byteOffset,N.byteLength):Array.isArray(N)&&(N=Uint8Array.from(N))),!(N instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(N.length===0)return"";for(var C=0,T=0,z=0,F=N.length;z!==F&&N[z]===0;)z++,C++;for(var U=(F-z)*w+1>>>0,G=new Uint8Array(U);z!==F;){for(var te=N[z],X=0,de=U-1;(te!==0||X<T)&&de!==-1;de--,X++)te+=256*G[de]>>>0,G[de]=te%u>>>0,te=te/u>>>0;if(te!==0)throw new Error("Non-zero carry");T=X,z++}for(var le=U-T;le!==U&&G[le]===0;)le++;for(var K=d.repeat(C);le<U;++le)K+=e.charAt(G[le]);return K}function k(N){if(typeof N!="string")throw new TypeError("Expected String");if(N.length===0)return new Uint8Array;for(var C=0,T=0,z=0;N[C]===d;)T++,C++;for(var F=(N.length-C)*p+1>>>0,U=new Uint8Array(F);N[C];){var G=N.charCodeAt(C);if(G>255)return;var te=t[G];if(te===255)return;for(var X=0,de=F-1;(te!==0||X<z)&&de!==-1;de--,X++)te+=u*U[de]>>>0,U[de]=te%256>>>0,te=te/256>>>0;if(te!==0)throw new Error("Non-zero carry");z=X,C++}for(var le=F-z;le!==F&&U[le]===0;)le++;for(var K=new Uint8Array(T+(F-le)),V=T;le!==F;)K[V++]=U[le++];return K}function S(N){var C=k(N);if(C)return C;throw new Error("Non-base"+u+" character")}return{encode:_,decodeUnsafe:k,decode:S}}return x0=n,x0}var _0,Ov;function a4(){return Ov||(Ov=1,_0=o4()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),_0}var l4=a4();const ld=eo(l4);function Ot(n,e,t,r){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(w){try{p(r.next(w))}catch(_){l(_)}}function d(w){try{p(r.throw(w))}catch(_){l(_)}}function p(w){w.done?o(w.value):s(w.value).then(u,d)}p((r=r.apply(n,[])).next())})}function me(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function ar(n,e,t,r,s){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var bl,mr,Cs,Qo,cx,ux,dx,Au;const c4=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,u4=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,d4=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class h4{constructor(){bl.add(this),mr.set(this,null),Cs.set(this,{}),Qo.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),me(this,bl,"m",ux).call(this),me(this,mr,"f")&&(me(this,mr,"f").style.display="flex")},this.close=(e=void 0)=>{var t;console.debug("Modal close"),me(this,bl,"m",dx).call(this),me(this,mr,"f")&&(me(this,mr,"f").style.display="none"),(t=me(this,Cs,"f").close)===null||t===void 0||t.forEach(r=>r(e))},Au.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),ar(this,mr,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return Ot(this,void 0,void 0,function*(){console.log("Injecting modal"),me(this,bl,"m",cx).call(this)})}addEventListener(e,t){var r;return!((r=me(this,Cs,"f")[e])===null||r===void 0)&&r.push(t)||(me(this,Cs,"f")[e]=[t]),()=>this.removeEventListener(e,t)}removeEventListener(e,t){var r;me(this,Cs,"f")[e]=(r=me(this,Cs,"f")[e])===null||r===void 0?void 0:r.filter(s=>t!==s)}}mr=new WeakMap,Cs=new WeakMap,Qo=new WeakMap,Au=new WeakMap,bl=new WeakSet,cx=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){me(this,mr,"f")||ar(this,mr,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}ar(this,mr,document.createElement("div")),me(this,mr,"f").id="mobile-wallet-adapter-embedded-root-ui",me(this,mr,"f").innerHTML=c4,me(this,mr,"f").style.display="none";const e=me(this,mr,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const t=document.createElement("style");t.id="mobile-wallet-adapter-embedded-modal-styles",t.textContent=u4+this.contentStyles;const r=document.createElement("div");r.innerHTML=d4,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(t),this.dom.appendChild(me(this,mr,"f")),document.body.appendChild(r)},ux=function(){if(!me(this,mr,"f")||me(this,Qo,"f"))return;[...me(this,mr,"f").querySelectorAll("[data-modal-close]")].forEach(t=>t==null?void 0:t.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",me(this,Au,"f")),ar(this,Qo,!0)},dx=function(){if(!me(this,Qo,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",me(this,Au,"f")),!me(this,mr,"f")))return;[...me(this,mr,"f").querySelectorAll("[data-modal-close]")].forEach(t=>t==null?void 0:t.removeEventListener("click",this.close)),ar(this,Qo,!1)};const f4="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function pu(n){return window.btoa(String.fromCharCode.call(null,...n))}function es(n){return new Uint8Array(window.atob(n).split("").map(e=>e.charCodeAt(0)))}var Jo,qs,Z0,Q0,J0,X0,xl,$r,ci,rs,Xo,Rs,Mu,_l,Iu,ep,Nu,hx,tp,Tu,ea,Cu,Sl,Ru,ta,El,ju,rp,np,Lu,Bu,ip,sp,Ou;const fx="Mobile Wallet Adapter",p4=64,g4=[Yr,Ut,gi,Zs];class m4{constructor(e){Jo.add(this),qs.set(this,{}),Z0.set(this,"1.0.0"),Q0.set(this,fx),J0.set(this,"https://solanamobile.com/wallets"),X0.set(this,f4),xl.set(this,void 0),$r.set(this,void 0),ci.set(this,void 0),rs.set(this,!1),Xo.set(this,0),Rs.set(this,[]),Mu.set(this,void 0),_l.set(this,void 0),Iu.set(this,void 0),ep.set(this,(t,r)=>{var s;return!((s=me(this,qs,"f")[t])===null||s===void 0)&&s.push(r)||(me(this,qs,"f")[t]=[r]),()=>me(this,Jo,"m",hx).call(this,t,r)}),tp.set(this,({silent:t}={})=>Ot(this,void 0,void 0,function*(){if(me(this,rs,"f")||this.connected)return{accounts:this.accounts};ar(this,rs,!0);try{if(t){const r=yield me(this,ci,"f").get();if(r)yield me(this,Cu,"f").call(this,r.capabilities),yield me(this,ea,"f").call(this,r);else return{accounts:this.accounts}}else yield me(this,Tu,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{ar(this,rs,!1)}return{accounts:this.accounts}})),Tu.set(this,t=>Ot(this,void 0,void 0,function*(){try{const r=yield me(this,ci,"f").get();if(r)return me(this,ea,"f").call(this,r),r;const s=yield me(this,Mu,"f").select(me(this,Rs,"f"));return yield me(this,ta,"f").call(this,o=>Ot(this,void 0,void 0,function*(){const[l,u]=yield Promise.all([o.getCapabilities(),o.authorize({chain:s,identity:me(this,xl,"f"),sign_in_payload:t})]),d=me(this,ju,"f").call(this,u.accounts),p=Object.assign(Object.assign({},u),{accounts:d,chain:s,capabilities:l});return Promise.all([me(this,Cu,"f").call(this,l),me(this,ci,"f").set(p),me(this,ea,"f").call(this,p)]),p}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),ea.set(this,t=>Ot(this,void 0,void 0,function*(){var r;const s=me(this,$r,"f")==null||((r=me(this,$r,"f"))===null||r===void 0?void 0:r.accounts.length)!==t.accounts.length||me(this,$r,"f").accounts.some((o,l)=>o.address!==t.accounts[l].address);ar(this,$r,t),s&&me(this,Jo,"m",Nu).call(this,"change",{accounts:this.accounts})})),Cu.set(this,t=>Ot(this,void 0,void 0,function*(){const r=t.features.includes("solana:signTransactions"),s=t.supports_sign_and_send_transactions,o=Yr in this.features!==s||Ut in this.features!==r;ar(this,_l,Object.assign(Object.assign({},(s||!s&&!r)&&{[Yr]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:me(this,Lu,"f")}}),r&&{[Ut]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:me(this,Bu,"f")}})),o&&me(this,Jo,"m",Nu).call(this,"change",{features:this.features})})),Sl.set(this,(t,r,s)=>Ot(this,void 0,void 0,function*(){var o,l;try{const[u,d]=yield Promise.all([(l=(o=me(this,$r,"f"))===null||o===void 0?void 0:o.capabilities)!==null&&l!==void 0?l:yield t.getCapabilities(),t.authorize({auth_token:r,identity:me(this,xl,"f"),chain:s})]),p=me(this,ju,"f").call(this,d.accounts),w=Object.assign(Object.assign({},d),{accounts:p,chain:s,capabilities:u});Promise.all([me(this,ci,"f").set(w),me(this,ea,"f").call(this,w)])}catch(u){throw me(this,Ru,"f").call(this),new Error(u instanceof Error&&u.message||"Unknown error")}})),Ru.set(this,()=>Ot(this,void 0,void 0,function*(){var t;me(this,ci,"f").clear(),ar(this,rs,!1),ar(this,Xo,(t=me(this,Xo,"f"),t++,t)),ar(this,$r,void 0),me(this,Jo,"m",Nu).call(this,"change",{accounts:this.accounts})})),ta.set(this,t=>Ot(this,void 0,void 0,function*(){var r;const s=(r=me(this,$r,"f"))===null||r===void 0?void 0:r.wallet_uri_base,o=s?{baseUri:s}:void 0,l=me(this,Xo,"f");try{return yield s4(t,o)}catch(u){throw me(this,Xo,"f")!==l&&(yield new Promise(()=>{})),u instanceof Error&&u.name==="SolanaMobileWalletAdapterError"&&u.code==="ERROR_WALLET_NOT_FOUND"&&(yield me(this,Iu,"f").call(this,this)),u}})),El.set(this,()=>{if(!me(this,$r,"f"))throw new Error("Wallet not connected");return{authToken:me(this,$r,"f").auth_token,chain:me(this,$r,"f").chain}}),ju.set(this,t=>t.map(r=>{var s,o;const l=es(r.address);return{address:ld.encode(l),publicKey:l,label:r.label,icon:r.icon,chains:(s=r.chains)!==null&&s!==void 0?s:me(this,Rs,"f"),features:(o=r.features)!==null&&o!==void 0?o:g4}})),rp.set(this,t=>Ot(this,void 0,void 0,function*(){const{authToken:r,chain:s}=me(this,El,"f").call(this);try{const o=t.map(l=>pu(l));return yield me(this,ta,"f").call(this,l=>Ot(this,void 0,void 0,function*(){return yield me(this,Sl,"f").call(this,l,r,s),(yield l.signTransactions({payloads:o})).signed_payloads.map(es)}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),np.set(this,(t,r)=>Ot(this,void 0,void 0,function*(){const{authToken:s,chain:o}=me(this,El,"f").call(this);try{return yield me(this,ta,"f").call(this,l=>Ot(this,void 0,void 0,function*(){const[u,d]=yield Promise.all([l.getCapabilities(),me(this,Sl,"f").call(this,l,s,o)]);if(u.supports_sign_and_send_transactions){const p=pu(t);return(yield l.signAndSendTransactions(Object.assign(Object.assign({},r),{payloads:[p]}))).signatures.map(es)[0]}else throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(l){throw new Error(l instanceof Error&&l.message||"Unknown error")}})),Lu.set(this,(...t)=>Ot(this,void 0,void 0,function*(){const r=[];for(const s of t){const o=yield me(this,np,"f").call(this,s.transaction,s.options);r.push({signature:o})}return r})),Bu.set(this,(...t)=>Ot(this,void 0,void 0,function*(){return(yield me(this,rp,"f").call(this,t.map(({transaction:r})=>r))).map(r=>({signedTransaction:r}))})),ip.set(this,(...t)=>Ot(this,void 0,void 0,function*(){const{authToken:r,chain:s}=me(this,El,"f").call(this),o=t.map(({account:u})=>pu(u.publicKey)),l=t.map(({message:u})=>pu(u));try{return yield me(this,ta,"f").call(this,u=>Ot(this,void 0,void 0,function*(){return yield me(this,Sl,"f").call(this,u,r,s),(yield u.signMessages({addresses:o,payloads:l})).signed_payloads.map(es).map(p=>({signedMessage:p,signature:p.slice(-p4)}))}))}catch(u){throw new Error(u instanceof Error&&u.message||"Unknown error")}})),sp.set(this,(...t)=>Ot(this,void 0,void 0,function*(){const r=[];if(t.length>1)for(const s of t)r.push(yield me(this,Ou,"f").call(this,s));else return[yield me(this,Ou,"f").call(this,t[0])];return r})),Ou.set(this,t=>Ot(this,void 0,void 0,function*(){var r,s,o;ar(this,rs,!0);try{const l=yield me(this,Tu,"f").call(this,Object.assign(Object.assign({},t),{domain:(r=t==null?void 0:t.domain)!==null&&r!==void 0?r:window.location.host}));if(!l.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const u=l.sign_in_result.address,d=l.accounts.find(p=>p.address==u);return{account:Object.assign(Object.assign({},d??{address:ld.encode(es(u))}),{publicKey:es(u),chains:(s=d==null?void 0:d.chains)!==null&&s!==void 0?s:me(this,Rs,"f"),features:(o=d==null?void 0:d.features)!==null&&o!==void 0?o:l.capabilities.features}),signedMessage:es(l.sign_in_result.signed_message),signature:es(l.sign_in_result.signature)}}catch(l){throw new Error(l instanceof Error&&l.message||"Unknown error")}finally{ar(this,rs,!1)}})),ar(this,ci,e.authorizationCache),ar(this,xl,e.appIdentity),ar(this,Rs,e.chains),ar(this,Mu,e.chainSelector),ar(this,Iu,e.onWalletNotFound),ar(this,_l,{[Yr]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:me(this,Lu,"f")},[Ut]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:me(this,Bu,"f")}})}get version(){return me(this,Z0,"f")}get name(){return me(this,Q0,"f")}get url(){return me(this,J0,"f")}get icon(){return me(this,X0,"f")}get chains(){return me(this,Rs,"f")}get features(){return Object.assign({[Nd]:{version:"1.0.0",connect:me(this,tp,"f")},[od]:{version:"1.0.0",disconnect:me(this,Ru,"f")},[Td]:{version:"1.0.0",on:me(this,ep,"f")},[gi]:{version:"1.0.0",signMessage:me(this,ip,"f")},[Zs]:{version:"1.0.0",signIn:me(this,sp,"f")}},me(this,_l,"f"))}get accounts(){var e,t;return(t=(e=me(this,$r,"f"))===null||e===void 0?void 0:e.accounts)!==null&&t!==void 0?t:[]}get connected(){return!!me(this,$r,"f")}get isAuthorized(){return!!me(this,$r,"f")}get currentAuthorization(){return me(this,$r,"f")}get cachedAuthorizationResult(){return me(this,ci,"f").get()}}qs=new WeakMap,Z0=new WeakMap,Q0=new WeakMap,J0=new WeakMap,X0=new WeakMap,xl=new WeakMap,$r=new WeakMap,ci=new WeakMap,rs=new WeakMap,Xo=new WeakMap,Rs=new WeakMap,Mu=new WeakMap,_l=new WeakMap,Iu=new WeakMap,ep=new WeakMap,tp=new WeakMap,Tu=new WeakMap,ea=new WeakMap,Cu=new WeakMap,Sl=new WeakMap,Ru=new WeakMap,ta=new WeakMap,El=new WeakMap,ju=new WeakMap,rp=new WeakMap,np=new WeakMap,Lu=new WeakMap,Bu=new WeakMap,ip=new WeakMap,sp=new WeakMap,Ou=new WeakMap,Jo=new WeakSet,Nu=function(e,...t){var r;(r=me(this,qs,"f")[e])===null||r===void 0||r.forEach(s=>s.apply(null,t))},hx=function(e,t){var r;me(this,qs,"f")[e]=(r=me(this,qs,"f")[e])===null||r===void 0?void 0:r.filter(s=>t!==s)};const y4="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",w4="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class v4 extends h4{constructor(){super(...arguments),this.contentStyles=x4,this.contentHtml=b4}initWithError(e){super.init(),this.populateError(e)}populateError(e){var t,r;const s=(t=this.dom)===null||t===void 0?void 0:t.getElementById("mobile-wallet-adapter-error-message"),o=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(s){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":s.innerHTML=y4,o&&o.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":s.innerHTML=w4,o&&(o.style.display="none");return}s.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const b4=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,x4=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function _4(){return Ot(this,void 0,void 0,function*(){if(typeof window<"u"){const n=window.navigator.userAgent.toLowerCase(),e=new v4;n.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}const S0="SolanaMobileWalletAdapterDefaultAuthorizationCache";function S4(){let n;try{n=window.localStorage}catch{}return{clear(){return Ot(this,void 0,void 0,function*(){if(n)try{n.removeItem(S0)}catch{}})},get(){return Ot(this,void 0,void 0,function*(){if(n)try{const e=JSON.parse(n.getItem(S0));if(e&&e.accounts){const t=e.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):ld.decode(r.address)}));return Object.assign(Object.assign({},e),{accounts:t})}else return e||void 0}catch{}})},set(e){return Ot(this,void 0,void 0,function*(){if(n)try{n.setItem(S0,JSON.stringify(e))}catch{}})}}}function E4(){return{select(n){return Ot(this,void 0,void 0,function*(){return n.length===1?n[0]:n.includes(Dl)?Dl:n[0]})}}}function _t(n,e,t,r){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(w){try{p(r.next(w))}catch(_){l(_)}}function d(w){try{p(r.throw(w))}catch(_){l(_)}}function p(w){w.done?o(w.value):s(w.value).then(u,d)}p((r=r.apply(n,[])).next())})}function We(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function fn(n,e,t,r,s){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}const op="standard:connect",k4="standard:disconnect",A4="standard:events";function E0(n){return window.btoa(String.fromCharCode.call(null,...n))}function M4(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var br,Vt,is,mi,Pu,hi,js,ap,lp,px,cd,Uu,ns;const Du=fx,I4=64;function N4(n){return"version"in n}function gx(n){switch(n){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return n}}class T4 extends HI{constructor(e,t){super(),br.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),Vt.set(this,void 0),is.set(this,!1),mi.set(this,M4()?Qe.Loadable:Qe.Unsupported),Pu.set(this,void 0),hi.set(this,void 0),js.set(this,void 0),ap.set(this,r=>_t(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){We(this,br,"m",px).call(this);const s=yield We(this,Pu,"f").call(this,r.accounts);s!==We(this,hi,"f")&&(fn(this,hi,s),fn(this,js,void 0),this.emit("connect",this.publicKey))}})),fn(this,Pu,r=>_t(this,void 0,void 0,function*(){var s;const o=yield t.addressSelector.select(r.map(({publicKey:l})=>E0(l)));return(s=r.find(({publicKey:l})=>E0(l)===o))!==null&&s!==void 0?s:r[0]})),fn(this,Vt,e),We(this,Vt,"f").features[A4].on("change",We(this,ap,"f")),this.name=We(this,Vt,"f").name,this.icon=We(this,Vt,"f").icon,this.url=We(this,Vt,"f").url}get publicKey(){var e;if(!We(this,js,"f")&&We(this,hi,"f"))try{fn(this,js,new Pe(We(this,hi,"f").publicKey),"f")}catch(t){throw new ya(t instanceof Error&&(t==null?void 0:t.message)||"Unknown error",t)}return(e=We(this,js,"f"))!==null&&e!==void 0?e:null}get connected(){return We(this,Vt,"f").connected}get connecting(){return We(this,is,"f")}get readyState(){return We(this,mi,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return _t(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return _t(this,void 0,void 0,function*(){We(this,br,"m",lp).call(this,!0)})}connect(){return _t(this,void 0,void 0,function*(){We(this,br,"m",lp).call(this)})}performAuthorization(e){return _t(this,void 0,void 0,function*(){try{const t=yield We(this,Vt,"f").cachedAuthorizationResult;return t?(yield We(this,Vt,"f").features[op].connect({silent:!0}),t):(e?yield We(this,Vt,"f").features[Zs].signIn(e):yield We(this,Vt,"f").features[op].connect(),yield yield We(this,Vt,"f").cachedAuthorizationResult)}catch(t){throw new Xs(t instanceof Error&&t.message||"Unknown error",t)}})}disconnect(){return _t(this,void 0,void 0,function*(){return yield We(this,br,"m",ns).call(this,()=>_t(this,void 0,void 0,function*(){fn(this,is,!1),fn(this,js,void 0),fn(this,hi,void 0),yield We(this,Vt,"f").features[k4].disconnect(),this.emit("disconnect")}))})}signIn(e){return _t(this,void 0,void 0,function*(){return We(this,br,"m",ns).call(this,()=>_t(this,void 0,void 0,function*(){var t;if(We(this,mi,"f")!==Qe.Installed&&We(this,mi,"f")!==Qe.Loadable)throw new Js;fn(this,is,!0);try{const r=yield We(this,Vt,"f").features[Zs].signIn(Object.assign(Object.assign({},e),{domain:(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new Xs(r instanceof Error&&r.message||"Unknown error",r)}finally{fn(this,is,!1)}}))})}signMessage(e){return _t(this,void 0,void 0,function*(){return yield We(this,br,"m",ns).call(this,()=>_t(this,void 0,void 0,function*(){const t=We(this,br,"m",cd).call(this);try{return(yield We(this,Vt,"f").features[gi].signMessage({account:t,message:e}))[0].signature}catch(r){throw new Id(r==null?void 0:r.message,r)}}))})}sendTransaction(e,t,r){return _t(this,void 0,void 0,function*(){return yield We(this,br,"m",ns).call(this,()=>_t(this,void 0,void 0,function*(){const s=We(this,br,"m",cd).call(this);try{let o=function(){let l;switch(t.commitment){case"confirmed":case"finalized":case"processed":l=t.commitment;break;default:l="finalized"}let u;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":u=r.preflightCommitment;break;case void 0:u=l;break;default:u="finalized"}return(u==="finalized"?2:u==="confirmed"?1:0)<(l==="finalized"?2:l==="confirmed"?1:0)?u:l};if(Yr in We(this,Vt,"f").features){const l=gx(We(this,Vt,"f").currentAuthorization.chain),[u]=(yield We(this,Vt,"f").features[Yr].signAndSendTransaction({account:s,transaction:e.serialize(),chain:l,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map((d=>E0(d.signature)));return u}else{const[l]=yield We(this,br,"m",Uu).call(this,[e]);if(N4(l))return yield t.sendTransaction(l);{const u=l.serialize();return yield t.sendRawTransaction(u,Object.assign(Object.assign({},r),{preflightCommitment:o()}))}}}catch(o){throw new wi(o==null?void 0:o.message,o)}}))})}signTransaction(e){return _t(this,void 0,void 0,function*(){return yield We(this,br,"m",ns).call(this,()=>_t(this,void 0,void 0,function*(){const[t]=yield We(this,br,"m",Uu).call(this,[e]);return t}))})}signAllTransactions(e){return _t(this,void 0,void 0,function*(){return yield We(this,br,"m",ns).call(this,()=>_t(this,void 0,void 0,function*(){return yield We(this,br,"m",Uu).call(this,e)}))})}}Vt=new WeakMap,is=new WeakMap,mi=new WeakMap,Pu=new WeakMap,hi=new WeakMap,js=new WeakMap,ap=new WeakMap,br=new WeakSet,lp=function(e=!1){return _t(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield We(this,br,"m",ns).call(this,()=>_t(this,void 0,void 0,function*(){if(We(this,mi,"f")!==Qe.Installed&&We(this,mi,"f")!==Qe.Loadable)throw new Js;fn(this,is,!0);try{yield We(this,Vt,"f").features[op].connect({silent:e})}catch(t){throw new Xs(t instanceof Error&&t.message||"Unknown error",t)}finally{fn(this,is,!1)}}))})},px=function(){We(this,mi,"f")!==Qe.Installed&&this.emit("readyStateChange",fn(this,mi,Qe.Installed))},cd=function(){if(!We(this,Vt,"f").isAuthorized||!We(this,hi,"f"))throw new ir;return We(this,hi,"f")},Uu=function(e){return _t(this,void 0,void 0,function*(){const t=We(this,br,"m",cd).call(this);try{if(Ut in We(this,Vt,"f").features)return We(this,Vt,"f").features[Ut].signTransaction(...e.map(r=>({account:t,transaction:r.serialize()}))).then(r=>r.map(s=>{const o=s.signedTransaction,u=o[0]*I4+1;return tg.deserializeMessageVersion(o.slice(u,o.length))==="legacy"?Kr.from(o):Pl.deserialize(o)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new zn(r==null?void 0:r.message,r)}})},ns=function(e){return _t(this,void 0,void 0,function*(){try{return yield e()}catch(t){throw this.emit("error",t),t}})};class C4 extends T4{constructor(e){var t;const r=gx((t=e.chain)!==null&&t!==void 0?t:e.cluster);super(new m4({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>_t(this,void 0,void 0,function*(){return yield e.authorizationResultCache.get()}),clear:e.authorizationResultCache.clear},chains:[r],chainSelector:E4(),onWalletNotFound:()=>_t(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:r})}}class R4 extends C4{}function j4(){return{select(n){return _t(this,void 0,void 0,function*(){return n[0]})}}}function L4(){return S4()}function B4(n){return _t(this,void 0,void 0,function*(){return _4()})}function O4(){return B4}var P4=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},U4=function(n,e,t,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(n,t):s?s.value=t:e.set(n,t),t},zu;function D4(n){const e=({register:t})=>t(n);try{window.dispatchEvent(new z4(e))}catch(t){console.error(`wallet-standard:register-wallet event could not be dispatched
`,t)}try{window.addEventListener("wallet-standard:app-ready",({detail:t})=>e(t))}catch(t){console.error(`wallet-standard:app-ready event listener could not be added
`,t)}}class z4 extends Event{get detail(){return P4(this,zu,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),zu.set(this,void 0),U4(this,zu,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}zu=new WeakMap;function F4(n,e){if(n===e)return!0;const t=n.length;if(t!==e.length)return!1;for(let r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}var je=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},lr=function(n,e,t,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(n,t):s?s.value=t:e.set(n,t),t},Tr,on,Ks,Vs,Ls,kl,ud,it,dd,cp,Fu,up,Il,dp,Pv,Uv,Dv,zv;class W4 extends Gb{get name(){return je(this,it,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return je(this,it,"f").icon}get readyState(){return je(this,dd,"f")}get publicKey(){return je(this,Ks,"f")}get connecting(){return je(this,Vs,"f")}get supportedTransactionVersions(){return je(this,ud,"f")}get wallet(){return je(this,it,"f")}get standard(){return!0}constructor({wallet:e}){super(),Tr.add(this),on.set(this,void 0),Ks.set(this,void 0),Vs.set(this,void 0),Ls.set(this,void 0),kl.set(this,void 0),ud.set(this,void 0),it.set(this,void 0),dd.set(this,typeof window>"u"||typeof document>"u"?Qe.Unsupported:Qe.Installed),dp.set(this,t=>{if("accounts"in t){const r=je(this,it,"f").accounts[0];je(this,on,"f")&&!je(this,Ls,"f")&&r!==je(this,on,"f")&&(r?je(this,Tr,"m",Fu).call(this,r):(this.emit("error",new ag),je(this,Tr,"m",up).call(this)))}"features"in t&&je(this,Tr,"m",Il).call(this)}),lr(this,it,e,"f"),lr(this,on,null,"f"),lr(this,Ks,null,"f"),lr(this,Vs,!1,"f"),lr(this,Ls,!1,"f"),lr(this,kl,je(this,it,"f").features[Td].on("change",je(this,dp,"f")),"f"),je(this,Tr,"m",Il).call(this)}destroy(){lr(this,on,null,"f"),lr(this,Ks,null,"f"),lr(this,Vs,!1,"f"),lr(this,Ls,!1,"f");const e=je(this,kl,"f");e&&(lr(this,kl,null,"f"),e())}async autoConnect(){return je(this,Tr,"m",cp).call(this,{silent:!0})}async connect(){return je(this,Tr,"m",cp).call(this)}async disconnect(){if(od in je(this,it,"f").features)try{lr(this,Ls,!0,"f"),await je(this,it,"f").features[od].disconnect()}catch(e){this.emit("error",new lg(e==null?void 0:e.message,e))}finally{lr(this,Ls,!1,"f")}je(this,Tr,"m",up).call(this)}async sendTransaction(e,t,r={}){try{const s=je(this,on,"f");if(!s)throw new ir;let o;if(Yr in je(this,it,"f").features)if(s.features.includes(Yr))o=Yr;else if(Ut in je(this,it,"f").features&&s.features.includes(Ut))o=Ut;else throw new Ws;else if(Ut in je(this,it,"f").features){if(!s.features.includes(Ut))throw new Ws;o=Ut}else throw new oa;const l=bN(t.rpcEndpoint);if(!s.chains.includes(l))throw new wi;try{const{signers:u,...d}=r;let p;if(vi(e)?(u!=null&&u.length&&e.sign(u),p=e.serialize()):(e=await this.prepareTransaction(e,t,d),u!=null&&u.length&&e.partialSign(...u),p=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),o===Yr){const[w]=await je(this,it,"f").features[Yr].signAndSendTransaction({account:s,chain:l,transaction:p,options:{preflightCommitment:y0(d.preflightCommitment||t.commitment),skipPreflight:d.skipPreflight,maxRetries:d.maxRetries,minContextSlot:d.minContextSlot}});return ld.encode(w.signature)}else{const[w]=await je(this,it,"f").features[Ut].signTransaction({account:s,chain:l,transaction:p,options:{preflightCommitment:y0(d.preflightCommitment||t.commitment),minContextSlot:d.minContextSlot}});return await t.sendRawTransaction(w.signedTransaction,{...d,preflightCommitment:y0(d.preflightCommitment||t.commitment)})}}catch(u){throw u instanceof _r?u:new wi(u==null?void 0:u.message,u)}}catch(s){throw this.emit("error",s),s}}}on=new WeakMap,Ks=new WeakMap,Vs=new WeakMap,Ls=new WeakMap,kl=new WeakMap,ud=new WeakMap,it=new WeakMap,dd=new WeakMap,dp=new WeakMap,Tr=new WeakSet,cp=async function(e){try{if(this.connected||this.connecting)return;if(je(this,dd,"f")!==Qe.Installed)throw new Js;if(lr(this,Vs,!0,"f"),!je(this,it,"f").accounts.length)try{await je(this,it,"f").features[Nd].connect(e)}catch(r){throw new Xs(r==null?void 0:r.message,r)}const t=je(this,it,"f").accounts[0];if(!t)throw new Ws;je(this,Tr,"m",Fu).call(this,t)}catch(t){throw this.emit("error",t),t}finally{lr(this,Vs,!1,"f")}},Fu=function(e){let t;try{t=new Pe(e.address)}catch(r){throw new ya(r==null?void 0:r.message,r)}lr(this,on,e,"f"),lr(this,Ks,t,"f"),je(this,Tr,"m",Il).call(this),this.emit("connect",t)},up=function(){lr(this,on,null,"f"),lr(this,Ks,null,"f"),je(this,Tr,"m",Il).call(this),this.emit("disconnect")},Il=function(){var t,r;const e=Yr in je(this,it,"f").features?je(this,it,"f").features[Yr].supportedTransactionVersions:je(this,it,"f").features[Ut].supportedTransactionVersions;lr(this,ud,F4(e,["legacy"])?null:new Set(e),"f"),Ut in je(this,it,"f").features&&((t=je(this,on,"f"))!=null&&t.features.includes(Ut))?(this.signTransaction=je(this,Tr,"m",Pv),this.signAllTransactions=je(this,Tr,"m",Uv)):(delete this.signTransaction,delete this.signAllTransactions),gi in je(this,it,"f").features&&((r=je(this,on,"f"))!=null&&r.features.includes(gi))?this.signMessage=je(this,Tr,"m",Dv):delete this.signMessage,Zs in je(this,it,"f").features?this.signIn=je(this,Tr,"m",zv):delete this.signIn},Pv=async function(e){try{const t=je(this,on,"f");if(!t)throw new ir;if(!(Ut in je(this,it,"f").features))throw new oa;if(!t.features.includes(Ut))throw new Ws;try{const s=(await je(this,it,"f").features[Ut].signTransaction({account:t,transaction:vi(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return vi(e)?Pl.deserialize(s):Kr.from(s)}catch(r){throw r instanceof _r?r:new zn(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}},Uv=async function(e){try{const t=je(this,on,"f");if(!t)throw new ir;if(!(Ut in je(this,it,"f").features))throw new oa;if(!t.features.includes(Ut))throw new Ws;try{const r=await je(this,it,"f").features[Ut].signTransaction(...e.map(s=>({account:t,transaction:vi(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((s,o)=>{const l=r[o].signedTransaction;return vi(s)?Pl.deserialize(l):Kr.from(l)})}catch(r){throw new zn(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}},Dv=async function(e){try{const t=je(this,on,"f");if(!t)throw new ir;if(!(gi in je(this,it,"f").features))throw new oa;if(!t.features.includes(gi))throw new Ws;try{return(await je(this,it,"f").features[gi].signMessage({account:t,message:e}))[0].signature}catch(r){throw new Id(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}},zv=async function(e={}){try{if(!(Zs in je(this,it,"f").features))throw new oa;let t;try{[t]=await je(this,it,"f").features[Zs].signIn(e)}catch(r){throw new ev(r==null?void 0:r.message,r)}if(!t)throw new ev;return je(this,Tr,"m",Fu).call(this,t.account),t}catch(t){throw this.emit("error",t),t}};const $4=GI;var q4=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},K4=function(n,e,t,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(n,t):s?s.value=t:e.set(n,t),t},Wu;let pn;const jd=new Set;function V4(n){Nl=void 0,jd.add(n)}function H4(n){Nl=void 0,jd.delete(n)}const aa={};function G4(){if(pn||(pn=Object.freeze({register:Fv,get:Y4,on:Z4}),typeof window>"u"))return pn;const n=Object.freeze({register:Fv});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(n))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new Q4(n))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return pn}function Fv(...n){var e;return n=n.filter(t=>!jd.has(t)),n.length?(n.forEach(t=>V4(t)),(e=aa.register)==null||e.forEach(t=>hp(()=>t(...n))),function(){var r;n.forEach(s=>H4(s)),(r=aa.unregister)==null||r.forEach(s=>hp(()=>s(...n)))}):()=>{}}let Nl;function Y4(){return Nl||(Nl=[...jd]),Nl}function Z4(n,e){var t;return(t=aa[n])!=null&&t.push(e)||(aa[n]=[e]),function(){var s;aa[n]=(s=aa[n])==null?void 0:s.filter(o=>e!==o)}}function hp(n){try{n()}catch(e){console.error(e)}}class Q4 extends Event{get detail(){return q4(this,Wu,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Wu.set(this,void 0),K4(this,Wu,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Wu=new WeakMap;function J4(){if(pn||(pn=G4(),typeof window>"u"))return pn;const n=window.navigator.wallets||[];if(!Array.isArray(n))return console.error("window.navigator.wallets is not an array"),pn;const{register:e}=pn,t=(...r)=>r.forEach(s=>hp(()=>s({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:t})})}catch{return console.error("window.navigator.wallets could not be set"),pn}return t(...n),pn}function X4(n){const e=Wv(()=>new Set),{get:t,on:r}=Wv(()=>J4()),[s,o]=ie.useState(()=>$v(t()));ie.useEffect(()=>{const u=[r("register",(...d)=>o(p=>[...p,...$v(d)])),r("unregister",(...d)=>o(p=>p.filter(w=>d.some(_=>_===w.wallet))))];return()=>u.forEach(d=>d())},[r]);const l=eT(s);return ie.useEffect(()=>{if(!l)return;const u=new Set(s);new Set(l.filter(p=>!u.has(p))).forEach(p=>p.destroy())},[l,s]),ie.useEffect(()=>()=>s.forEach(u=>u.destroy()),[]),ie.useMemo(()=>[...s,...n.filter(({name:u})=>s.some(d=>d.name===u)?(e.has(u)||(e.add(u),console.warn(`${u} was registered as a Standard Wallet. The Wallet Adapter for ${u} can be removed from your app.`)),!1):!0)],[s,n,e])}function Wv(n){const e=ie.useRef(void 0);return e.current===void 0&&(e.current={value:n()}),e.current.value}function eT(n){const e=ie.useRef(void 0);return ie.useEffect(()=>{e.current=n}),e.current}function $v(n){return n.filter($4).map(e=>new W4({wallet:e}))}var da;(function(n){n[n.DESKTOP_WEB=0]="DESKTOP_WEB",n[n.MOBILE_WEB=1]="MOBILE_WEB"})(da||(da={}));function tT(n){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(n)}function rT({adapters:n,userAgentString:e}){return n.some(t=>t.name!==Du&&t.readyState===Qe.Installed)?da.DESKTOP_WEB:e&&/android/i.test(e)&&!tT(e)?da.MOBILE_WEB:da.DESKTOP_WEB}function nT(n){return n?/devnet/i.test(n)?"devnet":/testnet/i.test(n)?"testnet":"mainnet-beta":"mainnet-beta"}function iT({children:n,wallets:e,adapter:t,isUnloadingRef:r,onAutoConnectRequest:s,onConnectError:o,onError:l,onSelectWallet:u}){const d=ie.useRef(!1),[p,w]=ie.useState(!1),_=ie.useRef(!1),[k,S]=ie.useState(!1),[N,C]=ie.useState(()=>(t==null?void 0:t.publicKey)??null),[T,z]=ie.useState(()=>(t==null?void 0:t.connected)??!1),F=ie.useRef(l);ie.useEffect(()=>(F.current=l,()=>{F.current=void 0}),[l]);const U=ie.useRef((v,R)=>(r.current||(F.current?F.current(v,R):(console.error(v,R),v instanceof Js&&typeof window<"u"&&R&&window.open(R.url,"_blank"))),v)),[G,te]=ie.useState(()=>e.map(v=>({adapter:v,readyState:v.readyState})).filter(({readyState:v})=>v!==Qe.Unsupported));ie.useEffect(()=>{te(R=>e.map((P,B)=>{const D=R[B];return D&&D.adapter===P&&D.readyState===P.readyState?D:{adapter:P,readyState:P.readyState}}).filter(({readyState:P})=>P!==Qe.Unsupported));function v(R){te(P=>{const B=P.findIndex(({adapter:$})=>$===this);if(B===-1)return P;const{adapter:D}=P[B];return[...P.slice(0,B),{adapter:D,readyState:R},...P.slice(B+1)].filter(({readyState:$})=>$!==Qe.Unsupported)})}return e.forEach(R=>R.on("readyStateChange",v,R)),()=>{e.forEach(R=>R.off("readyStateChange",v,R))}},[t,e]);const X=ie.useMemo(()=>G.find(v=>v.adapter===t)??null,[t,G]);ie.useEffect(()=>{if(!t)return;const v=B=>{C(B),d.current=!1,w(!1),z(!0),_.current=!1,S(!1)},R=()=>{r.current||(C(null),d.current=!1,w(!1),z(!1),_.current=!1,S(!1))},P=B=>{U.current(B,t)};return t.on("connect",v),t.on("disconnect",R),t.on("error",P),()=>{t.off("connect",v),t.off("disconnect",R),t.off("error",P),R()}},[t,r]);const de=ie.useRef(!1);ie.useEffect(()=>()=>{de.current=!1},[t]),ie.useEffect(()=>{de.current||d.current||T||!s||!((X==null?void 0:X.readyState)===Qe.Installed||(X==null?void 0:X.readyState)===Qe.Loadable)||(d.current=!0,w(!0),de.current=!0,(async function(){try{await s()}catch{o()}finally{w(!1),d.current=!1}})())},[T,s,o,X]);const le=ie.useCallback(async(v,R,P)=>{if(!t)throw U.current(new tv);if(!T)throw U.current(new ir,t);return await t.sendTransaction(v,R,P)},[t,T]),K=ie.useMemo(()=>t&&"signTransaction"in t?async v=>{if(!T)throw U.current(new ir,t);return await t.signTransaction(v)}:void 0,[t,T]),V=ie.useMemo(()=>t&&"signAllTransactions"in t?async v=>{if(!T)throw U.current(new ir,t);return await t.signAllTransactions(v)}:void 0,[t,T]),Y=ie.useMemo(()=>t&&"signMessage"in t?async v=>{if(!T)throw U.current(new ir,t);return await t.signMessage(v)}:void 0,[t,T]),Q=ie.useMemo(()=>t&&"signIn"in t?async v=>await t.signIn(v):void 0,[t]),I=ie.useCallback(async()=>{if(d.current||_.current||X!=null&&X.adapter.connected)return;if(!X)throw U.current(new tv);const{adapter:v,readyState:R}=X;if(!(R===Qe.Installed||R===Qe.Loadable))throw U.current(new Js,v);d.current=!0,w(!0);try{await v.connect()}catch(P){throw o(),P}finally{w(!1),d.current=!1}},[o,X]),f=ie.useCallback(async()=>{if(!_.current&&t){_.current=!0,S(!0);try{await t.disconnect()}finally{S(!1),_.current=!1}}},[t]);return _e.createElement(Zb.Provider,{value:{autoConnect:!!s,wallets:G,wallet:X,publicKey:N,connected:T,connecting:p,disconnecting:k,select:u,connect:I,disconnect:f,sendTransaction:le,signTransaction:K,signAllTransactions:V,signMessage:Y,signIn:Q}},n)}let k0;function sT(){var n;return k0===void 0&&(k0=((n=globalThis.navigator)==null?void 0:n.userAgent)??null),k0}function qv(n){const e=sT();return rT({adapters:n,userAgentString:e})===da.MOBILE_WEB}function oT(){const n=globalThis.location;if(n)return`${n.protocol}//${n.host}`}function aT({children:n,wallets:e,autoConnect:t,localStorageKey:r="walletName",onError:s}){const{connection:o}=og(),l=X4(e),u=ie.useMemo(()=>{if(!qv(l))return null;const F=l.find(U=>U.name===Du);return F||new R4({addressSelector:j4(),appIdentity:{uri:oT()},authorizationResultCache:L4(),cluster:nT(o==null?void 0:o.rpcEndpoint),onWalletNotFound:O4()})},[l,o==null?void 0:o.rpcEndpoint]),d=ie.useMemo(()=>u==null||l.indexOf(u)!==-1?l:[u,...l],[l,u]),[p,w]=ZI(r,null),_=ie.useMemo(()=>d.find(F=>F.name===p)??null,[d,p]),k=ie.useCallback(F=>{p!==F&&(_&&_.name!==Du&&_.disconnect(),w(F))},[_,w,p]);ie.useEffect(()=>{if(!_)return;function F(){C.current||w(null)}return _.on("disconnect",F),()=>{_.off("disconnect",F)}},[_,l,w,p]);const S=ie.useRef(!1),N=ie.useMemo(()=>{if(!(!t||!_))return async()=>{(t===!0||await t(_))&&(S.current?await _.connect():await _.autoConnect())}},[t,_]),C=ie.useRef(!1);ie.useEffect(()=>{if(p===Du&&qv(l)){C.current=!1;return}function F(){C.current=!0}return window.addEventListener("beforeunload",F),()=>{window.removeEventListener("beforeunload",F)}},[l,p]);const T=ie.useCallback(()=>{_&&k(null)},[_,k]),z=ie.useCallback(F=>{S.current=!0,k(F)},[k]);return _e.createElement(iT,{wallets:d,adapter:_,isUnloadingRef:C,onAutoConnectRequest:N,onConnectError:T,onError:s,onSelectWallet:z},n)}const mx={setVisible(n){console.error(yx("call","setVisible"))},visible:!1};Object.defineProperty(mx,"visible",{get(){return console.error(yx("read","visible")),!1}});function yx(n,e){return`You have tried to  ${n} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const wx=ie.createContext(mx);function vx(){return ie.useContext(wx)}function lT({onSelectWallet:n}){const{connect:e,connected:t,connecting:r,disconnect:s,disconnecting:o,publicKey:l,select:u,wallet:d,wallets:p}=Rd();let w;r?w="connecting":t?w="connected":o?w="disconnecting":d?w="has-wallet":w="no-wallet";const _=ie.useCallback(()=>{e().catch(()=>{})},[e]),k=ie.useCallback(()=>{s().catch(()=>{})},[s]),S=ie.useCallback(()=>{n({onSelectWallet:u,wallets:p})},[n,u,p]);return{buttonState:w,onConnect:w==="has-wallet"?_:void 0,onDisconnect:w!=="disconnecting"&&w!=="no-wallet"?k:void 0,onSelectWallet:S,publicKey:l??void 0,walletIcon:d==null?void 0:d.adapter.icon,walletName:d==null?void 0:d.adapter.name}}const bx=n=>_e.createElement("button",{className:`wallet-adapter-button ${n.className||""}`,disabled:n.disabled,style:n.style,onClick:n.onClick,tabIndex:n.tabIndex||0,type:"button"},n.startIcon&&_e.createElement("i",{className:"wallet-adapter-button-start-icon"},n.startIcon),n.children,n.endIcon&&_e.createElement("i",{className:"wallet-adapter-button-end-icon"},n.endIcon)),xx=({wallet:n,...e})=>n&&_e.createElement("img",{src:n.adapter.icon,alt:`${n.adapter.name} icon`,...e});function cT({walletIcon:n,walletName:e,...t}){return _e.createElement(bx,{...t,className:"wallet-adapter-button-trigger",startIcon:n&&e?_e.createElement(xx,{wallet:{adapter:{icon:n,name:e}}}):void 0})}function uT({children:n,labels:e,...t}){const{setVisible:r}=vx(),{buttonState:s,onConnect:o,onDisconnect:l,publicKey:u,walletIcon:d,walletName:p}=lT({onSelectWallet(){r(!0)}}),[w,_]=ie.useState(!1),[k,S]=ie.useState(!1),N=ie.useRef(null);ie.useEffect(()=>{const T=z=>{const F=N.current;!F||F.contains(z.target)||S(!1)};return document.addEventListener("mousedown",T),document.addEventListener("touchstart",T),()=>{document.removeEventListener("mousedown",T),document.removeEventListener("touchstart",T)}},[]);const C=ie.useMemo(()=>{if(n)return n;if(u){const T=u.toBase58();return T.slice(0,4)+".."+T.slice(-4)}else return s==="connecting"||s==="has-wallet"?e[s]:e["no-wallet"]},[s,n,e,u]);return _e.createElement("div",{className:"wallet-adapter-dropdown"},_e.createElement(cT,{...t,"aria-expanded":k,style:{pointerEvents:k?"none":"auto",...t.style},onClick:()=>{switch(s){case"no-wallet":r(!0);break;case"has-wallet":o&&o();break;case"connected":S(!0);break}},walletIcon:d,walletName:p},C),_e.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${k&&"wallet-adapter-dropdown-list-active"}`,ref:N,role:"menu"},u?_e.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(u.toBase58()),_(!0),setTimeout(()=>_(!1),400)},role:"menuitem"},w?e.copied:e["copy-address"]):null,_e.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),S(!1)},role:"menuitem"},e["change-wallet"]),l?_e.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{l(),S(!1)},role:"menuitem"},e.disconnect):null))}const Kv=({id:n,children:e,expanded:t=!1})=>{const r=ie.useRef(null),s=ie.useRef(!0),o="height 250ms ease-out",l=()=>{const d=r.current;d&&requestAnimationFrame(()=>{d.style.height=d.scrollHeight+"px"})},u=()=>{const d=r.current;d&&requestAnimationFrame(()=>{d.style.height=d.offsetHeight+"px",d.style.overflow="hidden",requestAnimationFrame(()=>{d.style.height="0"})})};return ie.useLayoutEffect(()=>{t?l():u()},[t]),ie.useLayoutEffect(()=>{const d=r.current;if(!d)return;function p(){d&&(d.style.overflow=t?"initial":"hidden",t&&(d.style.height="auto"))}function w(_){d&&_.target===d&&_.propertyName==="height"&&p()}return s.current&&(p(),s.current=!1),d.addEventListener("transitionend",w),()=>d.removeEventListener("transitionend",w)},[t]),_e.createElement("div",{className:"wallet-adapter-collapse",id:n,ref:r,role:"region",style:{height:0,transition:s.current?void 0:o}},e)},A0=({handleClick:n,tabIndex:e,wallet:t})=>_e.createElement("li",null,_e.createElement(bx,{onClick:n,startIcon:_e.createElement(xx,{wallet:t}),tabIndex:e},t.adapter.name,t.readyState===Qe.Installed&&_e.createElement("span",null,"Detected"))),dT=()=>_e.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_e.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),_e.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),_e.createElement("g",{clipPath:"url(#clip0_880_5115)"},_e.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),_e.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),_e.createElement("defs",null,_e.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},_e.createElement("stop",{stopColor:"#9945FF"}),_e.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),_e.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),_e.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),_e.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),_e.createElement("stop",{offset:"1",stopColor:"#00D18C"})),_e.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},_e.createElement("stop",{stopColor:"#9945FF"}),_e.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),_e.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),_e.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),_e.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),_e.createElement("stop",{offset:"1",stopColor:"#00D18C"})),_e.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},_e.createElement("stop",{stopColor:"#9945FF"}),_e.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),_e.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),_e.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),_e.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),_e.createElement("stop",{offset:"1",stopColor:"#00D18C"})),_e.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},_e.createElement("stop",{stopColor:"#9945FF"}),_e.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),_e.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),_e.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),_e.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),_e.createElement("stop",{offset:"1",stopColor:"#00D18C"})),_e.createElement("clipPath",{id:"clip0_880_5115"},_e.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),hT=({className:n="",container:e="body"})=>{const t=ie.useRef(null),{wallets:r,select:s}=Rd(),{setVisible:o}=vx(),[l,u]=ie.useState(!1),[d,p]=ie.useState(!1),[w,_]=ie.useState(null),[k,S]=ie.useMemo(()=>{const U=[],G=[];for(const te of r)te.readyState===Qe.Installed?U.push(te):G.push(te);return U.length?[U,G]:[G,[]]},[r]),N=ie.useCallback(()=>{p(!1),setTimeout(()=>o(!1),150)},[o]),C=ie.useCallback(U=>{U.preventDefault(),N()},[N]),T=ie.useCallback((U,G)=>{s(G),C(U)},[s,C]),z=ie.useCallback(()=>u(!l),[l]),F=ie.useCallback(U=>{const G=t.current;if(!G)return;const te=G.querySelectorAll("button"),X=te[0],de=te[te.length-1];U.shiftKey?document.activeElement===X&&(de.focus(),U.preventDefault()):document.activeElement===de&&(X.focus(),U.preventDefault())},[t]);return ie.useLayoutEffect(()=>{const U=te=>{te.key==="Escape"?N():te.key==="Tab"&&F(te)},{overflow:G}=window.getComputedStyle(document.body);return setTimeout(()=>p(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",U,!1),()=>{document.body.style.overflow=G,window.removeEventListener("keydown",U,!1)}},[N,F]),ie.useLayoutEffect(()=>_(document.querySelector(e)),[e]),w&&yE.createPortal(_e.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${d&&"wallet-adapter-modal-fade-in"} ${n}`,ref:t,role:"dialog"},_e.createElement("div",{className:"wallet-adapter-modal-container"},_e.createElement("div",{className:"wallet-adapter-modal-wrapper"},_e.createElement("button",{onClick:C,className:"wallet-adapter-modal-button-close"},_e.createElement("svg",{width:"14",height:"14"},_e.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),k.length?_e.createElement(_e.Fragment,null,_e.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),_e.createElement("ul",{className:"wallet-adapter-modal-list"},k.map(U=>_e.createElement(A0,{key:U.adapter.name,handleClick:G=>T(G,U.adapter.name),wallet:U})),S.length?_e.createElement(Kv,{expanded:l,id:"wallet-adapter-modal-collapse"},S.map(U=>_e.createElement(A0,{key:U.adapter.name,handleClick:G=>T(G,U.adapter.name),tabIndex:l?0:-1,wallet:U}))):null),S.length?_e.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:z,tabIndex:0},_e.createElement("span",null,l?"Less ":"More ","options"),_e.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${l?"wallet-adapter-modal-list-more-icon-rotate":""}`},_e.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):_e.createElement(_e.Fragment,null,_e.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),_e.createElement("div",{className:"wallet-adapter-modal-middle"},_e.createElement(dT,null)),S.length?_e.createElement(_e.Fragment,null,_e.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:z,tabIndex:0},_e.createElement("span",null,l?"Hide ":"Already have a wallet? View ","options"),_e.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${l?"wallet-adapter-modal-list-more-icon-rotate":""}`},_e.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),_e.createElement(Kv,{expanded:l,id:"wallet-adapter-modal-collapse"},_e.createElement("ul",{className:"wallet-adapter-modal-list"},S.map(U=>_e.createElement(A0,{key:U.adapter.name,handleClick:G=>T(G,U.adapter.name),tabIndex:l?0:-1,wallet:U}))))):null))),_e.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:C})),w)},fT=({children:n,...e})=>{const[t,r]=ie.useState(!1);return _e.createElement(wx.Provider,{value:{visible:t,setVisible:r}},n,t&&_e.createElement(hT,{...e}))},pT={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function Vv(n){return _e.createElement(uT,{...n,labels:pT})}const gT="modulepreload",mT=function(n){return"/"+n},Hv={},_x=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let l=function(p){return Promise.all(p.map(w=>Promise.resolve(w).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=l(t.map(p=>{if(p=mT(p),p in Hv)return;Hv[p]=!0;const w=p.endsWith(".css"),_=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const k=document.createElement("link");if(k.rel=w?"stylesheet":gT,w||(k.as="script"),k.crossOrigin="",k.href=p,d&&k.setAttribute("nonce",d),document.head.appendChild(k),w)return new Promise((S,N)=>{k.addEventListener("load",S),k.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},yT="Phantom";class wT extends cg{constructor(e={}){super(),this.name=yT,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Qe.Unsupported:Qe.NotDetected,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new ag),this.emit("disconnect"))},this._accountChanged=t=>{const r=this._publicKey;if(r){try{t=new Pe(t.toBytes())}catch(s){this.emit("error",new ya(s==null?void 0:s.message,s));return}r.equals(t)||(this._publicKey=t,this.emit("connect",t))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Qe.Unsupported&&(H0()?(this._readyState=Qe.Loadable,this.emit("readyStateChange",this._readyState)):Yb(()=>{var t,r,s;return(r=(t=window.phantom)==null?void 0:t.solana)!=null&&r.isPhantom||(s=window.solana)!=null&&s.isPhantom?(this._readyState=Qe.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===Qe.Installed&&await this.connect()}async connect(){var e;try{if(this.connected||this.connecting)return;if(this.readyState===Qe.Loadable){const s=encodeURIComponent(window.location.href),o=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${s}?ref=${o}`;return}if(this.readyState!==Qe.Installed)throw new Js;this._connecting=!0;const t=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!t.isConnected)try{await t.connect()}catch(s){throw new Xs(s==null?void 0:s.message,s)}if(!t.publicKey)throw new Ws;let r;try{r=new Pe(t.publicKey.toBytes())}catch(s){throw new ya(s==null?void 0:s.message,s)}t.on("disconnect",this._disconnected),t.on("accountChanged",this._accountChanged),this._wallet=t,this._publicKey=r,this.emit("connect",r)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(t){this.emit("error",new lg(t==null?void 0:t.message,t))}}this.emit("disconnect")}async sendTransaction(e,t,r={}){try{const s=this._wallet;if(!s)throw new ir;try{const{signers:o,...l}=r;vi(e)?o!=null&&o.length&&e.sign(o):(e=await this.prepareTransaction(e,t,l),o!=null&&o.length&&e.partialSign(...o)),l.preflightCommitment=l.preflightCommitment||t.commitment;const{signature:u}=await s.signAndSendTransaction(e,l);return u}catch(o){throw o instanceof _r?o:new wi(o==null?void 0:o.message,o)}}catch(s){throw this.emit("error",s),s}}async signTransaction(e){try{const t=this._wallet;if(!t)throw new ir;try{return await t.signTransaction(e)||e}catch(r){throw new zn(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const t=this._wallet;if(!t)throw new ir;try{return await t.signAllTransactions(e)||e}catch(r){throw new zn(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const t=this._wallet;if(!t)throw new ir;try{const{signature:r}=await t.signMessage(e);return r}catch(r){throw new Id(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}}}const vT="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var dt=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},bT=function(n,e,t,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(n,t):s?s.value=t:e.set(n,t),t},$u,Hs,fp,pp,gp,qr,mp,Sx,Ex,yp,wp,vp,bp,xp;class xT{constructor(){$u.add(this),Hs.set(this,{}),fp.set(this,"1.0.0"),pp.set(this,"MetaMask"),gp.set(this,vT),qr.set(this,null),mp.set(this,(e,t)=>{var r;return(r=dt(this,Hs,"f")[e])!=null&&r.push(t)||(dt(this,Hs,"f")[e]=[t]),()=>dt(this,$u,"m",Ex).call(this,e,t)}),yp.set(this,async()=>{if(!dt(this,qr,"f")){let e;try{e=(await _x(async()=>{const{default:t}=await import("./index-rr-r0XYR.js");return{default:t}},__vite__mapDeps([0,1]))).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}bT(this,qr,new e,"f"),dt(this,qr,"f").on("standard_change",t=>dt(this,$u,"m",Sx).call(this,"change",t))}return this.accounts.length||await dt(this,qr,"f").connect(),{accounts:this.accounts}}),wp.set(this,async()=>{dt(this,qr,"f")&&await dt(this,qr,"f").disconnect()}),vp.set(this,async(...e)=>{if(!dt(this,qr,"f"))throw new ir;return await dt(this,qr,"f").standardSignAndSendTransaction(...e)}),bp.set(this,async(...e)=>{if(!dt(this,qr,"f"))throw new ir;return await dt(this,qr,"f").standardSignTransaction(...e)}),xp.set(this,async(...e)=>{if(!dt(this,qr,"f"))throw new ir;return await dt(this,qr,"f").standardSignMessage(...e)})}get version(){return dt(this,fp,"f")}get name(){return dt(this,pp,"f")}get icon(){return dt(this,gp,"f")}get chains(){return[Dl,tx,rx]}get features(){return{[Nd]:{version:"1.0.0",connect:dt(this,yp,"f")},[od]:{version:"1.0.0",disconnect:dt(this,wp,"f")},[Td]:{version:"1.0.0",on:dt(this,mp,"f")},[Yr]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:dt(this,vp,"f")},[Ut]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:dt(this,bp,"f")},[gi]:{version:"1.0.0",signMessage:dt(this,xp,"f")}}}get accounts(){return dt(this,qr,"f")?dt(this,qr,"f").standardAccounts:[]}}Hs=new WeakMap,fp=new WeakMap,pp=new WeakMap,gp=new WeakMap,qr=new WeakMap,mp=new WeakMap,yp=new WeakMap,wp=new WeakMap,vp=new WeakMap,bp=new WeakMap,xp=new WeakMap,$u=new WeakSet,Sx=function(e,...t){var r;(r=dt(this,Hs,"f")[e])==null||r.forEach(s=>s.apply(null,t))},Ex=function(e,t){var r;dt(this,Hs,"f")[e]=(r=dt(this,Hs,"f")[e])==null?void 0:r.filter(s=>t!==s)};let Gv=!1;function _T(){Gv||(D4(new xT),Gv=!0)}async function ST(){const n="solflare-detect-metamask";function e(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:n,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function t(r){var o,l;const s=r.data;(s==null?void 0:s.target)==="metamask-inpage"&&((o=s.data)==null?void 0:o.name)==="metamask-provider"&&(((l=s.data.data)==null?void 0:l.id)===n?(window.removeEventListener("message",t),s.data.data.error||_T()):e())}window.addEventListener("message",t),window.setTimeout(()=>window.removeEventListener("message",t),5e3),e()}const ET="Solflare";class kT extends cg{constructor(e={}){super(),this.name=ET,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJTIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiMwMjA1MGE7c3Ryb2tlOiNmZmVmNDY7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOi41cHg7fS5jbHMtMntmaWxsOiNmZmVmNDY7fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiByeD0iMTIiIHJ5PSIxMiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTI0LjIzLDI2LjQybDIuNDYtMi4zOCw0LjU5LDEuNWMzLjAxLDEsNC41MSwyLjg0LDQuNTEsNS40MywwLDEuOTYtLjc1LDMuMjYtMi4yNSw0LjkzbC0uNDYuNS4xNy0xLjE3Yy42Ny00LjI2LS41OC02LjA5LTQuNzItNy40M2wtNC4zLTEuMzhoMFpNMTguMDUsMTEuODVsMTIuNTIsNC4xNy0yLjcxLDIuNTktNi41MS0yLjE3Yy0yLjI1LS43NS0zLjAxLTEuOTYtMy4zLTQuNTF2LS4wOGgwWk0xNy4zLDMzLjA2bDIuODQtMi43MSw1LjM0LDEuNzVjMi44LjkyLDMuNzYsMi4xMywzLjQ2LDUuMThsLTExLjY1LTQuMjJoMFpNMTMuNzEsMjAuOTVjMC0uNzkuNDItMS41NCwxLjEzLTIuMTcuNzUsMS4wOSwyLjA1LDIuMDUsNC4wOSwyLjcxbDQuNDIsMS40Ni0yLjQ2LDIuMzgtNC4zNC0xLjQyYy0yLS42Ny0yLjg0LTEuNjctMi44NC0yLjk2TTI2LjgyLDQyLjg3YzkuMTgtNi4wOSwxNC4xMS0xMC4yMywxNC4xMS0xNS4zMiwwLTMuMzgtMi01LjI2LTYuNDMtNi43MmwtMy4zNC0xLjEzLDkuMTQtOC43Ny0xLjg0LTEuOTYtMi43MSwyLjM4LTEyLjgxLTQuMjJjLTMuOTcsMS4yOS04Ljk3LDUuMDktOC45Nyw4Ljg5LDAsLjQyLjA0LjgzLjE3LDEuMjktMy4zLDEuODgtNC42MywzLjYzLTQuNjMsNS44LDAsMi4wNSwxLjA5LDQuMDksNC41NSw1LjIybDIuNzUuOTItOS41Miw5LjE0LDEuODQsMS45NiwyLjk2LTIuNzEsMTQuNzMsNS4yMmgwWiIvPjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Qe.Unsupported:Qe.Loadable,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new ag),this.emit("disconnect"))},this._accountChanged=t=>{if(!t)return;const r=this._publicKey;if(r){try{t=new Pe(t.toBytes())}catch(s){this.emit("error",new ya(s==null?void 0:s.message,s));return}r.equals(t)||(this._publicKey=t,this.emit("connect",t))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==Qe.Unsupported&&(Yb(()=>{var t;return(t=window.solflare)!=null&&t.isSolflare||window.SolflareApp?(this._readyState=Qe.Installed,this.emit("readyStateChange",this._readyState),!0):!1}),ST())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===Qe.Loadable&&H0()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Qe.Loadable&&this._readyState!==Qe.Installed)throw new Js;if(this.readyState===Qe.Loadable&&H0()){const s=encodeURIComponent(window.location.href),o=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${s}?ref=${o}`;return}let e;try{e=(await _x(async()=>{const{default:s}=await import("./index-BJhdqYV0.js");return{default:s}},__vite__mapDeps([2,1]))).default}catch(s){throw new KI(s==null?void 0:s.message,s)}let t;try{t=new e({network:this._config.network})}catch(s){throw new oa(s==null?void 0:s.message,s)}if(this._connecting=!0,!t.connected)try{await t.connect()}catch(s){throw new Xs(s==null?void 0:s.message,s)}if(!t.publicKey)throw new Xs;let r;try{r=new Pe(t.publicKey.toBytes())}catch(s){throw new ya(s==null?void 0:s.message,s)}t.on("disconnect",this._disconnected),t.on("accountChanged",this._accountChanged),this._wallet=t,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(t){this.emit("error",new lg(t==null?void 0:t.message,t))}}this.emit("disconnect")}async sendTransaction(e,t,r={}){try{const s=this._wallet;if(!s)throw new ir;try{const{signers:o,...l}=r;return vi(e)?o!=null&&o.length&&e.sign(o):(e=await this.prepareTransaction(e,t,l),o!=null&&o.length&&e.partialSign(...o)),l.preflightCommitment=l.preflightCommitment||t.commitment,await s.signAndSendTransaction(e,l)}catch(o){throw o instanceof _r?o:new wi(o==null?void 0:o.message,o)}}catch(s){throw this.emit("error",s),s}}async signTransaction(e){try{const t=this._wallet;if(!t)throw new ir;try{return await t.signTransaction(e)||e}catch(r){throw new zn(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const t=this._wallet;if(!t)throw new ir;try{return await t.signAllTransactions(e)||e}catch(r){throw new zn(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const t=this._wallet;if(!t)throw new ir;try{return await t.signMessage(e,"utf8")}catch(r){throw new Id(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}}}const AT=({children:n})=>{const e=G0.Devnet,t=ie.useMemo(()=>$I(e),[e]),r=ie.useMemo(()=>[new wT,new kT],[]);return A.jsx(qI,{endpoint:t,children:A.jsx(aT,{wallets:r,autoConnect:!0,children:A.jsx(fT,{children:n})})})};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=(n,e)=>{const t=ie.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:u="",children:d,...p},w)=>ie.createElement("svg",{ref:w,...MT,width:s,height:s,stroke:r,strokeWidth:l?Number(o)*24/Number(s):o,className:["lucide",`lucide-${IT(n)}`,u].join(" "),...p},[...e.map(([_,k])=>ie.createElement(_,k)),...Array.isArray(d)?d:[d]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=mt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=mt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=mt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=mt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=mt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=mt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=mt("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=mt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=mt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=mt("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=mt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=mt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=mt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=mt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=mt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=mt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=mt("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=mt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=mt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=mt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=mt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=mt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=mt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=mt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=mt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=mt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=mt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),bi=({variant:n="primary",size:e="default",loading:t=!1,children:r,className:s="",disabled:o,...l})=>{const u="font-semibold rounded-md transition-all duration-normal ease-cyber inline-flex items-center justify-center gap-2",d={primary:"bg-gradient-cyber-primary text-white shadow-cyber-md hover:-translate-y-0.5 hover:shadow-glow-primary active:translate-y-0 active:shadow-cyber-md disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 disabled:hover:shadow-cyber-md",secondary:"bg-cyber-blue-50 text-cyber-blue-700 border border-cyber-blue-200 shadow-cyber-sm hover:bg-cyber-blue-100 hover:border-cyber-blue-300 hover:-translate-y-0.5 hover:shadow-cyber-md active:translate-y-0 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0",outline:"border-2 border-cyber-blue-500 text-cyber-blue-600 bg-transparent hover:bg-cyber-blue-50 hover:-translate-y-0.5 hover:shadow-cyber-sm active:translate-y-0 disabled:border-neutral-200 disabled:text-neutral-400 disabled:cursor-not-allowed disabled:hover:bg-transparent"},p={small:"h-10 px-4 text-sm",default:"h-12 px-6 text-base",large:"h-14 px-8 text-lg"};return A.jsxs("button",{className:`${u} ${d[n]} ${p[e]} ${s}`,disabled:o||t,...l,children:[t&&A.jsx(kx,{className:"w-5 h-5 animate-spin"}),r]})},$T=()=>{const n=ql(),[e,t]=ie.useState(!1),r=o=>n.pathname===o,s=[{path:"/",label:"Home"},{path:"/dashboard",label:"Dashboard"},{path:"/technology",label:"Technology"},{path:"/about",label:"About"}];return A.jsx("nav",{className:"sticky top-0 z-50 backdrop-blur-xl border-b border-cyber-blue-100",style:{background:"rgba(250, 250, 250, 0.95)"},children:A.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-12",children:[A.jsxs("div",{className:"flex items-center justify-between h-16",children:[A.jsxs(_f,{to:"/",className:"flex items-center gap-2 group",children:[A.jsx("div",{className:"p-1.5 rounded-lg bg-gradient-cyber-primary shadow-cyber-md group-hover:shadow-glow-primary transition-all duration-normal",children:A.jsx(Fn,{className:"w-6 h-6 text-white"})}),A.jsx("span",{className:"text-xl font-bold font-heading text-neutral-800",children:"ZKProtocol"})]}),A.jsx("div",{className:"hidden md:flex items-center gap-8",children:s.map(o=>A.jsxs(_f,{to:o.path,className:`text-base font-medium transition-all duration-normal relative ${r(o.path)?"text-cyber-blue-600":"text-neutral-600 hover:text-cyber-blue-600"}`,children:[o.label,r(o.path)&&A.jsx("span",{className:"absolute -bottom-1 left-0 right-0 h-0.5 bg-gradient-cyber-primary rounded-full"})]},o.path))}),A.jsx("div",{className:"hidden md:block",children:A.jsx(bi,{onClick:()=>window.location.href="/dashboard",children:"Connect Wallet"})}),A.jsx("button",{onClick:()=>t(!e),className:"md:hidden p-2 text-neutral-600 hover:text-cyber-blue-600 transition-colors",children:e?A.jsx(WT,{size:24}):A.jsx(BT,{size:24})})]}),e&&A.jsx("div",{className:"md:hidden py-4 border-t border-cyber-blue-100 backdrop-blur-xl",style:{background:"rgba(250, 250, 250, 0.98)"},children:A.jsxs("div",{className:"flex flex-col gap-4",children:[s.map(o=>A.jsx(_f,{to:o.path,onClick:()=>t(!1),className:`text-base font-medium py-2 transition-colors ${r(o.path)?"text-cyber-blue-600":"text-neutral-600 hover:text-cyber-blue-600"}`,children:o.label},o.path)),A.jsx(bi,{onClick:()=>{t(!1),window.location.href="/dashboard"},children:"Connect Wallet"})]})})]})})},qT=()=>A.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[A.jsxs("section",{className:"relative py-24 px-6 lg:px-12 overflow-hidden",children:[A.jsx("div",{className:"absolute inset-0 bg-gradient-cyber-subtle"}),A.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-cyber-blue-500 rounded-full opacity-10 blur-3xl"}),A.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-cyber-purple-500 rounded-full opacity-10 blur-3xl"}),A.jsxs("div",{className:"relative max-w-5xl mx-auto text-center",children:[A.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full text-cyber-blue-700 text-sm font-medium mb-6 backdrop-blur-xl border border-cyber-blue-200",style:{background:"rgba(255, 255, 255, 0.9)"},children:[A.jsx(Fn,{className:"w-4 h-4"}),"Military-Grade Security"]}),A.jsxs("h1",{className:"text-5xl lg:text-6xl font-bold font-heading text-neutral-800 mb-6 leading-tight",children:["True Privacy on Solana",A.jsx("br",{}),A.jsx("span",{className:"bg-gradient-cyber-primary bg-clip-text text-transparent",children:"ZKProtocol"})]}),A.jsx("p",{className:"text-xl text-neutral-600 max-w-2xl mx-auto mb-8 leading-relaxed",children:"Private transactions with lightning-fast speed using ZK-SNARKs and Pedersen commitments. Complete privacy without KYC."}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[A.jsxs(bi,{size:"large",onClick:()=>window.location.href="/dashboard",children:["Start Private Trading",A.jsx(qu,{className:"w-5 h-5"})]}),A.jsx(bi,{variant:"outline",size:"large",onClick:()=>window.location.href="/technology",children:"Learn Technology"})]})]})]}),A.jsx("section",{className:"py-16 px-6 lg:px-12",children:A.jsx("div",{className:"max-w-7xl mx-auto",children:A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Finality Time",value:"<1s",icon:hs,accent:"cyber-cyan"},{label:"Transaction Fee",value:"$0.01",icon:dg,accent:"cyber-blue"},{label:"Privacy Level",value:"100%",icon:hd,accent:"cyber-purple"},{label:"KYC Required",value:"None",icon:ds,accent:"cyber-cyan"}].map(n=>A.jsxs("div",{className:"backdrop-blur-xl border border-cyber-blue-200 rounded-lg p-8 shadow-cyber-md hover:shadow-cyber-lg hover:-translate-y-1 transition-all duration-normal group",style:{background:"rgba(255, 255, 255, 0.9)"},children:[A.jsx("div",{className:"w-12 h-12 bg-gradient-cyber-primary rounded-lg flex items-center justify-center mb-4 shadow-cyber-sm group-hover:shadow-glow-primary transition-all duration-normal",children:A.jsx(n.icon,{className:"w-6 h-6 text-white"})}),A.jsx("div",{className:"text-4xl font-bold font-heading text-neutral-800 mb-2",children:n.value}),A.jsx("div",{className:"text-sm text-neutral-600",children:n.label})]},n.label))})})}),A.jsx("section",{className:"py-24 px-6 lg:px-12 bg-white",children:A.jsxs("div",{className:"max-w-7xl mx-auto",children:[A.jsx("h2",{className:"text-4xl font-bold font-heading text-center text-neutral-800 mb-4",children:"Leading Privacy Features"}),A.jsx("p",{className:"text-xl text-center text-neutral-600 mb-16 max-w-2xl mx-auto",children:"Comprehensive platform for private transactions on Solana ecosystem"}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{title:"Private Deposits",description:"Store assets with Zero Knowledge proofs. No one can track your on-chain deposits.",icon:hd},{title:"Private Trading",description:"Trade tokens with complete privacy. Your trading strategy stays confidential with ZK-SNARKs.",icon:jT},{title:"Cross-Chain Bridge",description:"Bridge private assets between Ethereum and Solana with layered security and guaranteed privacy.",icon:qu}].map(n=>A.jsxs("div",{className:"backdrop-blur-xl border border-cyber-blue-200 rounded-lg p-8 shadow-cyber-md hover:shadow-cyber-lg hover:-translate-y-2 transition-all duration-normal group",style:{background:"rgba(255, 255, 255, 0.8)"},children:[A.jsx("div",{className:"w-16 h-16 bg-gradient-cyber-subtle rounded-lg flex items-center justify-center mb-6 border border-cyber-blue-100 shadow-cyber-sm group-hover:shadow-glow-primary transition-all duration-normal",children:A.jsx(n.icon,{className:"w-8 h-8 text-cyber-blue-600"})}),A.jsx("h3",{className:"text-2xl font-semibold font-heading text-neutral-800 mb-3",children:n.title}),A.jsx("p",{className:"text-neutral-600 leading-relaxed",children:n.description})]},n.title))})]})}),A.jsx("section",{className:"py-24 px-6 lg:px-12 bg-gradient-cyber-subtle",children:A.jsxs("div",{className:"max-w-5xl mx-auto",children:[A.jsxs("div",{className:"text-center mb-16",children:[A.jsx("h2",{className:"text-4xl font-bold font-heading text-neutral-800 mb-4",children:"User Flow"}),A.jsx("p",{className:"text-xl text-neutral-600 max-w-2xl mx-auto",children:"Simple steps to start trading with complete privacy on ZKProtocol"})]}),A.jsx("div",{className:"space-y-8",children:[{step:"01",title:"Connect Your Wallet",description:"Install Solana wallet extension (Phantom or Solflare) and connect to ZKProtocol dashboard. Start with complete privacy controls at your fingertips.",icon:FT,benefits:["Phantom & Solflare supported","Solana Devnet ready","Instant connection"]},{step:"02",title:"Set Privacy Level",description:"Choose Standard, Enhanced, or Maximum privacy level. Enable ZK proof verification and configure transaction mixing level from 1 to 10 for optimal anonymity.",icon:Ax,benefits:["3 privacy levels","Dynamic privacy score","Custom mixing controls"]},{step:"03",title:"Private Transaction",description:"Deposit assets with cryptographic shielding, trade tokens privately via Jupiter aggregator, or transfer funds with complete confidentiality. All protected by ZK-SNARKs.",icon:Vu,benefits:["Private swap & transfer","Cross-chain bridge","Real-time pricing"]},{step:"04",title:"Privacy Verification",description:"Real-time ZK proof generation and verification. Transaction confirmed with cryptographic guarantee. Privacy metadata logged for transparency without revealing sensitive data.",icon:ds,benefits:["ZK-SNARKs verification","On-chain confirmation","Privacy preserved"]}].map((n,e)=>A.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 backdrop-blur-xl border border-cyber-blue-200 rounded-lg p-8 shadow-cyber-md hover:shadow-cyber-lg transition-all duration-normal",style:{background:"rgba(255, 255, 255, 0.9)"},children:[A.jsx("div",{className:"flex-shrink-0",children:A.jsx("div",{className:"w-16 h-16 bg-gradient-cyber-primary rounded-lg flex items-center justify-center shadow-glow-primary mb-4 lg:mb-0",children:A.jsx("span",{className:"text-2xl font-bold font-heading text-white",children:n.step})})}),A.jsxs("div",{className:"flex-1",children:[A.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[A.jsx("div",{className:"w-12 h-12 bg-gradient-cyber-subtle rounded-lg flex items-center justify-center border border-cyber-blue-100 shadow-cyber-sm flex-shrink-0",children:A.jsx(n.icon,{className:"w-6 h-6 text-cyber-blue-600"})}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-2xl font-semibold font-heading text-neutral-800 mb-2",children:n.title}),A.jsx("p",{className:"text-lg text-neutral-600 leading-relaxed",children:n.description})]})]}),A.jsx("div",{className:"flex flex-wrap gap-2 ml-16",children:n.benefits.map(t=>A.jsx("span",{className:"text-xs px-3 py-1.5 bg-cyber-blue-100 text-cyber-blue-700 rounded-full border border-cyber-blue-200 font-medium",children:t},t))})]})]},n.step))}),A.jsx("div",{className:"mt-12 text-center",children:A.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-cyber-cyan-400 bg-opacity-10 border border-cyber-cyan-200 text-cyber-cyan-700 text-sm font-medium",children:[A.jsx(Fn,{className:"w-4 h-4"}),"Complete Financial Privacy  Zero-Knowledge Protection  Military-Grade Security"]})})]})}),A.jsx("section",{className:"py-24 px-6 lg:px-12 bg-white",children:A.jsx("div",{className:"max-w-7xl mx-auto",children:A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-4xl font-bold font-heading text-neutral-800 mb-6",children:"Cryptographic Guarantees"}),A.jsx("p",{className:"text-lg text-neutral-600 mb-6 leading-relaxed",children:"Zero Knowledge proofs provide mathematical certainty that your transactions are private. No backdoors, no trusted parties."}),A.jsx("ul",{className:"space-y-4",children:["ZK-SNARKs for proof generation","Pedersen commitments for hiding values","Range proofs for preventing overflow","Nullifiers for preventing double-spending"].map(n=>A.jsxs("li",{className:"flex items-start gap-3",children:[A.jsx("div",{className:"w-6 h-6 bg-gradient-cyber-primary rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 shadow-cyber-sm",children:A.jsx(ds,{className:"w-4 h-4 text-white"})}),A.jsx("span",{className:"text-neutral-600",children:n})]},n))})]}),A.jsx("div",{className:"backdrop-blur-xl border border-cyber-blue-200 rounded-2xl p-12 flex items-center justify-center shadow-cyber-lg",style:{background:"rgba(255, 255, 255, 0.9)"},children:A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"w-32 h-32 bg-gradient-cyber-primary rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-glow-primary",children:A.jsx(Fn,{className:"w-16 h-16 text-white"})}),A.jsx("div",{className:"text-2xl font-bold font-heading text-neutral-800",children:"Verified Security"}),A.jsx("div",{className:"text-neutral-600 mt-2",children:"Military-Grade Encryption"})]})})]})})}),A.jsxs("section",{className:"relative py-24 px-6 lg:px-12 overflow-hidden",children:[A.jsx("div",{className:"absolute inset-0 bg-gradient-cyber-subtle"}),A.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-cyber-purple-500 rounded-full opacity-10 blur-3xl"}),A.jsxs("div",{className:"relative max-w-4xl mx-auto text-center",children:[A.jsx("h2",{className:"text-4xl font-bold font-heading text-neutral-800 mb-6",children:"Ready to Trade with Complete Privacy?"}),A.jsx("p",{className:"text-xl text-neutral-600 mb-8 leading-relaxed",children:"Connect your wallet and start private transactions on Solana in seconds."}),A.jsxs(bi,{size:"large",onClick:()=>window.location.href="/dashboard",children:["Launch ZKProtocol Dashboard",A.jsx(qu,{className:"w-5 h-5"})]})]})]})]}),Mx=ie.createContext(void 0),hg=()=>{const n=ie.useContext(Mx);if(!n)throw new Error("usePrivacy must be used within PrivacyProvider");return n},KT=({children:n})=>{const[e,t]=ie.useState({privacyLevel:"enhanced",zkProofVerification:!0,autoPrivacyToggle:!0,transactionMixingLevel:7}),l={settings:e,updateSettings:u=>{t(d=>({...d,...u}))},calculatePrivacyScore:()=>{let u=0;switch(e.privacyLevel){case"standard":u+=40;break;case"enhanced":u+=70;break;case"maximum":u+=100;break}return e.zkProofVerification&&(u+=20),e.autoPrivacyToggle&&(u+=10),u+=e.transactionMixingLevel/10*30,Math.round(u)},getPrivacyMultiplier:()=>{switch(e.privacyLevel){case"standard":return 1;case"enhanced":return 1.5;case"maximum":return 2;default:return 1}}};return A.jsx(Mx.Provider,{value:l,children:n})},VT=()=>{const{settings:n,updateSettings:e,calculatePrivacyScore:t}=hg(),r=t(),s=[{level:"standard",name:"Standard",description:"Basic privacy protection",icon:Fn,color:"cyber-blue",features:["ZK-SNARKs proof","Basic mixing","Standard fee"]},{level:"enhanced",name:"Enhanced",description:"Advanced privacy features",icon:hd,color:"cyber-purple",features:["Enhanced mixing","Multi-hop routing","Optimized fee"]},{level:"maximum",name:"Maximum",description:"Maximum privacy guarantee",icon:hs,color:"cyber-cyan",features:["Maximum mixing","Anonymity sets","Premium protection"]}],o=u=>u>=80?"text-cyber-cyan-600":u>=60?"text-cyber-purple-500":"text-cyber-blue-600",l=u=>u>=80?"bg-cyber-cyan-400":u>=60?"bg-cyber-purple-400":"bg-cyber-blue-400";return A.jsxs("div",{className:"backdrop-blur-xl border border-cyber-blue-200 rounded-lg shadow-cyber-md p-8",style:{background:"rgba(255, 255, 255, 0.9)"},children:[A.jsxs("div",{className:"flex items-center justify-between mb-6",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"w-10 h-10 bg-gradient-cyber-primary rounded-lg flex items-center justify-center shadow-cyber-sm",children:A.jsx(Ax,{className:"w-5 h-5 text-white"})}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-xl font-bold font-heading text-neutral-800",children:"Privacy Controls"}),A.jsx("p",{className:"text-sm text-neutral-600",children:"Configure your privacy settings"})]})]}),A.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-cyber-subtle border border-cyber-blue-200",children:[A.jsx(dg,{className:`w-5 h-5 ${o(r)}`}),A.jsxs("div",{className:"text-right",children:[A.jsx("div",{className:"text-xs text-neutral-600",children:"Privacy Score"}),A.jsxs("div",{className:`text-2xl font-bold font-heading ${o(r)}`,children:[r,"%"]})]})]})]}),A.jsxs("div",{className:"space-y-3 mb-6",children:[A.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-3",children:"Privacy Level"}),s.map(u=>A.jsx("button",{onClick:()=>e({privacyLevel:u.level}),className:`w-full p-4 rounded-lg border-2 transition-all duration-normal text-left ${n.privacyLevel===u.level?"border-cyber-blue-500 bg-cyber-blue-50 shadow-cyber-md":"border-cyber-blue-200 bg-white hover:border-cyber-blue-300 hover:shadow-cyber-sm"}`,children:A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx("div",{className:"w-10 h-10 bg-gradient-cyber-primary rounded-lg flex items-center justify-center flex-shrink-0 shadow-cyber-sm",children:A.jsx(u.icon,{className:"w-5 h-5 text-white"})}),A.jsxs("div",{className:"flex-1",children:[A.jsxs("div",{className:"flex items-center justify-between mb-1",children:[A.jsx("h4",{className:"font-semibold text-neutral-800",children:u.name}),n.privacyLevel===u.level&&A.jsx(ds,{className:"w-5 h-5 text-cyber-blue-600"})]}),A.jsx("p",{className:"text-sm text-neutral-600 mb-2",children:u.description}),A.jsx("div",{className:"flex flex-wrap gap-2",children:u.features.map(d=>A.jsx("span",{className:"text-xs px-2 py-1 bg-cyber-blue-100 text-cyber-blue-700 rounded border border-cyber-blue-200",children:d},d))})]})]})},u.level))]}),A.jsxs("div",{className:"space-y-4 pt-6 border-t border-cyber-blue-100",children:[A.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-3",children:"Advanced Settings"}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("div",{className:"font-medium text-neutral-800",children:"ZK Proof Verification"}),A.jsx("div",{className:"text-sm text-neutral-600",children:"Automatic proof generation"})]}),A.jsx("button",{onClick:()=>e({zkProofVerification:!n.zkProofVerification}),className:`relative w-14 h-7 rounded-full transition-all duration-normal ${n.zkProofVerification?"bg-gradient-cyber-primary shadow-glow-primary":"bg-neutral-200"}`,children:A.jsx("div",{className:`absolute top-1 left-1 w-5 h-5 bg-white rounded-full transition-transform duration-normal shadow-cyber-sm ${n.zkProofVerification?"transform translate-x-7":""}`})})]}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("div",{className:"font-medium text-neutral-800",children:"Auto Privacy Mode"}),A.jsx("div",{className:"text-sm text-neutral-600",children:"Enable privacy by default"})]}),A.jsx("button",{onClick:()=>e({autoPrivacyToggle:!n.autoPrivacyToggle}),className:`relative w-14 h-7 rounded-full transition-all duration-normal ${n.autoPrivacyToggle?"bg-gradient-cyber-primary shadow-glow-primary":"bg-neutral-200"}`,children:A.jsx("div",{className:`absolute top-1 left-1 w-5 h-5 bg-white rounded-full transition-transform duration-normal shadow-cyber-sm ${n.autoPrivacyToggle?"transform translate-x-7":""}`})})]}),A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-center justify-between mb-2",children:[A.jsx("div",{className:"font-medium text-neutral-800",children:"Transaction Mixing"}),A.jsxs("div",{className:"text-sm font-semibold text-cyber-blue-600",children:["Level ",n.transactionMixingLevel]})]}),A.jsx("input",{type:"range",min:"1",max:"10",value:n.transactionMixingLevel,onChange:u=>e({transactionMixingLevel:parseInt(u.target.value)}),className:"w-full h-2 bg-cyber-blue-100 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #3B82F6 0%, #3B82F6 ${n.transactionMixingLevel*10}%, #DBEAFE ${n.transactionMixingLevel*10}%, #DBEAFE 100%)`}}),A.jsxs("div",{className:"flex justify-between text-xs text-neutral-500 mt-1",children:[A.jsx("span",{children:"Basic"}),A.jsx("span",{children:"Maximum"})]})]})]}),A.jsx("div",{className:`mt-6 p-4 rounded-lg ${l(r)} bg-opacity-10 border ${l(r).replace("bg-","border-").replace("400","200")}`,children:A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx(ds,{className:`w-5 h-5 ${o(r)} flex-shrink-0 mt-0.5`}),A.jsxs("div",{className:`text-sm ${o(r).replace("text-","text-").replace("600","700")}`,children:[A.jsxs("div",{className:"font-semibold mb-1",children:["Privacy Protection Active - Score: ",r,"%"]}),A.jsxs("div",{children:["Your transactions are protected with ",n.privacyLevel," privacy settings"]})]})]})})]})};var Sp=function(n,e){return Sp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])},Sp(n,e)};function Ix(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Sp(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var fd=function(){return fd=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},fd.apply(this,arguments)};function _a(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function Nx(n,e,t,r){var s=arguments.length,o=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var u=n.length-1;u>=0;u--)(l=n[u])&&(o=(s<3?l(o):s>3?l(e,t,o):l(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o}function Tx(n,e){return function(t,r){e(t,r,n)}}function Cx(n,e,t,r,s,o){function l(z){if(z!==void 0&&typeof z!="function")throw new TypeError("Function expected");return z}for(var u=r.kind,d=u==="getter"?"get":u==="setter"?"set":"value",p=!e&&n?r.static?n:n.prototype:null,w=e||(p?Object.getOwnPropertyDescriptor(p,r.name):{}),_,k=!1,S=t.length-1;S>=0;S--){var N={};for(var C in r)N[C]=C==="access"?{}:r[C];for(var C in r.access)N.access[C]=r.access[C];N.addInitializer=function(z){if(k)throw new TypeError("Cannot add initializers after decoration has completed");o.push(l(z||null))};var T=(0,t[S])(u==="accessor"?{get:w.get,set:w.set}:w[d],N);if(u==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(_=l(T.get))&&(w.get=_),(_=l(T.set))&&(w.set=_),(_=l(T.init))&&s.unshift(_)}else(_=l(T))&&(u==="field"?s.unshift(_):w[d]=_)}p&&Object.defineProperty(p,r.name,w),k=!0}function Rx(n,e,t){for(var r=arguments.length>2,s=0;s<e.length;s++)t=r?e[s].call(n,t):e[s].call(n);return r?t:void 0}function jx(n){return typeof n=="symbol"?n:"".concat(n)}function Lx(n,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function Bx(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function Le(n,e,t,r){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(w){try{p(r.next(w))}catch(_){l(_)}}function d(w){try{p(r.throw(w))}catch(_){l(_)}}function p(w){w.done?o(w.value):s(w.value).then(u,d)}p((r=r.apply(n,e||[])).next())})}function Ox(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(w){return d([p,w])}}function d(p){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(t=0)),t;)try{if(r=1,s&&(o=p[0]&2?s.return:p[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,p[1])).done)return o;switch(s=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,s=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){t.label=p[1];break}if(p[0]===6&&t.label<o[1]){t.label=o[1],o=p;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(p);break}o[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(n,t)}catch(w){p=[6,w],s=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var Ld=Object.create?(function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}):(function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]});function Px(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ld(e,n,t)}function pd(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fg(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),s,o=[],l;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(u){l={error:u}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(l)throw l.error}}return o}function Ux(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(fg(arguments[e]));return n}function Dx(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),s=0,e=0;e<t;e++)for(var o=arguments[e],l=0,u=o.length;l<u;l++,s++)r[s]=o[l];return r}function zx(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}function wa(n){return this instanceof wa?(this.v=n,this):new wa(n)}function Fx(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),s[Symbol.asyncIterator]=function(){return this},s;function l(S){return function(N){return Promise.resolve(N).then(S,_)}}function u(S,N){r[S]&&(s[S]=function(C){return new Promise(function(T,z){o.push([S,C,T,z])>1||d(S,C)})},N&&(s[S]=N(s[S])))}function d(S,N){try{p(r[S](N))}catch(C){k(o[0][3],C)}}function p(S){S.value instanceof wa?Promise.resolve(S.value.v).then(w,_):k(o[0][2],S)}function w(S){d("next",S)}function _(S){d("throw",S)}function k(S,N){S(N),o.shift(),o.length&&d(o[0][0],o[0][1])}}function Wx(n){var e,t;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,o){e[s]=n[s]?function(l){return(t=!t)?{value:wa(n[s](l)),done:!1}:o?o(l):l}:o}}function $x(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof pd=="function"?pd(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(l){return new Promise(function(u,d){l=n[o](l),s(u,d,l.done,l.value)})}}function s(o,l,u,d){Promise.resolve(d).then(function(p){o({value:p,done:u})},l)}}function qx(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var HT=Object.create?(function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}):function(n,e){n.default=e},Ep=function(n){return Ep=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},Ep(n)};function Kx(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t=Ep(n),r=0;r<t.length;r++)t[r]!=="default"&&Ld(e,n,t[r]);return HT(e,n),e}function Vx(n){return n&&n.__esModule?n:{default:n}}function Hx(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function Gx(n,e,t,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(n,t):s?s.value=t:e.set(n,t),t}function Yx(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function Zx(n,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],t&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),n.stack.push({value:e,dispose:r,async:t})}else t&&n.stack.push({async:!0});return e}var GT=typeof SuppressedError=="function"?SuppressedError:function(n,e,t){var r=new Error(t);return r.name="SuppressedError",r.error=n,r.suppressed=e,r};function Qx(n){function e(o){n.error=n.hasError?new GT(o,n.error,"An error was suppressed during disposal."):o,n.hasError=!0}var t,r=0;function s(){for(;t=n.stack.pop();)try{if(!t.async&&r===1)return r=0,n.stack.push(t),Promise.resolve().then(s);if(t.dispose){var o=t.dispose.call(t.value);if(t.async)return r|=2,Promise.resolve(o).then(s,function(l){return e(l),s()})}else r|=1}catch(l){e(l)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return s()}function Jx(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,r,s,o,l){return r?e?".jsx":".js":s&&(!o||!l)?t:s+o+"."+l.toLowerCase()+"js"}):n}const YT={__extends:Ix,__assign:fd,__rest:_a,__decorate:Nx,__param:Tx,__esDecorate:Cx,__runInitializers:Rx,__propKey:jx,__setFunctionName:Lx,__metadata:Bx,__awaiter:Le,__generator:Ox,__createBinding:Ld,__exportStar:Px,__values:pd,__read:fg,__spread:Ux,__spreadArrays:Dx,__spreadArray:zx,__await:wa,__asyncGenerator:Fx,__asyncDelegator:Wx,__asyncValues:$x,__makeTemplateObject:qx,__importStar:Kx,__importDefault:Vx,__classPrivateFieldGet:Hx,__classPrivateFieldSet:Gx,__classPrivateFieldIn:Yx,__addDisposableResource:Zx,__disposeResources:Qx,__rewriteRelativeImportExtension:Jx},ZT=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Zx,get __assign(){return fd},__asyncDelegator:Wx,__asyncGenerator:Fx,__asyncValues:$x,__await:wa,__awaiter:Le,__classPrivateFieldGet:Hx,__classPrivateFieldIn:Yx,__classPrivateFieldSet:Gx,__createBinding:Ld,__decorate:Nx,__disposeResources:Qx,__esDecorate:Cx,__exportStar:Px,__extends:Ix,__generator:Ox,__importDefault:Vx,__importStar:Kx,__makeTemplateObject:qx,__metadata:Bx,__param:Tx,__propKey:jx,__read:fg,__rest:_a,__rewriteRelativeImportExtension:Jx,__runInitializers:Rx,__setFunctionName:Lx,__spread:Ux,__spreadArray:zx,__spreadArrays:Dx,__values:pd,default:YT},Symbol.toStringTag,{value:"Module"})),QT=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class pg extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class JT extends pg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Qv extends pg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Jv extends pg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var kp;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(kp||(kp={}));class XT{constructor(e,{headers:t={},customFetch:r,region:s=kp.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=QT(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Le(this,arguments,void 0,function*(t,r={}){var s;let o,l;try{const{headers:u,method:d,body:p,signal:w,timeout:_}=r;let k={},{region:S}=r;S||(S=this.region);const N=new URL(`${this.url}/${t}`);S&&S!=="any"&&(k["x-region"]=S,N.searchParams.set("forceFunctionRegion",S));let C;p&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(k["Content-Type"]="application/octet-stream",C=p):typeof p=="string"?(k["Content-Type"]="text/plain",C=p):typeof FormData<"u"&&p instanceof FormData?C=p:(k["Content-Type"]="application/json",C=JSON.stringify(p)):C=p;let T=w;_&&(l=new AbortController,o=setTimeout(()=>l.abort(),_),w?(T=l.signal,w.addEventListener("abort",()=>l.abort())):T=l.signal);const z=yield this.fetch(N.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},k),this.headers),u),body:C,signal:T}).catch(te=>{throw new JT(te)}),F=z.headers.get("x-relay-error");if(F&&F==="true")throw new Qv(z);if(!z.ok)throw new Jv(z);let U=((s=z.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),G;return U==="application/json"?G=yield z.json():U==="application/octet-stream"||U==="application/pdf"?G=yield z.blob():U==="text/event-stream"?G=z:U==="multipart/form-data"?G=yield z.formData():G=yield z.text(),{data:G,error:null,response:z}}catch(u){return{data:null,error:u,response:u instanceof Jv||u instanceof Qv?u.context:void 0}}finally{o&&clearTimeout(o)}})}}var Wr={};const Sa=wd(ZT);var gu={},mu={},yu={},wu={},vu={},bu={},Xv;function Xx(){if(Xv)return bu;Xv=1,Object.defineProperty(bu,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return bu.default=n,bu}var e1;function e_(){if(e1)return vu;e1=1,Object.defineProperty(vu,"__esModule",{value:!0});const e=Sa.__importDefault(Xx());class t{constructor(s){var o,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(o=s.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=new Headers(this.headers),this.headers.set(s,o),this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var p,w,_,k;let S=null,N=null,C=null,T=d.status,z=d.statusText;if(d.ok){if(this.method!=="HEAD"){const te=await d.text();te===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?N=te:N=JSON.parse(te))}const U=(w=this.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),G=(_=d.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");U&&G&&G.length>1&&(C=parseInt(G[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(S={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,C=null,T=406,z="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const U=await d.text();try{S=JSON.parse(U),Array.isArray(S)&&d.status===404&&(N=[],S=null,T=200,z="OK")}catch{d.status===404&&U===""?(T=204,z="No Content"):S={message:U}}if(S&&this.isMaybeSingle&&(!((k=S==null?void 0:S.details)===null||k===void 0)&&k.includes("0 rows"))&&(S=null,T=200,z="OK"),S&&this.shouldThrowOnError)throw new e.default(S)}return{error:S,data:N,count:C,status:T,statusText:z}});return this.shouldThrowOnError||(u=u.catch(d=>{var p,w,_,k,S,N;let C="";const T=d==null?void 0:d.cause;if(T){const z=(p=T==null?void 0:T.message)!==null&&p!==void 0?p:"",F=(w=T==null?void 0:T.code)!==null&&w!==void 0?w:"";C=`${(_=d==null?void 0:d.name)!==null&&_!==void 0?_:"FetchError"}: ${d==null?void 0:d.message}`,C+=`

Caused by: ${(k=T==null?void 0:T.name)!==null&&k!==void 0?k:"Error"}: ${z}`,F&&(C+=` (${F})`),T!=null&&T.stack&&(C+=`
${T.stack}`)}else C=(S=d==null?void 0:d.stack)!==null&&S!==void 0?S:"";return{error:{message:`${(N=d==null?void 0:d.name)!==null&&N!==void 0?N:"FetchError"}: ${d==null?void 0:d.message}`,details:C,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(s,o)}returns(){return this}overrideTypes(){return this}}return vu.default=t,vu}var t1;function t_(){if(t1)return wu;t1=1,Object.defineProperty(wu,"__esModule",{value:!0});const e=Sa.__importDefault(e_());class t extends e.default{select(s){let o=!1;const l=(s??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:d=u}={}){const p=d?`${d}.order`:"order",w=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${w?`${w},`:""}${s}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${s}`),this}range(s,o,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"offset":`${u}.offset`,p=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${s}`),this.url.searchParams.set(p,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:d=!1,format:p="text"}={}){var w;const _=[s?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),k=(w=this.headers.get("Accept"))!==null&&w!==void 0?w:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${k}"; options=${_};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return wu.default=t,wu}var r1;function gg(){if(r1)return yu;r1=1,Object.defineProperty(yu,"__esModule",{value:!0});const e=Sa.__importDefault(t_()),t=new RegExp("[,()]");class r extends e.default{eq(o,l){return this.url.searchParams.append(o,`eq.${l}`),this}neq(o,l){return this.url.searchParams.append(o,`neq.${l}`),this}gt(o,l){return this.url.searchParams.append(o,`gt.${l}`),this}gte(o,l){return this.url.searchParams.append(o,`gte.${l}`),this}lt(o,l){return this.url.searchParams.append(o,`lt.${l}`),this}lte(o,l){return this.url.searchParams.append(o,`lte.${l}`),this}like(o,l){return this.url.searchParams.append(o,`like.${l}`),this}likeAllOf(o,l){return this.url.searchParams.append(o,`like(all).{${l.join(",")}}`),this}likeAnyOf(o,l){return this.url.searchParams.append(o,`like(any).{${l.join(",")}}`),this}ilike(o,l){return this.url.searchParams.append(o,`ilike.${l}`),this}ilikeAllOf(o,l){return this.url.searchParams.append(o,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(o,l){return this.url.searchParams.append(o,`ilike(any).{${l.join(",")}}`),this}regexMatch(o,l){return this.url.searchParams.append(o,`match.${l}`),this}regexIMatch(o,l){return this.url.searchParams.append(o,`imatch.${l}`),this}is(o,l){return this.url.searchParams.append(o,`is.${l}`),this}isDistinct(o,l){return this.url.searchParams.append(o,`isdistinct.${l}`),this}in(o,l){const u=Array.from(new Set(l)).map(d=>typeof d=="string"&&t.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(o,`in.(${u})`),this}contains(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cs.{${l.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(l)}`),this}containedBy(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cd.{${l.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(l)}`),this}rangeGt(o,l){return this.url.searchParams.append(o,`sr.${l}`),this}rangeGte(o,l){return this.url.searchParams.append(o,`nxl.${l}`),this}rangeLt(o,l){return this.url.searchParams.append(o,`sl.${l}`),this}rangeLte(o,l){return this.url.searchParams.append(o,`nxr.${l}`),this}rangeAdjacent(o,l){return this.url.searchParams.append(o,`adj.${l}`),this}overlaps(o,l){return typeof l=="string"?this.url.searchParams.append(o,`ov.${l}`):this.url.searchParams.append(o,`ov.{${l.join(",")}}`),this}textSearch(o,l,{config:u,type:d}={}){let p="";d==="plain"?p="pl":d==="phrase"?p="ph":d==="websearch"&&(p="w");const w=u===void 0?"":`(${u})`;return this.url.searchParams.append(o,`${p}fts${w}.${l}`),this}match(o){return Object.entries(o).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(o,l,u){return this.url.searchParams.append(o,`not.${l}.${u}`),this}or(o,{foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${o})`),this}filter(o,l,u){return this.url.searchParams.append(o,`${l}.${u}`),this}}return yu.default=r,yu}var n1;function r_(){if(n1)return mu;n1=1,Object.defineProperty(mu,"__esModule",{value:!0});const e=Sa.__importDefault(gg());class t{constructor(s,{headers:o={},schema:l,fetch:u}){this.url=s,this.headers=new Headers(o),this.schema=l,this.fetch=u}select(s,o){const{head:l=!1,count:u}=o??{},d=l?"HEAD":"GET";let p=!1;const w=(s??"*").split("").map(_=>/\s/.test(_)&&!p?"":(_==='"'&&(p=!p),_)).join("");return this.url.searchParams.set("select",w),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:l=!0}={}){var u;const d="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((w,_)=>w.concat(Object.keys(_)),[]);if(p.length>0){const w=[...new Set(p)].map(_=>`"${_}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:d=!0}={}){var p;const w="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const _=s.reduce((k,S)=>k.concat(Object.keys(S)),[]);if(_.length>0){const k=[...new Set(_)].map(S=>`"${S}"`);this.url.searchParams.set("columns",k.join(","))}}return new e.default({method:w,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(s,{count:o}={}){var l;const u="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:s}={}){var o;const l="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return mu.default=t,mu}var i1;function eC(){if(i1)return gu;i1=1,Object.defineProperty(gu,"__esModule",{value:!0});const n=Sa,e=n.__importDefault(r_()),t=n.__importDefault(gg());class r{constructor(o,{headers:l={},schema:u,fetch:d}={}){this.url=o,this.headers=new Headers(l),this.schemaName=u,this.fetch=d}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const l=new URL(`${this.url}/${o}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:u=!1,get:d=!1,count:p}={}){var w;let _;const k=new URL(`${this.url}/rpc/${o}`);let S;u||d?(_=u?"HEAD":"GET",Object.entries(l).filter(([C,T])=>T!==void 0).map(([C,T])=>[C,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([C,T])=>{k.searchParams.append(C,T)})):(_="POST",S=l);const N=new Headers(this.headers);return p&&N.set("Prefer",`count=${p}`),new t.default({method:_,url:k,headers:N,schema:this.schemaName,body:S,fetch:(w=this.fetch)!==null&&w!==void 0?w:fetch})}}return gu.default=r,gu}var s1;function tC(){if(s1)return Wr;s1=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.PostgrestError=Wr.PostgrestBuilder=Wr.PostgrestTransformBuilder=Wr.PostgrestFilterBuilder=Wr.PostgrestQueryBuilder=Wr.PostgrestClient=void 0;const n=Sa,e=n.__importDefault(eC());Wr.PostgrestClient=e.default;const t=n.__importDefault(r_());Wr.PostgrestQueryBuilder=t.default;const r=n.__importDefault(gg());Wr.PostgrestFilterBuilder=r.default;const s=n.__importDefault(t_());Wr.PostgrestTransformBuilder=s.default;const o=n.__importDefault(e_());Wr.PostgrestBuilder=o.default;const l=n.__importDefault(Xx());return Wr.PostgrestError=l.default,Wr.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:l.default},Wr}var n_=tC();const i_=eo(n_),rC=k1({__proto__:null,default:i_},[n_]),{PostgrestClient:nC,PostgrestQueryBuilder:jj,PostgrestFilterBuilder:Lj,PostgrestTransformBuilder:Bj,PostgrestBuilder:Oj,PostgrestError:Pj}=i_||rC;class iC{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const r=t.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const sC="2.84.0",oC=`realtime-js/${sC}`,s_="1.0.0",aC="2.0.0",o1=s_,Ap=1e4,lC=1e3,cC=100;var Os;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Os||(Os={}));var gr;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(gr||(gr={}));var Un;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Un||(Un={}));var Mp;(function(n){n.websocket="websocket"})(Mp||(Mp={}));var Ps;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ps||(Ps={}));class uC{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r,s,o;const l=e.topic,u=(t=e.ref)!==null&&t!==void 0?t:"",d=(r=e.join_ref)!==null&&r!==void 0?r:"",p=e.payload.event,w=(o=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),_=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+p.length,k=new ArrayBuffer(this.HEADER_LENGTH+_);let S=new DataView(k),N=0;S.setUint8(N++,this.KINDS.userBroadcastPush),S.setUint8(N++,d.length),S.setUint8(N++,u.length),S.setUint8(N++,l.length),S.setUint8(N++,p.length),S.setUint8(N++,this.BINARY_ENCODING),Array.from(d,T=>S.setUint8(N++,T.charCodeAt(0))),Array.from(u,T=>S.setUint8(N++,T.charCodeAt(0))),Array.from(l,T=>S.setUint8(N++,T.charCodeAt(0))),Array.from(p,T=>S.setUint8(N++,T.charCodeAt(0)));var C=new Uint8Array(k.byteLength+w.byteLength);return C.set(new Uint8Array(k),0),C.set(new Uint8Array(w),k.byteLength),C.buffer}_encodeJsonUserBroadcastPush(e){var t,r,s,o;const l=e.topic,u=(t=e.ref)!==null&&t!==void 0?t:"",d=(r=e.join_ref)!==null&&r!==void 0?r:"",p=e.payload.event,w=(o=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:{},k=new TextEncoder().encode(JSON.stringify(w)).buffer,S=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+p.length,N=new ArrayBuffer(this.HEADER_LENGTH+S);let C=new DataView(N),T=0;C.setUint8(T++,this.KINDS.userBroadcastPush),C.setUint8(T++,d.length),C.setUint8(T++,u.length),C.setUint8(T++,l.length),C.setUint8(T++,p.length),C.setUint8(T++,this.JSON_ENCODING),Array.from(d,F=>C.setUint8(T++,F.charCodeAt(0))),Array.from(u,F=>C.setUint8(T++,F.charCodeAt(0))),Array.from(l,F=>C.setUint8(T++,F.charCodeAt(0))),Array.from(p,F=>C.setUint8(T++,F.charCodeAt(0)));var z=new Uint8Array(N.byteLength+k.byteLength);return z.set(new Uint8Array(N),0),z.set(new Uint8Array(k),N.byteLength),z.buffer}decode(e,t){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return t(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,o,l,u,d]=r;return t({join_ref:s,ref:o,topic:l,event:u,payload:d})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,s)}}_decodeUserBroadcast(e,t,r){const s=t.getUint8(1),o=t.getUint8(2),l=t.getUint8(3),u=t.getUint8(4);let d=this.HEADER_LENGTH+4;const p=r.decode(e.slice(d,d+s));d=d+s;const w=r.decode(e.slice(d,d+o));d=d+o;const _=r.decode(e.slice(d,d+l));d=d+l;const k=e.slice(d,e.byteLength),S=u===this.JSON_ENCODING?JSON.parse(r.decode(k)):k,N={type:this.BROADCAST_EVENT,event:w,payload:S};return l>0&&(N.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:N}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}}class o_{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(xt||(xt={}));const a1=(n,e,t={})=>{var r;const s=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,l)=>(o[l]=dC(l,n,e,s),o),{}):{}},dC=(n,e,t,r)=>{const s=e.find(u=>u.name===n),o=s==null?void 0:s.type,l=t[n];return o&&!r.includes(o)?a_(o,l):Ip(l)},a_=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return gC(e,t)}switch(n){case xt.bool:return hC(e);case xt.float4:case xt.float8:case xt.int2:case xt.int4:case xt.int8:case xt.numeric:case xt.oid:return fC(e);case xt.json:case xt.jsonb:return pC(e);case xt.timestamp:return mC(e);case xt.abstime:case xt.date:case xt.daterange:case xt.int4range:case xt.int8range:case xt.money:case xt.reltime:case xt.text:case xt.time:case xt.timestamptz:case xt.timetz:case xt.tsrange:case xt.tstzrange:return Ip(e);default:return Ip(e)}},Ip=n=>n,hC=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},fC=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},pC=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},gC=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let o;const l=n.slice(1,t);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>a_(e,u))}return n},mC=n=>typeof n=="string"?n.replace(" ","T"):n,l_=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class M0{constructor(e,t,r={},s=Ap){this.channel=e,this.event=t,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var l1;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(l1||(l1={}));class Tl{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tl.syncState(this.state,s,o,l),this.pendingDiffs.forEach(d=>{this.state=Tl.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Tl.syncDiff(this.state,s,o,l),u())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,s){const o=this.cloneDeep(e),l=this.transformState(t),u={},d={};return this.map(o,(p,w)=>{l[p]||(d[p]=w)}),this.map(l,(p,w)=>{const _=o[p];if(_){const k=w.map(T=>T.presence_ref),S=_.map(T=>T.presence_ref),N=w.filter(T=>S.indexOf(T.presence_ref)<0),C=_.filter(T=>k.indexOf(T.presence_ref)<0);N.length>0&&(u[p]=N),C.length>0&&(d[p]=C)}else u[p]=w}),this.syncDiff(o,{joins:u,leaves:d},r,s)}static syncDiff(e,t,r,s){const{joins:o,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(u,d)=>{var p;const w=(p=e[u])!==null&&p!==void 0?p:[];if(e[u]=this.cloneDeep(d),w.length>0){const _=e[u].map(S=>S.presence_ref),k=w.filter(S=>_.indexOf(S.presence_ref)<0);e[u].unshift(...k)}r(u,w,d)}),this.map(l,(u,d)=>{let p=e[u];if(!p)return;const w=d.map(_=>_.presence_ref);p=p.filter(_=>w.indexOf(_.presence_ref)<0),e[u]=p,s(u,p,d),p.length===0&&delete e[u]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const s=e[r];return"metas"in s?t[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var c1;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(c1||(c1={}));var Cl;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Cl||(Cl={}));var ui;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(ui||(ui={}));class mg{constructor(e,t={config:{}},r){var s,o;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=gr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new M0(this,Un.join,this.params,this.timeout),this.rejoinTimer=new o_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gr.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=gr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=gr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Un.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Tl(this),this.broadcastEndpointURL=l_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==gr.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,p=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(S=>S.filter))!==null&&s!==void 0?s:[],w=!!this.bindings[Cl.PRESENCE]&&this.bindings[Cl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,_={},k={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:w}),postgres_changes:p,private:d};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(S=>e==null?void 0:e(ui.CHANNEL_ERROR,S)),this._onClose(()=>e==null?void 0:e(ui.CLOSED)),this.updateJoinPayload(Object.assign({config:k},_)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:S})=>{var N;if(this.socket.setAuth(),S===void 0){e==null||e(ui.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,T=(N=C==null?void 0:C.length)!==null&&N!==void 0?N:0,z=[];for(let F=0;F<T;F++){const U=C[F],{filter:{event:G,schema:te,table:X,filter:de}}=U,le=S&&S[F];if(le&&le.event===G&&le.schema===te&&le.table===X&&le.filter===de)z.push(Object.assign(Object.assign({},U),{id:le.id}));else{this.unsubscribe(),this.state=gr.errored,e==null||e(ui.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=z,e&&e(ui.SUBSCRIBED);return}}).receive("error",S=>{this.state=gr.errored,e==null||e(ui.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ui.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===gr.joined&&e===Cl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var s;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const p=await u.json();d=p.error||p.message||d}catch{}return Promise.reject(new Error(d))}async send(e,t={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=p.body)===null||s===void 0?void 0:s.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,d;const p=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),p.receive("ok",()=>o("ok")),p.receive("error",()=>o("error")),p.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=gr.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Un.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new M0(this,Un.leave,{},e),r.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gr.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(o),l}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new M0(this,e,t,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>cC){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var s,o;const l=e.toLocaleLowerCase(),{close:u,error:d,leave:p,join:w}=Un;if(r&&[u,d,p,w].indexOf(l)>=0&&r!==this._joinRef())return;let k=this._onMessage(l,t,r);if(t&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(S=>{var N,C,T;return((N=S.filter)===null||N===void 0?void 0:N.event)==="*"||((T=(C=S.filter)===null||C===void 0?void 0:C.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===l}).map(S=>S.callback(k,r)):(o=this.bindings[l])===null||o===void 0||o.filter(S=>{var N,C,T,z,F,U;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in S){const G=S.id,te=(N=S.filter)===null||N===void 0?void 0:N.event;return G&&((C=t.ids)===null||C===void 0?void 0:C.includes(G))&&(te==="*"||(te==null?void 0:te.toLocaleLowerCase())===((T=t.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const G=(F=(z=S==null?void 0:S.filter)===null||z===void 0?void 0:z.event)===null||F===void 0?void 0:F.toLocaleLowerCase();return G==="*"||G===((U=t==null?void 0:t.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===l}).map(S=>{if(typeof k=="object"&&"ids"in k){const N=k.data,{schema:C,table:T,commit_timestamp:z,type:F,errors:U}=N;k=Object.assign(Object.assign({},{schema:C,table:T,commit_timestamp:z,eventType:F,new:{},old:{},errors:U}),this._getPayloadRecords(N))}S.callback(k,r)})}_isClosed(){return this.state===gr.closed}_isJoined(){return this.state===gr.joined}_isJoining(){return this.state===gr.joining}_isLeaving(){return this.state===gr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const s=e.toLocaleLowerCase(),o={type:s,filter:t,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&mg.isEqual(s.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Un.close,{},e)}_onError(e){this._on(Un.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=a1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=a1(e.columns,e.old_record)),t}}const I0=()=>{},xu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},yC=[1e3,2e3,5e3,1e4],wC=1e4,vC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bC{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ap,this.transport=null,this.heartbeatIntervalMs=xu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=I0,this.ref=0,this.reconnectTimer=null,this.vsn=o1,this.logger=I0,this.conn=null,this.sendBuffer=[],this.serializer=new uC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((r=t==null?void 0:t.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Mp.websocket}`,this.httpEndpoint=l_(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=iC.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Os.connecting:return Ps.Connecting;case Os.open:return Ps.Open;case Os.closing:return Ps.Closing;default:return Ps.Closed}}isConnected(){return this.connectionState()===Ps.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new mg(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:r,payload:s,ref:o}=e,l=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${t} ${r} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(lC,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},xu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:o,ref:l}=t,u=l?`(${l})`:"",d=o.status||"";this.log("receive",`${d} ${r} ${s} ${u}`.trim(),o),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(s,o,l)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Os.open||this.conn.readyState===Os.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Un.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${r}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([vC],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const s={access_token:t,version:oC};t&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Un.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new o_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,s,o,l,u,d,p,w,_,k,S;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Ap,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:xu.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:I0,this.vsn=(d=e==null?void 0:e.vsn)!==null&&d!==void 0?d:o1,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:(N=>yC[N-1]||wC),this.vsn){case s_:this.encode=(w=e==null?void 0:e.encode)!==null&&w!==void 0?w:((N,C)=>C(JSON.stringify(N))),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:((N,C)=>C(JSON.parse(N)));break;case aC:this.encode=(k=e==null?void 0:e.encode)!==null&&k!==void 0?k:this.serializer.encode.bind(this.serializer),this.decode=(S=e==null?void 0:e.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class yg extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ht(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class xC extends yg{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Np extends yg{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const wg=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),_C=()=>Response,Tp=n=>{if(Array.isArray(n))return n.map(t=>Tp(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const s=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=Tp(r)}),e},SC=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},N0=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},EC=(n,e,t)=>Le(void 0,void 0,void 0,function*(){const r=yield _C();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(s=>{const o=n.status||500,l=(s==null?void 0:s.statusCode)||o+"";e(new xC(N0(s),o,l))}).catch(s=>{e(new Np(N0(s),s))}):e(new Np(N0(n),n))}),kC=(n,e,t,r)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!r?s:(SC(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),t))};function Jl(n,e,t,r,s,o){return Le(this,void 0,void 0,function*(){return new Promise((l,u)=>{n(t,kC(e,r,s,o)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>EC(d,u,r))})})}function zl(n,e,t,r){return Le(this,void 0,void 0,function*(){return Jl(n,"GET",e,t,r)})}function Pn(n,e,t,r,s){return Le(this,void 0,void 0,function*(){return Jl(n,"POST",e,r,s,t)})}function Cp(n,e,t,r,s){return Le(this,void 0,void 0,function*(){return Jl(n,"PUT",e,r,s,t)})}function AC(n,e,t,r){return Le(this,void 0,void 0,function*(){return Jl(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function vg(n,e,t,r,s){return Le(this,void 0,void 0,function*(){return Jl(n,"DELETE",e,r,s,t)})}class MC{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return Le(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ht(e))return{data:null,error:e};throw e}})}}var c_;class IC{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[c_]="BlobDownloadBuilder",this.promise=null}asStream(){return new MC(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Le(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ht(e))return{data:null,error:e};throw e}})}}c_=Symbol.toStringTag;const NC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},u1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class TC{constructor(e,t={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=wg(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,s){return Le(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},u1),s);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),d&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(d))):(o=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),s!=null&&s.headers&&(u=Object.assign(Object.assign({},u),s.headers));const p=this._removeEmptyFolders(t),w=this._getFinalPath(p),_=yield(e=="PUT"?Cp:Pn)(this.fetch,`${this.url}/object/${w}`,o,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:p,id:_.Id,fullPath:_.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ht(o))return{data:null,error:o};throw o}})}upload(e,t,r){return Le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,s){return Le(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",t);try{let d;const p=Object.assign({upsert:u1.upsert},s),w=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",p.cacheControl)):(d=r,w["cache-control"]=`max-age=${p.cacheControl}`,w["content-type"]=p.contentType);const _=yield Cp(this.fetch,u.toString(),d,{headers:w});return{data:{path:o,fullPath:_.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Ht(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,t){return Le(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const o=yield Pn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new yg("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}update(e,t,r){return Le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return Le(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ht(s))return{data:null,error:s};throw s}})}copy(e,t,r){return Le(this,void 0,void 0,function*(){try{return{data:{path:(yield Pn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ht(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,r){return Le(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield Pn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ht(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,r){return Le(this,void 0,void 0,function*(){try{const s=yield Pn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ht(s))return{data:null,error:s};throw s}})}download(e,t){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),l=o?`?${o}`:"",u=this._getFinalPath(e),d=()=>zl(this.fetch,`${this.url}/${s}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new IC(d,this.shouldThrowOnError)}info(e){return Le(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield zl(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Tp(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}exists(e){return Le(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield AC(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r)&&r instanceof Np){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],o=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&s.push(o);const u=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});d!==""&&s.push(d);let p=s.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${p}`)}}}remove(e){return Le(this,void 0,void 0,function*(){try{return{data:yield vg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ht(t))return{data:null,error:t};throw t}})}list(e,t,r){return Le(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},NC),t),{prefix:e||""});return{data:yield Pn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ht(s))return{data:null,error:s};throw s}})}listV2(e,t){return Le(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Pn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const u_="2.84.0",d_={"X-Client-Info":`storage-js/${u_}`};class CC{constructor(e,t={},r,s){this.shouldThrowOnError=!1;const o=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},d_),t),this.fetch=wg(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Le(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield zl(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ht(t))return{data:null,error:t};throw t}})}getBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield zl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ht(t))return{data:null,error:t};throw t}})}createBucket(e){return Le(this,arguments,void 0,function*(t,r={public:!1}){try{return{data:yield Pn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ht(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return Le(this,void 0,void 0,function*(){try{return{data:yield Cp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ht(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield vg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ht(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}class RC{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},d_),t),this.fetch=wg(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ht(t))return{data:null,error:t};throw t}})}listBuckets(e){return Le(this,void 0,void 0,function*(){try{const t=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&t.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&t.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&t.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&t.set("sortOrder",e.sortOrder),e!=null&&e.search&&t.set("search",e.search);const r=t.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield zl(this.fetch,s,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ht(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield vg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ht(t))return{data:null,error:t};throw t}})}}const bg={"X-Client-Info":`storage-js/${u_}`,"Content-Type":"application/json"};class h_ extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function wn(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class T0 extends h_{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class jC extends h_{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var d1;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(d1||(d1={}));const xg=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),LC=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},h1=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),BC=(n,e,t)=>Le(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(t!=null&&t.noResolveJson)){const s=n.status||500,o=n;if(typeof o.json=="function")o.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||s+"";e(new T0(h1(l),s,u))}).catch(()=>{const l=s+"",u=o.statusText||`HTTP ${s} error`;e(new T0(u,s,l))});else{const l=s+"",u=o.statusText||`HTTP ${s} error`;e(new T0(u,s,l))}}else e(new jC(h1(n),n))}),OC=(n,e,t,r)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return r?(LC(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),t)):s};function PC(n,e,t,r,s,o){return Le(this,void 0,void 0,function*(){return new Promise((l,u)=>{n(t,OC(e,r,s,o)).then(d=>{if(!d.ok)throw d;if(r!=null&&r.noResolveJson)return d;const p=d.headers.get("content-type");return!p||!p.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>BC(d,u,r))})})}function vn(n,e,t,r,s){return Le(this,void 0,void 0,function*(){return PC(n,"POST",e,r,s,t)})}class UC{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bg),t),this.fetch=xg(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Le(this,void 0,void 0,function*(){try{return{data:(yield vn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wn(t))return{data:null,error:t};throw t}})}getIndex(e,t){return Le(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}listIndexes(e){return Le(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wn(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return Le(this,void 0,void 0,function*(){try{return{data:(yield vn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}}class DC{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bg),t),this.fetch=xg(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Le(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield vn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wn(t))return{data:null,error:t};throw t}})}getVectors(e){return Le(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wn(t))return{data:null,error:t};throw t}})}listVectors(e){return Le(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield vn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wn(t))return{data:null,error:t};throw t}})}queryVectors(e){return Le(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wn(t))return{data:null,error:t};throw t}})}deleteVectors(e){return Le(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield vn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wn(t))return{data:null,error:t};throw t}})}}class zC{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bg),t),this.fetch=xg(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:(yield vn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wn(t))return{data:null,error:t};throw t}})}getBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wn(t))return{data:null,error:t};throw t}})}listBuckets(){return Le(this,arguments,void 0,function*(e={}){try{return{data:yield vn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:(yield vn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wn(t))return{data:null,error:t};throw t}})}}class FC extends zC{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new WC(this.url,this.headers,e,this.fetch)}}class WC extends UC{constructor(e,t,r,s){super(e,t,s),this.vectorBucketName=r}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Le(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Le(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Le(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Le(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new $C(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class $C extends DC{constructor(e,t,r,s,o){super(e,t,o),this.vectorBucketName=r,this.indexName=s}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Le(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Le(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Le(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Le(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Le(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class qC extends CC{constructor(e,t={},r,s){super(e,t,r,s)}from(e){return new TC(this.url,this.headers,e,this.fetch)}get vectors(){return new FC(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new RC(this.url+"/iceberg",this.headers,this.fetch)}}const KC="2.84.0";let Al="";typeof Deno<"u"?Al="deno":typeof document<"u"?Al="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Al="react-native":Al="node";const VC={"X-Client-Info":`supabase-js-${Al}/${KC}`},HC={headers:VC},GC={schema:"public"},YC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ZC={},QC=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),JC=()=>Headers,XC=(n,e,t)=>{const r=QC(t),s=JC();return async(o,l)=>{var u;const d=(u=await e())!==null&&u!==void 0?u:n;let p=new s(l==null?void 0:l.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${d}`),r(o,Object.assign(Object.assign({},l),{headers:p}))}};function eR(n){return n.endsWith("/")?n:n+"/"}function tR(n,e){var t,r;const{db:s,auth:o,realtime:l,global:u}=n,{db:d,auth:p,realtime:w,global:_}=e,k={db:Object.assign(Object.assign({},d),s),auth:Object.assign(Object.assign({},p),o),realtime:Object.assign(Object.assign({},w),l),storage:{},global:Object.assign(Object.assign(Object.assign({},_),u),{headers:Object.assign(Object.assign({},(t=_==null?void 0:_.headers)!==null&&t!==void 0?t:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?k.accessToken=n.accessToken:delete k.accessToken,k}function rR(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(eR(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const f_="2.84.0",ra=30*1e3,Rp=3,C0=Rp*ra,nR="http://localhost:9999",iR="supabase.auth.token",sR={"X-Client-Info":`gotrue-js/${f_}`},jp="X-Supabase-Api-Version",p_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aR=600*1e3;class Fl extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function Oe(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class lR extends Fl{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function cR(n){return Oe(n)&&n.name==="AuthApiError"}class Us extends Fl{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class fs extends Fl{constructor(e,t,r,s){super(e,r,s),this.name=t,this.status=r}}class hn extends fs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function uR(n){return Oe(n)&&n.name==="AuthSessionMissingError"}class Ko extends fs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _u extends fs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Su extends fs{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dR(n){return Oe(n)&&n.name==="AuthImplicitGrantRedirectError"}class f1 extends fs{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Lp extends fs{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function R0(n){return Oe(n)&&n.name==="AuthRetryableFetchError"}class p1 extends fs{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Bp extends fs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const gd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),g1=` 	
\r=`.split(""),hR=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<g1.length;e+=1)n[g1[e].charCodeAt(0)]=-2;for(let e=0;e<gd.length;e+=1)n[gd[e].charCodeAt(0)]=e;return n})();function m1(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(gd[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(gd[r]),e.queuedBits-=6}}function g_(n,e,t){const r=hR[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function y1(n){const e=[],t=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=l=>{gR(l,r,t)};for(let l=0;l<n.length;l+=1)g_(n.charCodeAt(l),s,o);return e.join("")}function fR(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function pR(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|s)+65536,t+=1}fR(r,e)}}function gR(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function ha(n){const e=[],t={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<n.length;s+=1)g_(n.charCodeAt(s),t,r);return new Uint8Array(e)}function mR(n){const e=[];return pR(n,t=>e.push(t)),new Uint8Array(e)}function Gs(n){const e=[],t={queue:0,queuedBits:0},r=s=>{e.push(s)};return n.forEach(s=>m1(s,t,r)),m1(null,t,r),e.join("")}function yR(n){return Math.round(Date.now()/1e3)+n}function wR(){return Symbol("auth-callback")}const Ir=()=>typeof window<"u"&&typeof document<"u",Ns={tested:!1,writable:!1},m_=()=>{if(!Ir())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ns.tested)return Ns.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ns.tested=!0,Ns.writable=!0}catch{Ns.tested=!0,Ns.writable=!1}return Ns.writable};function vR(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return t.searchParams.forEach((r,s)=>{e[s]=r}),e}const y_=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),bR=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",na=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Ts=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},ts=async(n,e)=>{await n.removeItem(e)};class Bd{constructor(){this.promise=new Bd.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Bd.promiseConstructor=Promise;function j0(n){const e=n.split(".");if(e.length!==3)throw new Bp("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!oR.test(e[r]))throw new Bp("JWT not in base64url format");return{header:JSON.parse(y1(e[0])),payload:JSON.parse(y1(e[1])),signature:ha(e[2]),raw:{header:e[0],payload:e[1]}}}async function xR(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function _R(n,e){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await n(o);if(!e(o,null,l)){r(l);return}}catch(l){if(!e(o,l)){s(l);return}}})()})}function SR(n){return("0"+n.toString(16)).substr(-2)}function ER(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let s="";for(let o=0;o<56;o++)s+=t.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,SR).join("")}async function kR(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function AR(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await kR(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vo(n,e,t=!1){const r=ER();let s=r;t&&(s+="/PASSWORD_RECOVERY"),await na(n,`${e}-code-verifier`,s);const o=await AR(r);return[o,r===o?"plain":"s256"]}const MR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function IR(n){const e=n.headers.get(jp);if(!e||!e.match(MR))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function NR(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function TR(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const CR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ho(n){if(!CR.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function L0(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function RR(n,e){return new Proxy(n,{get:(t,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,r,s)}})}function w1(n){return JSON.parse(JSON.stringify(n))}const Bs=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),jR=[502,503,504];async function v1(n){var e;if(!bR(n))throw new Lp(Bs(n),0);if(jR.includes(n.status))throw new Lp(Bs(n),n.status);let t;try{t=await n.json()}catch(o){throw new Us(Bs(o),o)}let r;const s=IR(n);if(s&&s.getTime()>=p_["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new p1(Bs(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new hn}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new p1(Bs(t),n.status,t.weak_password.reasons);throw new lR(Bs(t),n.status||500,r)}const LR=(n,e,t,r)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),t))};async function $e(n,e,t,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[jp]||(o[jp]=p_["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await BR(n,e,t+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function BR(n,e,t,r,s,o){const l=LR(e,r,s,o);let u;try{u=await n(t,Object.assign({},l))}catch(d){throw console.error(d),new Lp(Bs(d),0)}if(u.ok||await v1(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await v1(d)}}function Ln(n){var e;let t=null;UR(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=yR(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function b1(n){const e=Ln(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function ss(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function OR(n){return{data:n,error:null}}function PR(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:o}=n,l=_a(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:o},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function x1(n){return n}function UR(n){return n.access_token&&n.refresh_token&&n.expires_in}const B0=["global","local","others"];class DR{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=y_(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=B0[0]){if(B0.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${B0.join(", ")}`);try{return await $e(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await $e(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ss})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=_a(e,["options"]),s=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await $e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:PR,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Oe(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await $e(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ss})}catch(t){if(Oe(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,s,o,l,u,d;try{const p={nextPage:null,lastPage:0,total:0},w=await $e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:x1});if(w.error)throw w.error;const _=await w.json(),k=(l=w.headers.get("x-total-count"))!==null&&l!==void 0?l:0,S=(d=(u=w.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return S.length>0&&(S.forEach(N=>{const C=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(N.split(";")[1].split("=")[1]);p[`${T}Page`]=C}),p.total=parseInt(k)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(Oe(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Ho(e);try{return await $e(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ss})}catch(t){if(Oe(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Ho(e);try{return await $e(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ss})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){Ho(e);try{return await $e(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ss})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ho(e.userId);try{const{data:t,error:r}=await $e(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:r}}catch(t){if(Oe(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Ho(e.userId),Ho(e.id);try{return{data:await $e(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Oe(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,s,o,l,u,d;try{const p={nextPage:null,lastPage:0,total:0},w=await $e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:x1});if(w.error)throw w.error;const _=await w.json(),k=(l=w.headers.get("x-total-count"))!==null&&l!==void 0?l:0,S=(d=(u=w.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return S.length>0&&(S.forEach(N=>{const C=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(N.split(";")[1].split("=")[1]);p[`${T}Page`]=C}),p.total=parseInt(k)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(Oe(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await $e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Oe(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await $e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Oe(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await $e(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await $e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(Oe(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await $e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Oe(t))return{data:null,error:t};throw t}}}function _1(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const Go={debug:!!(globalThis&&m_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class w_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class zR extends w_{}async function FR(n,e,t){Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Go.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,s.name);try{return await t()}finally{Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,s.name)}}else{if(e===0)throw Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new zR(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Go.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function WR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function v_(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function $R(n){return parseInt(n,16)}function qR(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function KR(n){var e;const{chainId:t,domain:r,expirationTime:s,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:d,resources:p,scheme:w,uri:_,version:k}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(k!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${k}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const S=v_(n.address),N=w?`${w}://${r}`:r,C=n.statement?`${n.statement}
`:"",T=`${N} wants you to sign in with your Ethereum account:
${S}

${C}`;let z=`URI: ${_}
Version: ${k}
Chain ID: ${t}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(s&&(z+=`
Expiration Time: ${s.toISOString()}`),u&&(z+=`
Not Before: ${u.toISOString()}`),d&&(z+=`
Request ID: ${d}`),p){let F=`
Resources:`;for(const U of p){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);F+=`
- ${U}`}z+=F}return`${T}
${z}`}class cr extends Error{constructor({message:e,code:t,cause:r,name:s}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=s??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}}class md extends cr{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function VR({error:n,options:e}){var t,r,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new cr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new cr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new cr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new cr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new cr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new cr({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new cr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new cr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const l=window.location.hostname;if(b_(l)){if(o.rp.id!==l)return new cr({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new cr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new cr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new cr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new cr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function HR({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new cr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new cr({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(b_(r)){if(t.rpId!==r)return new cr({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new cr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new cr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new cr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class GR{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const YR=new GR;function ZR(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:r}=n,s=_a(n,["challenge","user","excludeCredentials"]),o=ha(e).buffer,l=Object.assign(Object.assign({},t),{id:ha(t.id).buffer}),u=Object.assign(Object.assign({},s),{challenge:o,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const p=r[d];u.excludeCredentials[d]=Object.assign(Object.assign({},p),{id:ha(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return u}function QR(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,r=_a(n,["challenge","allowCredentials"]),s=ha(e).buffer,o=Object.assign(Object.assign({},r),{challenge:s});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let l=0;l<t.length;l++){const u=t[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:ha(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function JR(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:Gs(new Uint8Array(n.response.attestationObject)),clientDataJSON:Gs(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function XR(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,r=n.getClientExtensionResults(),s=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Gs(new Uint8Array(s.authenticatorData)),clientDataJSON:Gs(new Uint8Array(s.clientDataJSON)),signature:Gs(new Uint8Array(s.signature)),userHandle:s.userHandle?Gs(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function b_(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function S1(){var n,e;return!!(Ir()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function ej(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new md("Browser returned unexpected credential type",e)}:{data:null,error:new md("Empty credential response",e)}}catch(e){return{data:null,error:VR({error:e,options:n})}}}async function tj(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new md("Browser returned unexpected credential type",e)}:{data:null,error:new md("Empty credential response",e)}}catch(e){return{data:null,error:HR({error:e,options:n})}}}const rj={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},nj={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function yd(...n){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),t=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of n)if(s)for(const o in s){const l=s[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(t(l))r[o]=l;else if(e(l)){const u=r[o];e(u)?r[o]=yd(u,l):r[o]=yd(l)}else r[o]=l}return r}function ij(n,e){return yd(rj,n,e||{})}function sj(n,e){return yd(nj,n,e||{})}class oj{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:s},o){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!l)return{data:null,error:u};const d=s??YR.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:p}=l.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(l.webauthn.type){case"create":{const p=ij(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:w,error:_}=await ej({publicKey:p,signal:d});return w?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:w}},error:null}:{data:null,error:_}}case"request":{const p=sj(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:w,error:_}=await tj(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:p,signal:d}));return w?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:w}},error:null}:{data:null,error:_}}}}catch(l){return Oe(l)?{data:null,error:l}:{data:null,error:new Us("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!t)return{data:null,error:new Fl("rpId is required for WebAuthn authentication")};try{if(!S1())return{data:null,error:new Us("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:s},{request:o});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:t,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return Oe(l)?{data:null,error:l}:{data:null,error:new Us("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!t)return{data:null,error:new Fl("rpId is required for WebAuthn registration")};try{if(!S1())return{data:null,error:new Us("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(w=>{var _;return(_=w.data)===null||_===void 0?void 0:_.all.find(k=>k.factor_type==="webauthn"&&k.friendly_name===e&&k.status!=="unverified")}).then(w=>w?this.client.mfa.unenroll({factorId:w==null?void 0:w.id}):void 0),{data:null,error:u};const{data:d,error:p}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:s},{create:o});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:t,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:p}}catch(l){return Oe(l)?{data:null,error:l}:{data:null,error:new Us("Unexpected error in register",l)}}}}WR();const aj={url:nR,storageKey:iR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function E1(n,e,t){return await t()}const Yo={};class Wl{get jwks(){var e,t;return(t=(e=Yo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Yo[this.storageKey]=Object.assign(Object.assign({},Yo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Yo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Yo[this.storageKey]=Object.assign(Object.assign({},Yo[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},aj),e);if(this.storageKey=o.storageKey,this.instanceID=(t=Wl.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,Wl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Ir()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new DR({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=y_(o.fetch),this.lock=o.lock||E1,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:Ir()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=FR:this.lock=E1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new oj(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:m_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_1(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=_1(this.memoryStorage)),Ir()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${f_}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},r="none";if(Ir()&&(t=vR(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),Ir()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(t,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),dR(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Oe(t)?this._returnResult({error:t}):this._returnResult({error:new Us("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,s;try{const o=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ln}),{data:l,error:u}=o;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,p=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(o){if(Oe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var t,r,s;try{let o;if("email"in e){const{email:w,password:_,options:k}=e;let S=null,N=null;this.flowType==="pkce"&&([S,N]=await Vo(this.storage,this.storageKey)),o=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k==null?void 0:k.emailRedirectTo,body:{email:w,password:_,data:(t=k==null?void 0:k.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken},code_challenge:S,code_challenge_method:N},xform:Ln})}else if("phone"in e){const{phone:w,password:_,options:k}=e;o=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:_,data:(r=k==null?void 0:k.data)!==null&&r!==void 0?r:{},channel:(s=k==null?void 0:k.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken}},xform:Ln})}else throw new _u("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,p=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(o){if(Oe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:l,options:u}=e;t=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:b1})}else if("phone"in e){const{phone:o,password:l,options:u}=e;t=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:b1})}else throw new _u("You must provide either an email or phone number and a password");const{data:r,error:s}=t;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const o=new Ko;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(t){if(Oe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,s,o,l,u,d,p,w,_,k;let S,N;if("message"in e)S=e.message,N=e.signature;else{const{chain:C,wallet:T,statement:z,options:F}=e;let U;if(Ir())if(typeof T=="object")U=T;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")U=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(F!=null&&F.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=T}const G=new URL((t=F==null?void 0:F.url)!==null&&t!==void 0?t:window.location.href),te=await U.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!te||te.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const X=v_(te[0]);let de=(r=F==null?void 0:F.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!de){const K=await U.request({method:"eth_chainId"});de=$R(K)}const le={domain:G.host,address:X,statement:z,uri:G.href,version:"1",chainId:de,nonce:(s=F==null?void 0:F.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(o=F==null?void 0:F.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=F==null?void 0:F.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=F==null?void 0:F.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(p=F==null?void 0:F.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(w=F==null?void 0:F.signInWithEthereum)===null||w===void 0?void 0:w.resources};S=KR(le),N=await U.request({method:"personal_sign",params:[qR(S),X]})}try{const{data:C,error:T}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:N},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(k=e.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Ln});if(T)throw T;if(!C||!C.session||!C.user){const z=new Ko;return this._returnResult({data:{user:null,session:null},error:z})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:T})}catch(C){if(Oe(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(e){var t,r,s,o,l,u,d,p,w,_,k,S;let N,C;if("message"in e)N=e.message,C=e.signature;else{const{chain:T,wallet:z,statement:F,options:U}=e;let G;if(Ir())if(typeof z=="object")G=z;else{const X=window;if("solana"in X&&typeof X.solana=="object"&&("signIn"in X.solana&&typeof X.solana.signIn=="function"||"signMessage"in X.solana&&typeof X.solana.signMessage=="function"))G=X.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=z}const te=new URL((t=U==null?void 0:U.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in G&&G.signIn){const X=await G.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U==null?void 0:U.signInWithSolana),{version:"1",domain:te.host,uri:te.href}),F?{statement:F}:null));let de;if(Array.isArray(X)&&X[0]&&typeof X[0]=="object")de=X[0];else if(X&&typeof X=="object"&&"signedMessage"in X&&"signature"in X)de=X;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in de&&"signature"in de&&(typeof de.signedMessage=="string"||de.signedMessage instanceof Uint8Array)&&de.signature instanceof Uint8Array)N=typeof de.signedMessage=="string"?de.signedMessage:new TextDecoder().decode(de.signedMessage),C=de.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in G)||typeof G.signMessage!="function"||!("publicKey"in G)||typeof G!="object"||!G.publicKey||!("toBase58"in G.publicKey)||typeof G.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${te.host} wants you to sign in with your Solana account:`,G.publicKey.toBase58(),...F?["",F,""]:[""],"Version: 1",`URI: ${te.href}`,`Issued At: ${(s=(r=U==null?void 0:U.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=U==null?void 0:U.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((l=U==null?void 0:U.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((u=U==null?void 0:U.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((d=U==null?void 0:U.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((p=U==null?void 0:U.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((_=(w=U==null?void 0:U.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||_===void 0)&&_.length?["Resources",...U.signInWithSolana.resources.map(de=>`- ${de}`)]:[]].join(`
`);const X=await G.signMessage(new TextEncoder().encode(N),"utf8");if(!X||!(X instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=X}}try{const{data:T,error:z}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:Gs(C)},!((k=e.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Ln});if(z)throw z;if(!T||!T.session||!T.user){const F=new Ko;return this._returnResult({data:{user:null,session:null},error:F})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:z})}catch(T){if(Oe(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(e){const t=await Ts(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(t??"").split("/");try{const{data:o,error:l}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ln});if(await ts(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const u=new Ko;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:l})}catch(o){if(Oe(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:t,provider:r,token:s,access_token:o,nonce:l}=e,u=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Ln}),{data:d,error:p}=u;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!d||!d.session||!d.user){const w=new Ko;return this._returnResult({data:{user:null,session:null},error:w})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:p})}catch(t){if(Oe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,s,o,l;try{if("email"in e){const{email:u,options:d}=e;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await Vo(this.storage,this.storageKey));const{error:_}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(t=d==null?void 0:d.data)!==null&&t!==void 0?t:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:w},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in e){const{phone:u,options:d}=e,{data:p,error:w}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:w})}throw new _u("You must provide either an email or phone number.")}catch(u){if(Oe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var t,r;try{let s,o;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await $e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Ln});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,p=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(s){if(Oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var t,r,s,o,l;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Vo(this.storage,this.storageKey));const p=await $e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:OR});return!((o=p.data)===null||o===void 0)&&o.url&&Ir()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(u){if(Oe(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new hn;const{error:s}=await $e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(Oe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:o}=e,{error:l}=await $e(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:r,type:s,options:o}=e,{data:l,error:u}=await $e(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u})}throw new _u("You must provide either an email or phone number and a type")}catch(t){if(Oe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Ts(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<C0:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await Ts(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=L0()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=RR(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ss}):await this._useSession(async t=>{var r,s,o;const{data:l,error:u}=t;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hn}:await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:ss})})}catch(t){if(Oe(t))return uR(t)&&(await this._removeSession(),await ts(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new hn;const l=s.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await Vo(this.storage,this.storageKey));const{data:p,error:w}=await $e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:ss});if(w)throw w;return l.user=p.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(Oe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new hn;const t=Date.now()/1e3;let r=t,s=!0,o=null;const{payload:l}=j0(e.access_token);if(l.exp&&(r=l.exp,s=r<=t),s){const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(t){if(Oe(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:l,error:u}=t;if(u)throw u;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new hn;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(Oe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Ir())throw new Su("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Su(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new f1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Su("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new f1("No code detected.");const{data:F,error:U}=await this._exchangeCodeForSession(e.code);if(U)throw U;const G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:F.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:u,expires_at:d,token_type:p}=e;if(!o||!u||!l||!p)throw new Su("No session defined in URL");const w=Math.round(Date.now()/1e3),_=parseInt(u);let k=w+_;d&&(k=parseInt(d));const S=k-w;S*1e3<=ra&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${_}s`);const N=k-_;w-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,k,w):w-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,k,w);const{data:C,error:T}=await this._getUser(o);if(T)throw T;const z={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:_,expires_at:k,refresh_token:l,token_type:p,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:z,redirectType:e.type},error:null})}catch(r){if(Oe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Ts(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:s,error:o}=t;if(o)return this._returnResult({error:o});const l=(r=s.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(cR(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await ts(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=wR(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,s;try{const{data:{session:o},error:l}=t;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Vo(this.storage,this.storageKey,!0));try{return await $e(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(Oe(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(Oe(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:s}=await this._useSession(async o=>{var l,u,d,p,w;const{data:_,error:k}=o;if(k)throw k;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await $e(this.fetch,"GET",S,{headers:this.headers,jwt:(w=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&w!==void 0?w:void 0})});if(s)throw s;return Ir()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Oe(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:s,data:{session:o}}=t;if(s)throw s;const{options:l,provider:u,token:d,access_token:p,nonce:w}=e,_=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:d,access_token:p,nonce:w,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ln}),{data:k,error:S}=_;return S?this._returnResult({data:{user:null,session:null},error:S}):!k||!k.session||!k.user?this._returnResult({data:{user:null,session:null},error:new Ko}):(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("USER_UPDATED",k.session)),this._returnResult({data:k,error:S}))}catch(s){if(Oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,s;const{data:o,error:l}=t;if(l)throw l;return await $e(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(Oe(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await _R(async s=>(s>0&&await xR(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await $e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ln})),(s,o)=>{const l=200*Math.pow(2,s);return o&&R0(o)&&Date.now()+l-r<ra})}catch(r){if(this._debug(t,"error",r),Oe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Ir()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Ts(this.storage,this.storageKey);if(s&&this.userStorage){let l=await Ts(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await na(this.userStorage,this.storageKey+"-user",l)),s.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:L0()}else if(s&&!s.user&&!s.user){const l=await Ts(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await ts(this.storage,this.storageKey+"-user"),await na(this.storage,this.storageKey,s)):s.user=L0()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<C0;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${C0}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),R0(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(s.access_token);!u&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new hn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bd;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new hn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(s,"error",o),Oe(o)){const l={data:null,error:o};return R0(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,t)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await na(this.userStorage,this.storageKey+"-user",{user:t.user});const s=Object.assign({},t);delete s.user;const o=w1(s);await na(this.storage,this.storageKey,o)}else{const s=w1(t);await na(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ts(this.storage,this.storageKey),await ts(this.storage,this.storageKey+"-code-verifier"),await ts(this.storage,this.storageKey+"-user"),this.userStorage&&await ts(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ir()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ra);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/ra);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ra}ms, refresh threshold is ${Rp} ticks`),s<=Rp&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof w_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ir()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const s=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await Vo(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:s,error:o}=t;return o?this._returnResult({data:null,error:o}):await $e(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(Oe(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,s;const{data:o,error:l}=t;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:p}=await $e(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&d.type==="totp"&&(!((s=d==null?void 0:d.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(t){if(Oe(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:o}=t;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?JR(e.webauthn.credential_response):XR(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:d}=await $e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(t){if(Oe(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:o}=t;if(o)return this._returnResult({data:null,error:o});const l=await $e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:ZR(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:QR(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(Oe(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=j0(r.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((t=(e=r.user.factors)===null||e===void 0?void 0:e.filter(w=>w.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(u="aal2");const p=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;return s?this._returnResult({data:null,error:s}):r?await $e(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new hn})})}catch(t){if(Oe(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new hn});const l=await $e(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Ir()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new hn});const l=await $e(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Ir()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await $e(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new hn})})}catch(e){if(Oe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;return s?this._returnResult({data:null,error:s}):r?await $e(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new hn})})}catch(t){if(Oe(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(u=>u.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+aR>s)return r;const{data:o,error:l}=await $e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:S,error:N}=await this.getSession();if(N||!S.session)return this._returnResult({data:null,error:N});r=S.session.access_token}const{header:s,payload:o,signature:l,raw:{header:u,payload:d}}=j0(r);t!=null&&t.allowExpired||NR(o.exp);const p=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!p){const{error:S}=await this.getUser(r);if(S)throw S;return{data:{claims:o,header:s,signature:l},error:null}}const w=TR(s.alg),_=await crypto.subtle.importKey("jwk",p,w,!0,["verify"]);if(!await crypto.subtle.verify(w,_,l,mR(`${u}.${d}`)))throw new Bp("Invalid JWT signature");return{data:{claims:o,header:s,signature:l},error:null}}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}}Wl.nextInstanceID={};const lj=Wl;class cj extends lj{constructor(e){super(e)}}class uj{constructor(e,t,r){var s,o,l;this.supabaseUrl=e,this.supabaseKey=t;const u=rR(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,p={db:GC,realtime:ZC,auth:Object.assign(Object.assign({},YC),{storageKey:d}),global:HC},w=tR(r??{},p);this.storageKey=(s=w.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=w.global.headers)!==null&&o!==void 0?o:{},w.accessToken?(this.accessToken=w.accessToken,this.auth=new Proxy({},{get:(_,k)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(k)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=w.auth)!==null&&l!==void 0?l:{},this.headers,w.global.fetch),this.fetch=XC(t,this._getAccessToken.bind(this),w.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},w.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new nC(new URL("rest/v1",u).href,{headers:this.headers,schema:w.db.schema,fetch:this.fetch}),this.storage=new qC(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),w.accessToken||this._listenForAuthEvents()}get functions(){return new XT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:o,storageKey:l,flowType:u,lock:d,debug:p,throwOnError:w},_,k){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cj({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),_),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:o,flowType:u,lock:d,debug:p,throwOnError:w,fetch:k,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new bC(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const dj=(n,e,t)=>new uj(n,e,t);function hj(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}hj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const fj="https://bpbtgkunrdzcoyfdhskh.supabase.co",pj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJwYnRna3VucmR6Y295ZmRoc2toIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI5MjAzNzUsImV4cCI6MjA3ODQ5NjM3NX0.ZAtjUoDnIWUOs6Os1NUGKIRUQVOuXDlaCJ4HwQqZu50",_g=dj(fj,pj),gj=async(n,e="phantom")=>{const{data:t,error:r}=await _g.functions.invoke("wallet-connect",{body:{walletAddress:n,walletType:e}});if(r)throw r;return t.data},Rl=async(n,e,t,r="SOL",s="private")=>{const{data:o,error:l}=await _g.functions.invoke("transaction-create",{body:{userId:n,txType:e,amount:t,tokenSymbol:r,privacyLevel:s}});if(l)throw l;return o.data},mj=async n=>{const{data:e,error:t}=await _g.functions.invoke("dashboard-stats",{body:{userId:n}});if(t)throw t;return e.data},yj=()=>{const{publicKey:n,sendTransaction:e}=Rd(),{connection:t}=og(),{settings:r,getPrivacyMultiplier:s,calculatePrivacyScore:o}=hg(),[l,u]=ie.useState("swap"),[d,p]=ie.useState({status:"idle",message:""}),[w,_]=ie.useState(""),[k,S]=ie.useState("SOL"),[N,C]=ie.useState("USDC"),[T,z]=ie.useState(""),[F,U]=ie.useState(""),[G,te]=ie.useState("SOL"),[X,de]=ie.useState("Solana"),[le,K]=ie.useState("Ethereum"),[V,Y]=ie.useState(""),Q=[{id:"swap",step:"01",icon:_p,title:"Private Swap",description:"Exchange tokens with complete privacy protection",action:"Swap Now"},{id:"transfer",step:"02",icon:Vu,title:"Private Transfer",description:"Send funds without revealing transaction details",action:"Transfer"},{id:"bridge",step:"03",icon:Ku,title:"Private Bridge",description:"Bridge assets cross-chain with privacy intact",action:"Bridge Assets"}],I=D=>5e-6*s(),f=async()=>{if(!n||!w||parseFloat(w)<=0){p({status:"error",message:"Please enter a valid amount"});return}p({status:"processing",message:"Generating ZK proof and preparing private swap..."});try{await new Promise(W=>setTimeout(W,1e3*s()));const D=parseFloat(w),$=I(D),M=new Pe("9vHmQf7cJ2LbKxDqP3oNuM8kWzYaRsSx5vT6wB4cEfGh"),g=new Kr().add(us.transfer({fromPubkey:n,toPubkey:M,lamports:Math.floor((D+$)*Ml)})),y=JSON.stringify({type:"private_swap",privacyLevel:r.privacyLevel,zkProofEnabled:r.zkProofVerification,mixingLevel:r.transactionMixingLevel,privacyScore:o(),fromToken:k,toToken:N});p({status:"processing",message:"Sending private transaction to blockchain..."});const j=await e(g,t);await t.confirmTransaction(j,"confirmed");try{await Rl(n.toString(),"private_swap",w,`${k}-${N}`,r.privacyLevel)}catch(W){console.error("Failed to log transaction to database:",W)}p({status:"success",message:`Private swap successful! Transaction mixed with ${r.transactionMixingLevel}/10 anonymity`,signature:j}),_(""),setTimeout(()=>{p({status:"idle",message:""})},5e3)}catch(D){console.error("Private swap failed:",D),p({status:"error",message:D.message||"Private swap failed. Please try again."})}},v=async()=>{if(!n||!T||!F||parseFloat(F)<=0){p({status:"error",message:"Please fill in all required fields"});return}p({status:"processing",message:"Generating ZK proof for private transfer..."});try{let D;try{D=new Pe(T)}catch{p({status:"error",message:"Invalid recipient address"});return}await new Promise(j=>setTimeout(j,1e3*s()));const $=parseFloat(F),M=I($),g=new Kr().add(us.transfer({fromPubkey:n,toPubkey:D,lamports:Math.floor(($+M)*Ml)}));p({status:"processing",message:"Sending private transfer with anonymity protection..."});const y=await e(g,t);await t.confirmTransaction(y,"confirmed");try{await Rl(n.toString(),"private_transfer",F,G,r.privacyLevel)}catch(j){console.error("Failed to log transaction:",j)}p({status:"success",message:"Private transfer completed! Sender, receiver, and amount are confidential",signature:y}),z(""),U(""),setTimeout(()=>{p({status:"idle",message:""})},5e3)}catch(D){console.error("Private transfer failed:",D),p({status:"error",message:D.message||"Private transfer failed. Please try again."})}},R=async()=>{if(!n||!V||parseFloat(V)<=0){p({status:"error",message:"Please enter a valid amount"});return}p({status:"processing",message:"Initiating privacy-preserving cross-chain bridge..."});try{await new Promise(j=>setTimeout(j,1500*s()));const D=parseFloat(V),$=I(D),M=new Pe("9vHmQf7cJ2LbKxDqP3oNuM8kWzYaRsSx5vT6wB4cEfGh"),g=new Kr().add(us.transfer({fromPubkey:n,toPubkey:M,lamports:Math.floor((D+$)*Ml)}));p({status:"processing",message:"Processing cross-chain private bridge..."});const y=await e(g,t);await t.confirmTransaction(y,"confirmed");try{await Rl(n.toString(),"private_bridge",V,`${X}-${le}`,r.privacyLevel)}catch(j){console.error("Failed to log transaction:",j)}p({status:"success",message:"Private bridge initiated! Cross-chain transfer with privacy intact",signature:y}),Y(""),setTimeout(()=>{p({status:"idle",message:""})},5e3)}catch(D){console.error("Private bridge failed:",D),p({status:"error",message:D.message||"Private bridge failed. Please try again."})}},P=()=>{switch(d.status){case"processing":return A.jsx(kx,{className:"w-5 h-5 animate-spin"});case"success":return A.jsx(ds,{className:"w-5 h-5"});case"error":return A.jsx(RT,{className:"w-5 h-5"});default:return null}},B=()=>{switch(d.status){case"processing":return"bg-cyber-blue-400 bg-opacity-10 border-cyber-blue-200 text-cyber-blue-700";case"success":return"bg-cyber-cyan-400 bg-opacity-10 border-cyber-cyan-200 text-cyber-cyan-700";case"error":return"bg-error-500 bg-opacity-10 border-error-200 text-error-700";default:return""}};return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"backdrop-blur-xl border border-cyber-blue-200 rounded-lg shadow-cyber-md p-8",style:{background:"rgba(255, 255, 255, 0.9)"},children:[A.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[A.jsx("div",{className:"w-12 h-12 bg-gradient-cyber-primary rounded-lg flex items-center justify-center shadow-glow-primary",children:A.jsx(hs,{className:"w-6 h-6 text-white"})}),A.jsxs("div",{className:"flex-1",children:[A.jsx("h3",{className:"text-2xl font-bold font-heading text-neutral-800 mb-2",children:"Trade & Transfer Privately"}),A.jsx("p",{className:"text-neutral-600 leading-relaxed",children:"Swap tokens, transfer funds, or bridge assets - all with complete privacy"}),A.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-cyber-blue-600",children:[A.jsx(Fn,{className:"w-4 h-4"}),A.jsxs("span",{children:["Current Privacy Level: ",A.jsx("strong",{children:r.privacyLevel}),"  Score: ",A.jsxs("strong",{children:[o(),"%"]})]})]})]})]}),d.status!=="idle"&&A.jsx("div",{className:`mb-6 p-4 rounded-lg border ${B()}`,children:A.jsxs("div",{className:"flex items-start gap-3",children:[P(),A.jsxs("div",{className:"flex-1",children:[A.jsx("div",{className:"font-semibold mb-1",children:d.message}),d.signature&&A.jsxs("div",{className:"text-xs font-mono mt-2",children:["Signature: ",d.signature.substring(0,16),"..."]})]})]})}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Q.map(D=>A.jsxs("button",{onClick:()=>{u(D.id),p({status:"idle",message:""})},className:`relative p-6 rounded-lg border-2 transition-all duration-normal text-left group ${l===D.id?"border-cyber-blue-500 bg-gradient-cyber-subtle shadow-cyber-lg":"border-cyber-blue-200 bg-white hover:border-cyber-blue-300 hover:shadow-cyber-md hover:-translate-y-1"}`,children:[A.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 bg-gradient-cyber-primary rounded-full flex items-center justify-center text-white font-bold text-sm shadow-cyber-sm",children:D.step}),A.jsx("div",{className:`w-14 h-14 rounded-lg flex items-center justify-center mb-4 transition-all duration-normal ${l===D.id?"bg-gradient-cyber-primary shadow-glow-primary":"bg-cyber-blue-50 group-hover:bg-gradient-cyber-primary"}`,children:A.jsx(D.icon,{className:`w-7 h-7 transition-colors duration-normal ${l===D.id?"text-white":"text-cyber-blue-600 group-hover:text-white"}`})}),A.jsx("h4",{className:"text-lg font-semibold font-heading text-neutral-800 mb-2",children:D.title}),A.jsx("p",{className:"text-sm text-neutral-600 mb-4 leading-relaxed",children:D.description}),l===D.id&&A.jsxs("div",{className:"flex items-center gap-2 text-cyber-blue-600 text-sm font-medium",children:[A.jsx("span",{children:"Selected"}),A.jsx(qu,{className:"w-4 h-4"})]})]},D.id))})]}),A.jsxs("div",{className:"backdrop-blur-xl border border-cyber-blue-200 rounded-lg shadow-cyber-md p-8",style:{background:"rgba(255, 255, 255, 0.9)"},children:[l==="swap"&&A.jsxs("div",{className:"space-y-4",children:[A.jsx("h4",{className:"text-lg font-semibold font-heading text-neutral-800 mb-4",children:"Private Token Swap"}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"From"}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx("input",{type:"number",placeholder:"0.00",value:w,onChange:D=>_(D.target.value),className:"flex-1 h-12 px-4 border-2 border-cyber-blue-200 rounded-md focus:outline-none focus:border-cyber-blue-500 focus:shadow-glow-primary transition-all duration-normal bg-white",step:"0.01",min:"0"}),A.jsx("button",{className:"px-4 py-2 bg-cyber-blue-50 border border-cyber-blue-200 rounded-md hover:bg-cyber-blue-100 transition-colors font-medium text-neutral-800",children:k})]})]}),A.jsx("div",{className:"flex justify-center",children:A.jsx("div",{className:"w-10 h-10 bg-gradient-cyber-primary rounded-full flex items-center justify-center shadow-cyber-md",children:A.jsx(_p,{className:"w-5 h-5 text-white"})})}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"To (estimated)"}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx("input",{type:"number",placeholder:"0.00",value:w?(parseFloat(w)*140).toFixed(2):"",readOnly:!0,className:"flex-1 h-12 px-4 border-2 border-cyber-blue-200 rounded-md bg-neutral-50 text-neutral-600"}),A.jsx("button",{className:"px-4 py-2 bg-cyber-blue-50 border border-cyber-blue-200 rounded-md hover:bg-cyber-blue-100 transition-colors font-medium text-neutral-800",children:N})]})]}),A.jsx("div",{className:"p-4 rounded-lg bg-cyber-blue-50 border border-cyber-blue-200",children:A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx(hs,{className:"w-5 h-5 text-cyber-blue-600 flex-shrink-0 mt-0.5"}),A.jsxs("div",{className:"text-sm text-cyber-blue-700",children:[A.jsx("div",{className:"font-semibold mb-1",children:"Privacy Protected Swap"}),A.jsxs("div",{children:["Transaction details will be hidden using ZK-SNARKs proof with ",r.privacyLevel," privacy level"]}),A.jsxs("div",{className:"mt-1 text-xs",children:["Est. Privacy Fee: ~",(parseFloat(w||"0")*5e-6*s()).toFixed(6)," SOL"]})]})]})}),A.jsxs(bi,{size:"large",className:"w-full",onClick:f,disabled:!n||!w||parseFloat(w)<=0||d.status==="processing",loading:d.status==="processing",children:[d.status==="processing"?"Processing Private Swap...":"Execute Private Swap",d.status!=="processing"&&A.jsx(hs,{className:"w-5 h-5"})]})]}),l==="transfer"&&A.jsxs("div",{className:"space-y-4",children:[A.jsx("h4",{className:"text-lg font-semibold font-heading text-neutral-800 mb-4",children:"Private Transfer"}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Recipient Address"}),A.jsx("input",{type:"text",placeholder:"Enter Solana address",value:T,onChange:D=>z(D.target.value),className:"w-full h-12 px-4 border-2 border-cyber-blue-200 rounded-md focus:outline-none focus:border-cyber-blue-500 focus:shadow-glow-primary transition-all duration-normal bg-white font-mono text-sm"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Amount"}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx("input",{type:"number",placeholder:"0.00",value:F,onChange:D=>U(D.target.value),className:"flex-1 h-12 px-4 border-2 border-cyber-blue-200 rounded-md focus:outline-none focus:border-cyber-blue-500 focus:shadow-glow-primary transition-all duration-normal bg-white",step:"0.01",min:"0"}),A.jsx("button",{className:"px-4 py-2 bg-cyber-blue-50 border border-cyber-blue-200 rounded-md hover:bg-cyber-blue-100 transition-colors font-medium text-neutral-800",children:G})]})]}),A.jsx("div",{className:"p-4 rounded-lg bg-cyber-cyan-400 bg-opacity-10 border border-cyber-cyan-200",children:A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx(Vu,{className:"w-5 h-5 text-cyber-cyan-600 flex-shrink-0 mt-0.5"}),A.jsxs("div",{className:"text-sm text-cyber-cyan-700",children:[A.jsx("div",{className:"font-semibold mb-1",children:"Private Transfer"}),A.jsxs("div",{children:["Sender, receiver, and amount will remain confidential with mixing level ",r.transactionMixingLevel,"/10"]}),A.jsxs("div",{className:"mt-1 text-xs",children:["Est. Privacy Fee: ~",(parseFloat(F||"0")*5e-6*s()).toFixed(6)," SOL"]})]})]})}),A.jsxs(bi,{size:"large",className:"w-full",onClick:v,disabled:!n||!T||!F||parseFloat(F)<=0||d.status==="processing",loading:d.status==="processing",children:[d.status==="processing"?"Processing Private Transfer...":"Send Privately",d.status!=="processing"&&A.jsx(Vu,{className:"w-5 h-5"})]})]}),l==="bridge"&&A.jsxs("div",{className:"space-y-4",children:[A.jsx("h4",{className:"text-lg font-semibold font-heading text-neutral-800 mb-4",children:"Cross-Chain Private Bridge"}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"From Network"}),A.jsxs("select",{className:"w-full h-12 px-4 border-2 border-cyber-blue-200 rounded-md focus:outline-none focus:border-cyber-blue-500 transition-all duration-normal bg-white",value:X,onChange:D=>de(D.target.value),children:[A.jsx("option",{children:"Solana"}),A.jsx("option",{children:"Ethereum"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"To Network"}),A.jsxs("select",{className:"w-full h-12 px-4 border-2 border-cyber-blue-200 rounded-md focus:outline-none focus:border-cyber-blue-500 transition-all duration-normal bg-white",value:le,onChange:D=>K(D.target.value),children:[A.jsx("option",{children:"Ethereum"}),A.jsx("option",{children:"Solana"}),A.jsx("option",{children:"BSC"}),A.jsx("option",{children:"Polygon"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Amount"}),A.jsx("input",{type:"number",placeholder:"0.00",value:V,onChange:D=>Y(D.target.value),className:"w-full h-12 px-4 border-2 border-cyber-blue-200 rounded-md focus:outline-none focus:border-cyber-blue-500 focus:shadow-glow-primary transition-all duration-normal bg-white",step:"0.01",min:"0"})]}),A.jsx("div",{className:"p-4 rounded-lg bg-cyber-purple-400 bg-opacity-10 border border-cyber-purple-200",children:A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx(Ku,{className:"w-5 h-5 text-cyber-purple-500 flex-shrink-0 mt-0.5"}),A.jsxs("div",{className:"text-sm text-cyber-purple-700",children:[A.jsx("div",{className:"font-semibold mb-1",children:"Privacy-Preserving Bridge"}),A.jsxs("div",{children:["Cross-chain transfer with complete privacy protection at ",r.privacyLevel," level"]}),A.jsxs("div",{className:"mt-1 text-xs",children:["Est. Privacy Fee: ~",(parseFloat(V||"0")*5e-6*s()).toFixed(6)," SOL"]})]})]})}),A.jsxs(bi,{size:"large",className:"w-full",onClick:R,disabled:!n||!V||parseFloat(V)<=0||d.status==="processing",loading:d.status==="processing",children:[d.status==="processing"?"Processing Private Bridge...":"Bridge Assets Privately",d.status!=="processing"&&A.jsx(Ku,{className:"w-5 h-5"})]})]})]})]})},wj="https://api.devnet.solana.com",Op=new qb(wj,"confirmed"),vj=async n=>{try{return await Op.getBalance(n)/Ml}catch(e){return console.error("Error getting SOL balance:",e),0}},bj=async(n,e=10)=>{try{const t=await Op.getSignaturesForAddress(n,{limit:e});return await Promise.all(t.map(async s=>{const o=await Op.getParsedTransaction(s.signature,{maxSupportedTransactionVersion:0});return{signature:s.signature,blockTime:s.blockTime,status:s.confirmationStatus,err:s.err,transaction:o}}))}catch(t){return console.error("Error getting transactions:",t),[]}},xj="https://api.jup.ag/price/v2",_j=async n=>{try{const e=n.join(","),t=await fetch(`${xj}?ids=${e}`);if(!t.ok)throw new Error("Failed to fetch token prices");const r=await t.json(),s={};return Object.entries(r.data).forEach(([o,l])=>{s[o]=l.price}),s}catch(e){return console.error("Error fetching Jupiter prices:",e),{}}},Sj=async()=>{try{return(await _j(["So11111111111111111111111111111111111111112"])).So11111111111111111111111111111111111111112||0}catch(n){return console.error("Error fetching SOL price:",n),0}},Ej=()=>{const{publicKey:n,sendTransaction:e,connected:t,connecting:r}=Rd(),{connection:s}=og(),{calculatePrivacyScore:o}=hg(),[l,u]=ie.useState(0),[d,p]=ie.useState(0),[w,_]=ie.useState(null),[k,S]=ie.useState(null),[N,C]=ie.useState([]),[T,z]=ie.useState("deposit"),[F,U]=ie.useState(""),[G,te]=ie.useState(!1),[X,de]=ie.useState([]);ie.useEffect(()=>{const I=async()=>{const v=await Sj();p(v)};I();const f=setInterval(I,3e4);return()=>clearInterval(f)},[]),ie.useEffect(()=>{n&&t&&le()},[n,t]);const le=async()=>{if(n)try{const I=await vj(n);u(I);const f=await bj(n,10);de(f);const v=await gj(n.toString(),"phantom");_(v.user.id),await K(v.user.id)}catch(I){console.error("Error loading wallet data:",I)}},K=async I=>{try{const f=await mj(I);S(f.stats),C(f.recentTransactions)}catch(f){console.error("Failed to load dashboard data:",f)}},V=async()=>{if(!(!n||!F||parseFloat(F)<=0)){te(!0);try{if(T==="deposit"||T==="withdraw"){const I=new Pe("9vHmQf7cJ2LbKxDqP3oNuM8kWzYaRsSx5vT6wB4cEfGh"),f=new Kr().add(us.transfer({fromPubkey:n,toPubkey:T==="deposit"?I:n,lamports:parseFloat(F)*Ml})),v=await e(f,s);await s.confirmTransaction(v,"confirmed"),w&&(await Rl(w,T,F,"SOL","private"),await K(w)),await le(),U(""),alert(`Transaction successful! Signature: ${v.substring(0,8)}...`)}else w&&(await Rl(w,"trade",F,"SOL","private"),await K(w)),U(""),alert("Trade simulation successful!")}catch(I){console.error("Transaction failed:",I),alert(`Transaction failed: ${I.message||"Unknown error"}`)}finally{te(!1)}}},Y=I=>`${I.substring(0,6)}...${I.substring(I.length-4)}`,Q=ie.useMemo(()=>(l*d).toFixed(2),[l,d]);return t?A.jsx("div",{className:"min-h-screen py-8 px-6 lg:px-12 bg-neutral-50",children:A.jsxs("div",{className:"max-w-7xl mx-auto",children:[A.jsx("div",{className:"backdrop-blur-xl border border-cyber-blue-200 rounded-lg shadow-cyber-md p-6 mb-8",style:{background:"rgba(255, 255, 255, 0.9)"},children:A.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"w-12 h-12 bg-gradient-cyber-primary rounded-lg flex items-center justify-center shadow-cyber-md",children:A.jsx(Fn,{className:"w-6 h-6 text-white"})}),A.jsxs("div",{children:[A.jsx("div",{className:"text-sm text-neutral-500",children:"Connected Wallet"}),A.jsx("div",{className:"font-mono text-lg font-semibold text-neutral-800",children:Y((n==null?void 0:n.toString())||"")})]})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsxs("div",{className:"px-3 py-1.5 bg-cyber-cyan-400 bg-opacity-10 text-cyber-cyan-500 border border-cyber-cyan-200 rounded-full text-sm font-medium flex items-center gap-2",children:[A.jsx("div",{className:"w-2 h-2 bg-cyber-cyan-500 rounded-full animate-pulse-glow"}),"Solana Devnet"]}),A.jsx(Vv,{className:"!bg-neutral-100 hover:!bg-neutral-200 !text-neutral-800 !h-10 !px-4 !text-sm !font-medium !rounded-md !border !border-neutral-200"})]})]})}),d>0&&A.jsx("div",{className:"backdrop-blur-xl border border-cyber-blue-200 rounded-lg p-4 mb-8 shadow-cyber-sm",style:{background:"rgba(239, 246, 255, 0.8)"},children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-8 h-8 bg-gradient-cyber-primary rounded-lg flex items-center justify-center shadow-cyber-sm",children:A.jsx(dg,{className:"w-4 h-4 text-white"})}),A.jsx("span",{className:"text-sm font-medium text-cyber-blue-700",children:"Live from Jupiter Aggregator:"})]}),A.jsxs("div",{className:"text-lg font-bold font-heading text-cyber-blue-600",children:["1 SOL = $",d.toFixed(2)," USD"]})]})}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[{label:"Wallet Balance",value:`${l.toFixed(4)} SOL`,subValue:`$${Q}`,icon:PT,gradient:"cyber-blue"},{label:"Total Transactions",value:X.length.toString(),subValue:"On-chain",icon:Yv,gradient:"cyber-purple"},{label:"Privacy Score",value:`${o()}%`,subValue:"Privacy active",icon:Fn,gradient:"cyber-cyan"},{label:"Network",value:"Devnet",subValue:"Solana",icon:hs,gradient:"cyber-blue"}].map(I=>A.jsxs("div",{className:"backdrop-blur-xl border border-cyber-blue-200 rounded-lg p-6 shadow-cyber-md hover:shadow-cyber-lg hover:-translate-y-1 transition-all duration-normal",style:{background:"rgba(255, 255, 255, 0.9)"},children:[A.jsxs("div",{className:"flex items-center justify-between mb-2",children:[A.jsx("span",{className:"text-sm text-neutral-500",children:I.label}),A.jsx("div",{className:"w-8 h-8 bg-gradient-cyber-primary rounded-lg flex items-center justify-center shadow-cyber-sm",children:A.jsx(I.icon,{className:"w-4 h-4 text-white"})})]}),A.jsx("div",{className:"text-2xl font-bold font-heading text-neutral-800",children:I.value}),I.subValue&&A.jsx("div",{className:"text-xs text-neutral-500 mt-1",children:I.subValue})]},I.label))}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[A.jsx(VT,{}),A.jsx(yj,{})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[A.jsx("div",{className:"lg:col-span-2",children:A.jsxs("div",{className:"backdrop-blur-xl border border-cyber-blue-200 rounded-lg shadow-cyber-md p-8",style:{background:"rgba(255, 255, 255, 0.9)"},children:[A.jsx("h3",{className:"text-2xl font-bold font-heading text-neutral-800 mb-6",children:"Private Transaction"}),A.jsx("div",{className:"flex gap-2 mb-6 border-b border-cyber-blue-100",children:[{id:"deposit",label:"Deposit",icon:NT},{id:"withdraw",label:"Withdraw",icon:TT},{id:"trade",label:"Trade",icon:_p}].map(I=>A.jsxs("button",{onClick:()=>z(I.id),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-all duration-normal ${T===I.id?"border-cyber-blue-500 text-cyber-blue-600":"border-transparent text-neutral-500 hover:text-cyber-blue-600"}`,children:[A.jsx(I.icon,{className:"w-4 h-4"}),I.label]},I.id))}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Amount (SOL)"}),A.jsx("input",{type:"number",value:F,onChange:I=>U(I.target.value),placeholder:"0.00",className:"w-full h-14 px-4 border-2 border-cyber-blue-200 rounded-md focus:outline-none focus:border-cyber-blue-500 focus:shadow-glow-primary transition-all duration-normal text-lg bg-white",style:{transition:"all 0.25s cubic-bezier(0.4, 0.0, 0.2, 1)"},step:"0.01",min:"0"}),F&&d>0&&A.jsxs("p",{className:"text-sm text-neutral-500 mt-2",children:[" $",(parseFloat(F)*d).toFixed(2)," USD"]})]}),A.jsx("div",{className:"backdrop-blur-xl border border-cyber-blue-200 rounded-lg p-4",style:{background:"rgba(239, 246, 255, 0.8)"},children:A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx(Fn,{className:"w-5 h-5 text-cyber-blue-600 flex-shrink-0 mt-0.5"}),A.jsxs("div",{className:"text-sm text-cyber-blue-700",children:[A.jsx("div",{className:"font-semibold mb-1",children:"Real Blockchain Transaction"}),A.jsxs("div",{children:["Transaction will execute on Solana Devnet. ",T==="deposit"?"SOL will be sent to treasury address.":T==="withdraw"?"SOL will return to your wallet.":"Trade simulation via Jupiter aggregator."]})]})]})}),A.jsx(bi,{size:"large",onClick:V,loading:G,className:"w-full",disabled:!F||parseFloat(F)<=0||parseFloat(F)>l,children:G?"Processing...":`Execute ${T}`})]})]})}),A.jsxs("div",{children:[A.jsxs("div",{className:"bg-gradient-cyber-primary rounded-lg shadow-glow-primary p-8 text-white mb-6 relative overflow-hidden",children:[A.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-10 rounded-full -mr-8 -mt-8"}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"text-sm opacity-90 mb-2",children:"Real-time Balance"}),A.jsx("div",{className:"text-4xl font-bold font-heading mb-1",children:l.toFixed(4)}),A.jsxs("div",{className:"text-sm opacity-75",children:["SOL ($",Q,")"]})]})]}),A.jsxs("div",{className:"backdrop-blur-xl border border-cyber-blue-200 rounded-lg shadow-cyber-md p-6",style:{background:"rgba(255, 255, 255, 0.9)"},children:[A.jsx("h4",{className:"text-lg font-semibold font-heading text-neutral-800 mb-4",children:"Network Status"}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("span",{className:"text-sm text-neutral-600",children:"Connection"}),A.jsx("span",{className:"px-2 py-1 bg-cyber-cyan-400 bg-opacity-10 text-cyber-cyan-600 border border-cyber-cyan-200 rounded text-xs font-medium",children:"Active"})]}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("span",{className:"text-sm text-neutral-600",children:"Network"}),A.jsx("span",{className:"text-sm font-semibold text-neutral-800",children:"Devnet"})]}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("span",{className:"text-sm text-neutral-600",children:"Wallet"}),A.jsx("span",{className:"text-sm font-semibold text-neutral-800",children:"Connected"})]})]})]})]})]}),X.length>0&&A.jsxs("div",{className:"mt-8 backdrop-blur-xl border border-cyber-blue-200 rounded-lg shadow-cyber-md p-8",style:{background:"rgba(255, 255, 255, 0.9)"},children:[A.jsx("h3",{className:"text-2xl font-bold font-heading text-neutral-800 mb-6",children:"Recent On-Chain Transactions"}),A.jsx("div",{className:"space-y-3",children:X.slice(0,5).map(I=>A.jsxs("div",{className:"flex items-center justify-between p-4 border border-cyber-blue-200 rounded-lg hover:shadow-cyber-md hover:-translate-y-0.5 transition-all duration-normal",style:{background:"rgba(255, 255, 255, 0.5)"},children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"w-10 h-10 bg-gradient-cyber-primary rounded-lg flex items-center justify-center shadow-cyber-sm",children:A.jsx(Yv,{className:"w-5 h-5 text-white"})}),A.jsxs("div",{children:[A.jsx("div",{className:"font-semibold text-neutral-800",children:"Transaction"}),A.jsx("div",{className:"text-sm text-neutral-500 font-mono",children:Y(I.signature)})]})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("div",{className:"text-sm text-neutral-600",children:I.blockTime?new Date(I.blockTime*1e3).toLocaleString():"Pending"}),I.err?A.jsx("span",{className:"px-2 py-1 bg-error-500 bg-opacity-10 text-error-500 border border-error-200 rounded text-xs font-medium",children:"Failed"}):A.jsxs("span",{className:"px-2 py-1 bg-cyber-cyan-400 bg-opacity-10 text-cyber-cyan-600 border border-cyber-cyan-200 rounded text-xs font-medium flex items-center gap-1",children:[A.jsx(ds,{className:"w-3 h-3"}),"Confirmed"]})]})]},I.signature))})]})]})}):A.jsx("div",{className:"min-h-[80vh] flex items-center justify-center px-6 bg-gradient-cyber-subtle",children:A.jsxs("div",{className:"max-w-md w-full text-center",children:[A.jsx("div",{className:"w-24 h-24 bg-gradient-cyber-primary rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-glow-primary",children:A.jsx(Fn,{className:"w-12 h-12 text-white"})}),A.jsx("h2",{className:"text-3xl font-bold font-heading text-neutral-800 mb-4",children:"Connect Your Wallet"}),A.jsx("p",{className:"text-lg text-neutral-600 mb-8 leading-relaxed",children:"Start trading with complete privacy. Connect your wallet to access Zero Knowledge protocol on Solana Devnet."}),A.jsx("div",{className:"flex justify-center",children:A.jsx(Vv,{className:"!bg-gradient-cyber-primary hover:!shadow-glow-primary !h-14 !px-6 !text-base !font-semibold !rounded-md !transition-all !duration-normal"})}),r&&A.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[A.jsx("div",{className:"w-4 h-4 bg-cyber-blue-500 rounded-full animate-pulse-glow"}),A.jsx("p",{className:"text-sm text-neutral-600",children:"Connecting to wallet..."})]}),A.jsx("p",{className:"text-sm text-neutral-500 mt-4",children:"Devnet mode: Connect Phantom, Solflare, or other Solana-compatible wallets"})]})})},kj=()=>A.jsx(KT,{children:A.jsx(Ej,{})}),Aj=()=>A.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[A.jsxs("section",{className:"relative py-16 px-6 lg:px-12 overflow-hidden",children:[A.jsx("div",{className:"absolute inset-0 bg-gradient-cyber-subtle"}),A.jsxs("div",{className:"relative max-w-4xl mx-auto text-center",children:[A.jsx("h1",{className:"text-5xl font-bold font-heading text-neutral-800 mb-4",children:"Zero Knowledge Technology"}),A.jsx("p",{className:"text-xl text-neutral-600",children:"Mathematical and cryptographic foundation that makes perfect privacy possible"})]})]}),A.jsx("section",{className:"py-24 px-6 lg:px-12 bg-white",children:A.jsx("div",{className:"max-w-7xl mx-auto",children:A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[A.jsxs("div",{children:[A.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full text-cyber-blue-700 text-sm font-medium mb-4 backdrop-blur-xl border border-cyber-blue-200",style:{background:"rgba(255, 255, 255, 0.9)"},children:[A.jsx(Zv,{className:"w-4 h-4"}),"Core Technology"]}),A.jsx("h2",{className:"text-4xl font-bold font-heading text-neutral-800 mb-6",children:"What are ZK-SNARKs?"}),A.jsx("p",{className:"text-lg text-neutral-600 mb-4 leading-relaxed",children:"Zero-Knowledge Succinct Non-Interactive Arguments of Knowledge (ZK-SNARKs) are cryptographic proof systems that enable one party (prover) to prove to another party (verifier) that a statement is true, without revealing any information beyond the truth of the statement itself."}),A.jsx("p",{className:"text-lg text-neutral-600 mb-6 leading-relaxed",children:"In the context of blockchain privacy, ZK-SNARKs enable transaction verification without revealing the sender, receiver, or amount transferred."}),A.jsx("ul",{className:"space-y-3",children:["Succinct: Proofs are extremely small (few KB)","Non-Interactive: No back-and-forth interaction required","Zero-Knowledge: No information leakage whatsoever","Sound: Extremely difficult to forge false proofs"].map(n=>A.jsxs("li",{className:"flex items-start gap-3",children:[A.jsx("div",{className:"w-6 h-6 bg-gradient-cyber-primary rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 shadow-cyber-sm",children:A.jsx(ds,{className:"w-4 h-4 text-white"})}),A.jsx("span",{className:"text-neutral-600",children:n})]},n))})]}),A.jsxs("div",{className:"backdrop-blur-xl border border-cyber-blue-200 rounded-lg p-8 shadow-cyber-md",style:{background:"rgba(255, 255, 255, 0.9)"},children:[A.jsxs("div",{className:"bg-gradient-cyber-subtle border border-cyber-blue-100 rounded-lg p-6 mb-4",children:[A.jsx("div",{className:"text-sm text-neutral-500 mb-2",children:"Mathematical Foundation"}),A.jsxs("div",{className:"font-mono text-sm text-neutral-800",children:[" = (A, B, C)",A.jsx("br",{}),"e(A, B) = e(, )  e(L, )  e(C, )"]})]}),A.jsx("p",{className:"text-sm text-neutral-600",children:"Elliptic curve pairing is used to verify proofs with minimal computational cost"})]})]})})}),A.jsx("section",{className:"py-24 px-6 lg:px-12 bg-gradient-cyber-subtle",children:A.jsxs("div",{className:"max-w-7xl mx-auto",children:[A.jsx("h2",{className:"text-4xl font-bold font-heading text-center text-neutral-800 mb-16",children:"Why Solana?"}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{title:"High Performance",description:"Solana processes 65,000 TPS with <1 second finality, ideal for private transactions requiring speed.",icon:hs},{title:"Low Cost",description:"Average transaction fee of $0.00025, making privacy transactions affordable for all users.",icon:hd},{title:"Developer Friendly",description:"Rust-based smart contracts with extensive tooling and documentation for ZK implementations.",icon:Zv}].map(n=>A.jsxs("div",{className:"backdrop-blur-xl border border-cyber-blue-200 rounded-lg p-8 shadow-cyber-md hover:shadow-cyber-lg hover:-translate-y-2 transition-all duration-normal",style:{background:"rgba(255, 255, 255, 0.9)"},children:[A.jsx("div",{className:"w-14 h-14 bg-gradient-cyber-primary rounded-lg flex items-center justify-center mb-6 shadow-cyber-md",children:A.jsx(n.icon,{className:"w-7 h-7 text-white"})}),A.jsx("h3",{className:"text-xl font-semibold font-heading text-neutral-800 mb-3",children:n.title}),A.jsx("p",{className:"text-neutral-600 leading-relaxed",children:n.description})]},n.title))})]})}),A.jsx("section",{className:"py-24 px-6 lg:px-12 bg-white",children:A.jsxs("div",{className:"max-w-6xl mx-auto",children:[A.jsx("h2",{className:"text-4xl font-bold font-heading text-center text-neutral-800 mb-16",children:"Transaction Architecture"}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-0.5 bg-cyber-blue-100 -translate-y-1/2 hidden lg:block"}),A.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 relative",children:[{title:"Proof Generation",description:"Client-side generation using proving key. Input: transaction data + witness.",time:"~500ms"},{title:"Verification",description:"On-chain verification using verification key. Extremely fast (<1ms).",time:"<1ms"},{title:"Settlement",description:"Solana finalization with confirmed transaction hash and on-chain privacy guarantee.",time:"~400ms"}].map((n,e)=>A.jsx("div",{className:"relative",children:A.jsxs("div",{className:"backdrop-blur-xl border-2 border-cyber-blue-500 rounded-lg p-8 shadow-cyber-lg relative z-10",style:{background:"rgba(255, 255, 255, 0.95)"},children:[A.jsx("div",{className:"w-12 h-12 bg-gradient-cyber-primary text-white rounded-full flex items-center justify-center font-bold text-xl mb-4 shadow-glow-primary",children:e+1}),A.jsx("h3",{className:"text-xl font-semibold font-heading text-neutral-800 mb-2",children:n.title}),A.jsx("p",{className:"text-neutral-600 mb-4 leading-relaxed",children:n.description}),A.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-cyber-cyan-400 bg-opacity-10 text-cyber-cyan-600 border border-cyber-cyan-200 rounded-full text-sm font-medium",children:[A.jsx(hs,{className:"w-4 h-4"}),n.time]})]})},n.title))})]})]})}),A.jsx("section",{className:"py-24 px-6 lg:px-12 bg-gradient-cyber-subtle",children:A.jsxs("div",{className:"max-w-7xl mx-auto",children:[A.jsx("h2",{className:"text-4xl font-bold font-heading text-center text-neutral-800 mb-16",children:"Cryptographic Components"}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{title:"Pedersen Commitments",description:"Cryptographic commitment scheme that is perfectly hiding and computationally binding. Used to commit transaction values without revealing.",formula:"C = g^v  h^r"},{title:"Range Proofs",description:"Proves that a committed value is within a certain range (e.g., non-negative) without revealing the value itself.",formula:"v  [0, 2^n]"},{title:"Nullifiers",description:"Unique identifier to prevent double-spending in private transactions, derived from secret spending key.",formula:"nf = PRF(sk, )"}].map(n=>A.jsxs("div",{className:"backdrop-blur-xl border border-cyber-blue-200 rounded-lg p-8 shadow-cyber-md hover:shadow-cyber-lg transition-all duration-normal",style:{background:"rgba(255, 255, 255, 0.9)"},children:[A.jsx("div",{className:"w-12 h-12 bg-gradient-cyber-subtle rounded-lg flex items-center justify-center mb-6 border border-cyber-blue-100",children:A.jsx(Ku,{className:"w-6 h-6 text-cyber-blue-600"})}),A.jsx("h3",{className:"text-xl font-semibold font-heading text-neutral-800 mb-3",children:n.title}),A.jsx("p",{className:"text-neutral-600 mb-4 leading-relaxed",children:n.description}),A.jsx("div",{className:"bg-gradient-cyber-subtle px-4 py-2 rounded font-mono text-sm text-neutral-800 border border-cyber-blue-100",children:n.formula})]},n.title))})]})}),A.jsx("section",{className:"py-24 px-6 lg:px-12 bg-white",children:A.jsxs("div",{className:"max-w-5xl mx-auto",children:[A.jsx("h2",{className:"text-4xl font-bold font-heading text-center text-neutral-800 mb-16",children:"Performance Benchmarks"}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[{metric:"Proof Generation Time",value:"500-800ms",description:"Client-side computation"},{metric:"Verification Time",value:"<1ms",description:"On-chain verification"},{metric:"Proof Size",value:"~200 bytes",description:"Extremely compact"},{metric:"Transaction Throughput",value:"~100 TPS",description:"With ZK verification"}].map(n=>A.jsxs("div",{className:"backdrop-blur-xl border border-cyber-blue-200 rounded-lg p-8 shadow-cyber-md",style:{background:"rgba(255, 255, 255, 0.9)"},children:[A.jsx("div",{className:"text-sm text-neutral-500 mb-2",children:n.metric}),A.jsx("div",{className:"text-4xl font-bold font-heading text-cyber-blue-600 mb-2",children:n.value}),A.jsx("div",{className:"text-sm text-neutral-600",children:n.description})]},n.metric))})]})}),A.jsxs("section",{className:"relative py-24 px-6 lg:px-12 overflow-hidden",children:[A.jsx("div",{className:"absolute inset-0 bg-gradient-cyber-subtle"}),A.jsxs("div",{className:"relative max-w-4xl mx-auto text-center",children:[A.jsx("h2",{className:"text-4xl font-bold font-heading text-neutral-800 mb-6",children:"Developer Resources"}),A.jsx("p",{className:"text-lg text-neutral-600 mb-8 leading-relaxed",children:"Complete documentation and tools to build with Zero Knowledge privacy"}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{label:"Documentation",url:"#"},{label:"GitHub",url:"#"},{label:"API Reference",url:"#"}].map(n=>A.jsx("a",{href:n.url,className:"backdrop-blur-xl border border-cyber-blue-200 py-4 px-6 rounded-lg font-semibold text-neutral-800 hover:shadow-cyber-md hover:-translate-y-1 transition-all duration-normal",style:{background:"rgba(255, 255, 255, 0.9)"},children:n.label},n.label))})]})]})]}),Mj=()=>A.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[A.jsxs("section",{className:"relative py-16 px-6 lg:px-12 overflow-hidden",children:[A.jsx("div",{className:"absolute inset-0 bg-gradient-cyber-subtle"}),A.jsxs("div",{className:"relative max-w-4xl mx-auto text-center",children:[A.jsx("h1",{className:"text-5xl font-bold font-heading text-neutral-800 mb-4",children:"Privacy is a Right"}),A.jsx("p",{className:"text-xl text-neutral-600",children:"We believe that everyone deserves financial privacy without compromise"})]})]}),A.jsx("section",{className:"py-24 px-6 lg:px-12 bg-white",children:A.jsxs("div",{className:"max-w-4xl mx-auto",children:[A.jsxs("div",{className:"flex items-start gap-6 mb-8",children:[A.jsx("div",{className:"w-16 h-16 bg-gradient-cyber-primary rounded-lg flex items-center justify-center flex-shrink-0 shadow-cyber-md",children:A.jsx(UT,{className:"w-8 h-8 text-white"})}),A.jsxs("div",{children:[A.jsx("h2",{className:"text-3xl font-bold font-heading text-neutral-800 mb-4",children:"Our Mission"}),A.jsx("p",{className:"text-lg text-neutral-600 mb-4 leading-relaxed",children:"We are building privacy infrastructure for DeFi that enables anyone to transact with complete privacy, without requiring trust in third parties or violating compliance requirements."}),A.jsx("p",{className:"text-lg text-neutral-600 leading-relaxed",children:"Zero Knowledge technology is the future of blockchain privacy. With mathematical guarantees and cryptographic security, we deliver privacy that truly cannot be broken."})]})]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-12",children:[{title:"Privacy First",description:"Privacy is the default, not an optional feature"},{title:"Trustless",description:"No trusted parties or backdoors"},{title:"Open Source",description:"Transparent code for community verification"}].map(n=>A.jsxs("div",{className:"backdrop-blur-xl border border-cyber-blue-200 rounded-lg p-6 shadow-cyber-md hover:shadow-cyber-lg transition-all duration-normal",style:{background:"rgba(255, 255, 255, 0.9)"},children:[A.jsx("h3",{className:"text-xl font-semibold font-heading text-neutral-800 mb-2",children:n.title}),A.jsx("p",{className:"text-neutral-600 leading-relaxed",children:n.description})]},n.title))})]})}),A.jsx("section",{className:"py-24 px-6 lg:px-12 bg-gradient-cyber-subtle",children:A.jsxs("div",{className:"max-w-6xl mx-auto",children:[A.jsxs("div",{className:"text-center mb-16",children:[A.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full text-cyber-blue-700 text-sm font-medium mb-4 backdrop-blur-xl border border-cyber-blue-200",style:{background:"rgba(255, 255, 255, 0.9)"},children:[A.jsx(CT,{className:"w-4 h-4"}),"Development Roadmap"]}),A.jsx("h2",{className:"text-4xl font-bold font-heading text-neutral-800",children:"Platform Evolution"})]}),A.jsx("div",{className:"space-y-8",children:[{quarter:"Q1 2025",status:"Completed",items:["ZK-SNARK implementation for Solana","Basic private transfer functionality","Devnet testing and security audit"]},{quarter:"Q2 2025",status:"In Progress",items:["Jupiter Aggregator integration for private swaps","Cross-chain bridge (Ethereum  Solana)","Mobile wallet support"]},{quarter:"Q3 2025",status:"Planned",items:["Advanced privacy features (mixing, anonymity sets)","Mainnet beta launch","DAO governance implementation"]},{quarter:"Q4 2025",status:"Planned",items:["Full mainnet launch","Multi-chain expansion (BSC, Polygon)","Institutional partnerships"]}].map(n=>A.jsxs("div",{className:"backdrop-blur-xl border border-cyber-blue-200 rounded-lg shadow-cyber-md p-8 hover:shadow-cyber-lg transition-all duration-normal",style:{background:"rgba(255, 255, 255, 0.9)"},children:[A.jsxs("div",{className:"flex items-center justify-between mb-6",children:[A.jsx("h3",{className:"text-2xl font-bold font-heading text-neutral-800",children:n.quarter}),A.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-medium border ${n.status==="Completed"?"bg-cyber-cyan-400 bg-opacity-10 text-cyber-cyan-600 border-cyber-cyan-200":n.status==="In Progress"?"bg-warning-500 bg-opacity-10 text-warning-600 border-warning-200":"bg-neutral-100 text-neutral-600 border-neutral-200"}`,children:n.status})]}),A.jsx("ul",{className:"space-y-3",children:n.items.map(e=>A.jsxs("li",{className:"flex items-start gap-3",children:[A.jsx("div",{className:"w-5 h-5 bg-gradient-cyber-primary rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 shadow-cyber-sm",children:A.jsx(Fn,{className:"w-3 h-3 text-white"})}),A.jsx("span",{className:"text-neutral-600",children:e})]},e))})]},n.quarter))})]})}),A.jsx("section",{className:"py-24 px-6 lg:px-12 bg-white",children:A.jsxs("div",{className:"max-w-6xl mx-auto",children:[A.jsx("h2",{className:"text-4xl font-bold font-heading text-center text-neutral-800 mb-4",children:"Partnerships & Ecosystem"}),A.jsx("p",{className:"text-xl text-center text-neutral-600 mb-16 max-w-2xl mx-auto",children:"Collaborating with ecosystem leaders to build better privacy"}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{name:"Solana Foundation",description:"Core blockchain infrastructure partner",type:"Blockchain"},{name:"Jupiter Aggregator",description:"DEX aggregation for private swaps",type:"DeFi"},{name:"Security Auditors",description:"Third-party security verification",type:"Security"}].map(n=>A.jsxs("div",{className:"backdrop-blur-xl border border-cyber-blue-200 rounded-lg p-8 text-center shadow-cyber-md hover:shadow-cyber-lg hover:-translate-y-1 transition-all duration-normal",style:{background:"rgba(255, 255, 255, 0.9)"},children:[A.jsx("div",{className:"w-20 h-20 bg-gradient-cyber-subtle rounded-full flex items-center justify-center mx-auto mb-6 border border-cyber-blue-100",children:A.jsx(zT,{className:"w-10 h-10 text-cyber-blue-600"})}),A.jsx("h3",{className:"text-xl font-semibold font-heading text-neutral-800 mb-2",children:n.name}),A.jsx("p",{className:"text-neutral-600 mb-3 leading-relaxed",children:n.description}),A.jsx("span",{className:"inline-block px-3 py-1 bg-cyber-blue-400 bg-opacity-10 text-cyber-blue-600 border border-cyber-blue-200 rounded-full text-sm font-medium",children:n.type})]},n.name))})]})}),A.jsxs("section",{className:"relative py-24 px-6 lg:px-12 overflow-hidden",children:[A.jsx("div",{className:"absolute inset-0 bg-gradient-cyber-subtle"}),A.jsxs("div",{className:"relative max-w-4xl mx-auto",children:[A.jsxs("div",{className:"text-center mb-12",children:[A.jsx("h2",{className:"text-4xl font-bold font-heading text-neutral-800 mb-4",children:"Join Our Community"}),A.jsx("p",{className:"text-xl text-neutral-600",children:"Connect with privacy advocates and developers worldwide"})]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{platform:"Discord",members:"5,000+ members",icon:OT,link:"#"},{platform:"Twitter",members:"10K+ followers",icon:DT,link:"#"},{platform:"GitHub",members:"Open Source",icon:LT,link:"#"}].map(n=>A.jsxs("a",{href:n.link,className:"backdrop-blur-xl border border-cyber-blue-200 rounded-lg p-8 text-center shadow-cyber-md hover:shadow-cyber-lg hover:-translate-y-1 transition-all duration-normal group",style:{background:"rgba(255, 255, 255, 0.9)"},children:[A.jsx(n.icon,{className:"w-12 h-12 text-cyber-blue-600 mx-auto mb-4 group-hover:scale-110 transition-transform"}),A.jsx("h3",{className:"text-xl font-semibold font-heading text-neutral-800 mb-2",children:n.platform}),A.jsx("p",{className:"text-neutral-600",children:n.members})]},n.platform))}),A.jsxs("div",{className:"mt-12 text-center",children:[A.jsx("p",{className:"text-neutral-600 mb-4",children:"Have questions or want to collaborate?"}),A.jsx("a",{href:"mailto:hello@zkprivacy.io",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-cyber-primary text-white rounded-md font-semibold shadow-cyber-md hover:shadow-glow-primary transition-all duration-normal",children:"Contact Us"})]})]})]})]});function Ij(){return A.jsx(AT,{children:A.jsx(y2,{children:A.jsxs("div",{className:"min-h-screen bg-background-page",children:[A.jsx($T,{}),A.jsxs(u2,{children:[A.jsx(wl,{path:"/",element:A.jsx(qT,{})}),A.jsx(wl,{path:"/dashboard",element:A.jsx(kj,{})}),A.jsx(wl,{path:"/technology",element:A.jsx(Aj,{})}),A.jsx(wl,{path:"/about",element:A.jsx(Mj,{})})]})]})})})}pE.createRoot(document.getElementById("root")).render(A.jsx(ie.StrictMode,{children:A.jsx(mE,{children:A.jsx(Ij,{})})}));export{Jp as E,Pe as P,Yr as S,Kr as T,Pl as V,Ut as a,ld as b,gi as c};
